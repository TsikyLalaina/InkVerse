/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/project/[id]/chat/page";
exports.ids = ["app/project/[id]/chat/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&page=%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&appPaths=%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&pagePath=private-next-app-dir%2Fproject%2F%5Bid%5D%2Fchat%2Fpage.tsx&appDir=%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Flalaina%2FInkVerse%2Fclient&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&page=%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&appPaths=%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&pagePath=private-next-app-dir%2Fproject%2F%5Bid%5D%2Fchat%2Fpage.tsx&appDir=%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Flalaina%2FInkVerse%2Fclient&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'project',\n        {\n        children: [\n        '[id]',\n        {\n        children: [\n        'chat',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/project/[id]/chat/page.tsx */ \"(rsc)/./src/app/project/[id]/chat/page.tsx\")), \"/home/lalaina/InkVerse/client/src/app/project/[id]/chat/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/project/[id]/layout.tsx */ \"(rsc)/./src/app/project/[id]/layout.tsx\")), \"/home/lalaina/InkVerse/client/src/app/project/[id]/layout.tsx\"],\n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/home/lalaina/InkVerse/client/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/home/lalaina/InkVerse/client/src/app/project/[id]/chat/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/project/[id]/chat/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/project/[id]/chat/page\",\n        pathname: \"/project/[id]/chat\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZwcm9qZWN0JTJGJTVCaWQlNUQlMkZjaGF0JTJGcGFnZSZwYWdlPSUyRnByb2plY3QlMkYlNUJpZCU1RCUyRmNoYXQlMkZwYWdlJmFwcFBhdGhzPSUyRnByb2plY3QlMkYlNUJpZCU1RCUyRmNoYXQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcHJvamVjdCUyRiU1QmlkJTVEJTJGY2hhdCUyRnBhZ2UudHN4JmFwcERpcj0lMkZob21lJTJGbGFsYWluYSUyRklua1ZlcnNlJTJGY2xpZW50JTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGbGFsYWluYSUyRklua1ZlcnNlJTJGY2xpZW50JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsYUFBYSxzQkFBc0I7QUFDaUU7QUFDckM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1QixvTEFBcUc7QUFDNUg7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsOEtBQWtHO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLG9KQUFxRjtBQUM5RyxvQkFBb0IsME5BQWdGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUN1QjtBQUM2RDtBQUNwRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNPLHdCQUF3Qiw4R0FBa0I7QUFDakQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5rdmVyc2UtY2xpZW50Lz8yNzdhIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ3Byb2plY3QnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdbaWRdJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnY2hhdCcsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2xhbGFpbmEvSW5rVmVyc2UvY2xpZW50L3NyYy9hcHAvcHJvamVjdC9baWRdL2NoYXQvcGFnZS50c3hcIiksIFwiL2hvbWUvbGFsYWluYS9JbmtWZXJzZS9jbGllbnQvc3JjL2FwcC9wcm9qZWN0L1tpZF0vY2hhdC9wYWdlLnRzeFwiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvbGFsYWluYS9JbmtWZXJzZS9jbGllbnQvc3JjL2FwcC9wcm9qZWN0L1tpZF0vbGF5b3V0LnRzeFwiKSwgXCIvaG9tZS9sYWxhaW5hL0lua1ZlcnNlL2NsaWVudC9zcmMvYXBwL3Byb2plY3QvW2lkXS9sYXlvdXQudHN4XCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvbGFsYWluYS9JbmtWZXJzZS9jbGllbnQvc3JjL2FwcC9sYXlvdXQudHN4XCIpLCBcIi9ob21lL2xhbGFpbmEvSW5rVmVyc2UvY2xpZW50L3NyYy9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL2hvbWUvbGFsYWluYS9JbmtWZXJzZS9jbGllbnQvc3JjL2FwcC9wcm9qZWN0L1tpZF0vY2hhdC9wYWdlLnRzeFwiXTtcbmV4cG9ydCB7IHRyZWUsIHBhZ2VzIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeVwiO1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL3Byb2plY3QvW2lkXS9jaGF0L3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvcHJvamVjdC9baWRdL2NoYXQvcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvcHJvamVjdC9baWRdL2NoYXRcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&page=%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&appPaths=%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&pagePath=private-next-app-dir%2Fproject%2F%5Bid%5D%2Fchat%2Fpage.tsx&appDir=%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Flalaina%2FInkVerse%2Fclient&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZsYWxhaW5hJTJGSW5rVmVyc2UlMkZjbGllbnQlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZhcHAtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZsYWxhaW5hJTJGSW5rVmVyc2UlMkZjbGllbnQlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGbGFsYWluYSUyRklua1ZlcnNlJTJGY2xpZW50JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRmxhbGFpbmElMkZJbmtWZXJzZSUyRmNsaWVudCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmxheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRmxhbGFpbmElMkZJbmtWZXJzZSUyRmNsaWVudCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGbGFsYWluYSUyRklua1ZlcnNlJTJGY2xpZW50JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXlIO0FBQ3pIO0FBQ0Esb09BQTBIO0FBQzFIO0FBQ0EsME9BQTZIO0FBQzdIO0FBQ0Esd09BQTRIO0FBQzVIO0FBQ0Esa1BBQWlJO0FBQ2pJO0FBQ0Esc1FBQTJJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5rdmVyc2UtY2xpZW50Lz8zY2Q1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvbGFsYWluYS9JbmtWZXJzZS9jbGllbnQvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9sYWxhaW5hL0lua1ZlcnNlL2NsaWVudC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2NsaWVudC1wYWdlLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9sYWxhaW5hL0lua1ZlcnNlL2NsaWVudC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9sYWxhaW5hL0lua1ZlcnNlL2NsaWVudC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2xheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2xhbGFpbmEvSW5rVmVyc2UvY2xpZW50L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9sYWxhaW5hL0lua1ZlcnNlL2NsaWVudC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3JlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fcomponents%2Fproviders%2FSupabaseProvider.tsx%22%2C%22ids%22%3A%5B%22SupabaseProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fcomponents%2Fpwa%2FRegisterSW.tsx%22%2C%22ids%22%3A%5B%22RegisterSW%22%5D%7D&server=true!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fcomponents%2Fproviders%2FSupabaseProvider.tsx%22%2C%22ids%22%3A%5B%22SupabaseProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fcomponents%2Fpwa%2FRegisterSW.tsx%22%2C%22ids%22%3A%5B%22RegisterSW%22%5D%7D&server=true! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/providers/SupabaseProvider.tsx */ \"(ssr)/./src/components/providers/SupabaseProvider.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/pwa/RegisterSW.tsx */ \"(ssr)/./src/components/pwa/RegisterSW.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZsYWxhaW5hJTJGSW5rVmVyc2UlMkZjbGllbnQlMkZzcmMlMkZhcHAlMkZnbG9iYWxzLmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGbGFsYWluYSUyRklua1ZlcnNlJTJGY2xpZW50JTJGc3JjJTJGY29tcG9uZW50cyUyRnByb3ZpZGVycyUyRlN1cGFiYXNlUHJvdmlkZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyU3VwYWJhc2VQcm92aWRlciUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGbGFsYWluYSUyRklua1ZlcnNlJTJGY2xpZW50JTJGc3JjJTJGY29tcG9uZW50cyUyRnB3YSUyRlJlZ2lzdGVyU1cudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyUmVnaXN0ZXJTVyUyMiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsME1BQXNKO0FBQ3RKO0FBQ0Esa0xBQW9JIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5rdmVyc2UtY2xpZW50Lz9hZWFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiU3VwYWJhc2VQcm92aWRlclwiXSAqLyBcIi9ob21lL2xhbGFpbmEvSW5rVmVyc2UvY2xpZW50L3NyYy9jb21wb25lbnRzL3Byb3ZpZGVycy9TdXBhYmFzZVByb3ZpZGVyLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiUmVnaXN0ZXJTV1wiXSAqLyBcIi9ob21lL2xhbGFpbmEvSW5rVmVyc2UvY2xpZW50L3NyYy9jb21wb25lbnRzL3B3YS9SZWdpc3RlclNXLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fcomponents%2Fproviders%2FSupabaseProvider.tsx%22%2C%22ids%22%3A%5B%22SupabaseProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fcomponents%2Fpwa%2FRegisterSW.tsx%22%2C%22ids%22%3A%5B%22RegisterSW%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp%2Fproject%2F%5Bid%5D%2Fchat%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp%2Fproject%2F%5Bid%5D%2Fchat%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/project/[id]/chat/page.tsx */ \"(ssr)/./src/app/project/[id]/chat/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZsYWxhaW5hJTJGSW5rVmVyc2UlMkZjbGllbnQlMkZzcmMlMkZhcHAlMkZwcm9qZWN0JTJGJTVCaWQlNUQlMkZjaGF0JTJGcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLG9MQUFxRyIsInNvdXJjZXMiOlsid2VicGFjazovL2lua3ZlcnNlLWNsaWVudC8/YjA5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2xhbGFpbmEvSW5rVmVyc2UvY2xpZW50L3NyYy9hcHAvcHJvamVjdC9baWRdL2NoYXQvcGFnZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp%2Fproject%2F%5Bid%5D%2Fchat%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./src/app/project/[id]/chat/page.tsx":
/*!********************************************!*\
  !*** ./src/app/project/[id]/chat/page.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProjectChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_workspace_Workspace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/workspace/Workspace */ \"(ssr)/./src/components/workspace/Workspace.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction ProjectChatPage() {\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams)();\n    const projectId = params?.id;\n    if (!projectId) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_workspace_Workspace__WEBPACK_IMPORTED_MODULE_2__.Workspace, {\n        projectId: projectId\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/app/project/[id]/chat/page.tsx\",\n        lineNumber: 10,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL3Byb2plY3QvW2lkXS9jaGF0L3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUU0QztBQUNpQjtBQUU5QyxTQUFTRTtJQUN0QixNQUFNQyxTQUFTSCwwREFBU0E7SUFDeEIsTUFBTUksWUFBWUQsUUFBUUU7SUFDMUIsSUFBSSxDQUFDRCxXQUFXLE9BQU87SUFDdkIscUJBQU8sOERBQUNILHNFQUFTQTtRQUFDRyxXQUFXQTs7Ozs7O0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5rdmVyc2UtY2xpZW50Ly4vc3JjL2FwcC9wcm9qZWN0L1tpZF0vY2hhdC9wYWdlLnRzeD85MzgwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VQYXJhbXMgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgV29ya3NwYWNlIH0gZnJvbSAnQC9jb21wb25lbnRzL3dvcmtzcGFjZS9Xb3Jrc3BhY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcm9qZWN0Q2hhdFBhZ2UoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtczx7IGlkOiBzdHJpbmcgfT4oKTtcbiAgY29uc3QgcHJvamVjdElkID0gcGFyYW1zPy5pZCBhcyBzdHJpbmc7XG4gIGlmICghcHJvamVjdElkKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIDxXb3Jrc3BhY2UgcHJvamVjdElkPXtwcm9qZWN0SWR9IC8+O1xufVxuXG4iXSwibmFtZXMiOlsidXNlUGFyYW1zIiwiV29ya3NwYWNlIiwiUHJvamVjdENoYXRQYWdlIiwicGFyYW1zIiwicHJvamVjdElkIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/app/project/[id]/chat/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/chat/Chat.tsx":
/*!**************************************!*\
  !*** ./src/components/chat/Chat.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: () => (/* binding */ Chat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dnd */ \"(ssr)/./node_modules/react-dnd/dist/core/DndProvider.js\");\n/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-dnd-html5-backend */ \"(ssr)/./node_modules/react-dnd-html5-backend/dist/index.js\");\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(ssr)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _ChatBubble__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChatBubble */ \"(ssr)/./src/components/chat/ChatBubble.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpRight_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpRight,ChevronDown!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpRight_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpRight,ChevronDown!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-up-right.js\");\n/* __next_internal_client_entry_do_not_use__ Chat auto */ \n\n\n\n\n\n\n\nfunction Chat({ chatId, projectId, chatType = \"plot\", initialMessages = [] }) {\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_4__.createApi)(supabase), [\n        supabase\n    ]);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialMessages);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [streaming, setStreaming] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [inputError, setInputError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const listRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const modeMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const modeMenuListRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [saveError, setSaveError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pendingMode, setPendingMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pendingSettings, setPendingSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [toastMsg, setToastMsg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const apiBase = \"http://localhost:3000\" || 0;\n    const [loadingHistory, setLoadingHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [clientMode, setClientMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"chat\");\n    const [modeMenuOpen, setModeMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [modeMenuIndex, setModeMenuIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const cacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_chat_${chatId}_messages`, [\n        chatId\n    ]);\n    const [hasCache, setHasCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(messages);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        listRef.current?.scrollTo({\n            top: listRef.current.scrollHeight,\n            behavior: \"smooth\"\n        });\n    }, [\n        messages.length\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const s =  false ? 0 : null;\n            if (s) {\n                const arr = JSON.parse(s);\n                if (Array.isArray(arr)) {\n                    setMessages(arr);\n                    setHasCache(arr.length > 0);\n                }\n            }\n        } catch  {}\n    }, [\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // If parent provides messages later, set them only if list is empty\n        if (initialMessages.length && messages.length === 0) {\n            setMessages(initialMessages);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        initialMessages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasCache) {\n                return;\n            }\n            try {\n                if (!hasCache) setLoadingHistory(true);\n                const history = await api.getChatMessagesByChatId(chatId);\n                if (!mounted) return;\n                const next = Array.isArray(history) ? history : [];\n                // Skip update if no change to avoid flicker\n                try {\n                    if (hasCache && JSON.stringify(next) === JSON.stringify(messagesRef.current)) {\n                        return;\n                    }\n                } catch  {}\n                setMessages(next);\n            } catch  {\n            // swallow network errors during initial hydration/revalidation\n            } finally{\n                if (mounted) setLoadingHistory(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        chatId,\n        hasCache\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        messages,\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        messagesRef.current = messages;\n    }, [\n        messages\n    ]);\n    // Auto-resize textarea height with content, up to a max then scroll\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = inputRef.current;\n        if (!el) return;\n        el.style.height = \"auto\";\n        const max = 256; // px max height before scroll\n        const next = Math.min(el.scrollHeight, max);\n        el.style.height = `${next}px`;\n    }, [\n        input\n    ]);\n    // Close mode menu on outside click\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onDocClick(e) {\n            if (!modeMenuOpen) return;\n            const t = e.target;\n            if (modeMenuRef.current && t && !modeMenuRef.current.contains(t)) {\n                setModeMenuOpen(false);\n            }\n        }\n        document.addEventListener(\"mousedown\", onDocClick);\n        return ()=>document.removeEventListener(\"mousedown\", onDocClick);\n    }, [\n        modeMenuOpen\n    ]);\n    // Keyboard: open/close menu and navigate options\n    const onModeButtonKeyDown = (e)=>{\n        if (e.key === \"ArrowDown\" || e.key === \"Enter\" || e.key === \" \") {\n            e.preventDefault();\n            setModeMenuIndex(clientMode === \"chat\" ? 0 : 1);\n            setModeMenuOpen(true);\n        } else if (e.key === \"Escape\") {\n            setModeMenuOpen(false);\n        }\n    };\n    const onMenuKeyDown = (e)=>{\n        if (e.key === \"ArrowDown\") {\n            e.preventDefault();\n            setModeMenuIndex((i)=>(i + 1) % 2);\n        } else if (e.key === \"ArrowUp\") {\n            e.preventDefault();\n            setModeMenuIndex((i)=>(i + 1 + 2) % 2);\n        } else if (e.key === \"Enter\") {\n            e.preventDefault();\n            if (modeMenuIndex === 0) setClientMode(\"chat\");\n            else setClientMode(\"action\");\n            setModeMenuOpen(false);\n        } else if (e.key === \"Escape\") {\n            setModeMenuOpen(false);\n        }\n    };\n    // Shortcut: Ctrl+L focuses input\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onKey(e) {\n            if ((e.ctrlKey || e.metaKey) && (e.key === \"l\" || e.key === \"L\")) {\n                e.preventDefault();\n                inputRef.current?.focus();\n            }\n        }\n        window.addEventListener(\"keydown\", onKey);\n        return ()=>window.removeEventListener(\"keydown\", onKey);\n    }, []);\n    // Focus menu container when opened for keyboard nav\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (modeMenuOpen) {\n            setTimeout(()=>modeMenuListRef.current?.focus(), 0);\n        }\n    }, [\n        modeMenuOpen\n    ]);\n    const send = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (opts)=>{\n        const text = (opts?.messageOverride ?? input).trim();\n        if (!text && !opts?.regeneratePanelId) {\n            setInputError('Prompt is empty. Try something like: \"Write the opening scene of a dark fantasy.\"');\n            return;\n        }\n        setInputError(null);\n        const { data: { session } } = await supabase.auth.getSession();\n        const token = session?.access_token;\n        if (!token) return;\n        const userMessage = {\n            role: \"user\",\n            content: text,\n            panelId: opts?.regeneratePanelId || null\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInput(\"\");\n        setStreaming(true);\n        // Mentions parsing: @chapter<number> or @\"exact title\"\n        const mNum = /@chapter\\s*([0-9]+)/i.exec(text) || /@chapter_?([0-9]+)/i.exec(text);\n        const mTitle = /@\"([^\"]+)\"/.exec(text);\n        const mentions = {};\n        if (mNum?.[1]) mentions.chapter_number = parseInt(mNum[1], 10);\n        if (mTitle?.[1]) mentions.title = mTitle[1];\n        const res = await fetch(`${apiBase}/api/chat/${chatId}`, {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${token}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                message: userMessage.content,\n                regeneratePanelId: opts?.regeneratePanelId || undefined,\n                clientMode,\n                mentions\n            })\n        });\n        if (!res.body) {\n            setStreaming(false);\n            return;\n        }\n        // Push empty assistant message to stream into\n        let assistantIndex = -1;\n        setMessages((prev)=>{\n            assistantIndex = prev.length;\n            return [\n                ...prev,\n                {\n                    role: \"assistant\",\n                    content: \"\"\n                }\n            ];\n        });\n        const reader = res.body.getReader();\n        const decoder = new TextDecoder();\n        try {\n            while(true){\n                const { value, done } = await reader.read();\n                if (done) break;\n                const chunk = decoder.decode(value, {\n                    stream: true\n                });\n                for (const line of chunk.split(\"\\n\")){\n                    const trimmed = line.trim();\n                    if (!trimmed.startsWith(\"data:\")) continue;\n                    const data = trimmed.slice(5).trim();\n                    if (!data) continue;\n                    try {\n                        const evt = JSON.parse(data);\n                        if (evt.type === \"text\" && evt.content) {\n                            setMessages((prev)=>{\n                                const copy = [\n                                    ...prev\n                                ];\n                                const msg = copy[assistantIndex];\n                                copy[assistantIndex] = {\n                                    ...msg,\n                                    content: (msg?.content || \"\") + evt.content\n                                };\n                                return copy;\n                            });\n                        } else if (evt.type === \"image\" && evt.url) {\n                            setMessages((prev)=>{\n                                const copy = [\n                                    ...prev\n                                ];\n                                const current = copy[assistantIndex];\n                                if (assistantIndex >= 0 && current && (current.content || \"\") === \"\" && !current.imageUrl) {\n                                    copy[assistantIndex] = {\n                                        ...current,\n                                        imageUrl: evt.url,\n                                        content: \"\"\n                                    };\n                                } else {\n                                    copy.push({\n                                        role: \"assistant\",\n                                        content: \"\",\n                                        imageUrl: evt.url\n                                    });\n                                }\n                                return copy;\n                            });\n                        } else if (evt.action === \"create_chapter\") {\n                            if (chatType !== \"plot\") {} else if (false) {}\n                        } else if (evt.action === \"confirm_mode\" && evt.mode) {\n                            setPendingMode(evt.mode);\n                            setMessages((prev)=>[\n                                    ...prev,\n                                    {\n                                        role: \"assistant\",\n                                        content: `Pending mode change to \"${evt.mode}\". Confirm?`\n                                    }\n                                ]);\n                        } else if (evt.action === \"confirm_settings\" && evt.changes) {\n                            if (clientMode === \"action\" && chatType === \"plot\") {\n                                setPendingSettings(evt.changes);\n                                setMessages((prev)=>[\n                                        ...prev,\n                                        {\n                                            role: \"assistant\",\n                                            content: \"Pending settings update detected. Confirm to apply changes.\"\n                                        }\n                                    ]);\n                            } // ignore in Chat mode for safety\n                        } else if (evt.type === \"image_job\") {\n                        // Optionally reflect job queued state\n                        } else if (evt.action === \"convert_to_manhwa\") {\n                            if (chatType !== \"plot\") {} else if (false) {}\n                        } else if (evt.action === \"update_chapter\") {\n                            if (chatType !== \"plot\") {} else if (false) {}\n                        } else if (evt.action === \"upsert_character\" && evt.item) {\n                            if (chatType !== \"character\") {} else if (false) {}\n                        } else if (evt.action === \"upsert_world\" && evt.item) {\n                            if (chatType !== \"world\") {} else if (false) {}\n                        } else if (evt.type === \"error\") {\n                            // Append error to conversation\n                            setMessages((prev)=>[\n                                    ...prev,\n                                    {\n                                        role: \"assistant\",\n                                        content: `Error: ${evt.message}`\n                                    }\n                                ]);\n                        } else if (evt.type === \"done\") {\n                            setStreaming(false);\n                        }\n                    } catch  {\n                    // ignore partial json lines\n                    }\n                }\n            }\n        } finally{\n            setStreaming(false);\n            reader.releaseLock();\n        }\n    }, [\n        apiBase,\n        input,\n        chatId,\n        supabase,\n        clientMode,\n        chatType\n    ]);\n    const onRegenerate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((panelId)=>{\n        void send({\n            regeneratePanelId: panelId\n        });\n    }, [\n        send\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_dnd__WEBPACK_IMPORTED_MODULE_5__.DndProvider, {\n        backend: react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_6__.HTML5Backend,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full flex flex-col bg-bg-elevated\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: listRef,\n                    className: \"flex-1 min-h-0 overflow-y-auto space-y-4 p-4\",\n                    children: [\n                        loadingHistory && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-secondary\",\n                            children: \"Loading previous messages\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 319,\n                            columnNumber: 13\n                        }, this),\n                        messages.map((m, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatBubble__WEBPACK_IMPORTED_MODULE_3__.ChatBubble, {\n                                role: m.role,\n                                content: m.content,\n                                panelId: m.panelId,\n                                imageUrl: m.imageUrl || undefined,\n                                onRegenerate: onRegenerate,\n                                draggable: Boolean(m.panelId)\n                            }, i, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                lineNumber: 322,\n                                columnNumber: 13\n                            }, this)),\n                        streaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-secondary animate-pulse\",\n                            children: \"AI is typing\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 333,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                    lineNumber: 317,\n                    columnNumber: 9\n                }, this),\n                toastMsg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed top-3 right-3 z-50\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-3 py-2 rounded bg-slate-950/90 border border-slate-800 text-slate-100 text-sm shadow-lg\",\n                        children: toastMsg\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                        lineNumber: 339,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                    lineNumber: 338,\n                    columnNumber: 9\n                }, this),\n                (pendingMode || pendingSettings) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t border-border-default p-3 flex items-center justify-between gap-3 bg-bg-primary\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-primary\",\n                            children: [\n                                pendingMode && `Confirm mode change to \"${pendingMode}\"?`,\n                                pendingSettings && !pendingMode && \"Confirm applying pending settings changes?\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 347,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"px-3 py-1.5 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                    onClick: ()=>{\n                                        setPendingMode(null);\n                                        setPendingSettings(null);\n                                    },\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                    lineNumber: 352,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"px-3 py-1.5 rounded-md bg-accent hover:bg-accent-hover text-white disabled:opacity-50 transition-all duration-150\",\n                                    disabled: saving || clientMode !== \"action\",\n                                    onClick: async ()=>{\n                                        setSaving(true);\n                                        setSaveError(null);\n                                        try {\n                                            if (pendingMode) {\n                                                // Persist mode via settings endpoint\n                                                await api.updateProjectSettings(projectId, {\n                                                    mode: pendingMode\n                                                });\n                                                if (false) {}\n                                                setMessages((prev)=>[\n                                                        ...prev,\n                                                        {\n                                                            role: \"assistant\",\n                                                            content: `Mode updated to ${pendingMode}.`\n                                                        }\n                                                    ]);\n                                                setPendingMode(null);\n                                                if (toastTimer.current) clearTimeout(toastTimer.current);\n                                                setToastMsg(\"Mode saved\");\n                                                toastTimer.current = setTimeout(()=>setToastMsg(\"\"), 3000);\n                                            } else if (pendingSettings) {\n                                                // Persist full settings payload including title/description/coverImage/genre/coreConflict/mode/settingsJson\n                                                await api.updateProjectSettings(projectId, pendingSettings);\n                                                if (false) {}\n                                                setMessages((prev)=>[\n                                                        ...prev,\n                                                        {\n                                                            role: \"assistant\",\n                                                            content: \"Settings updated.\"\n                                                        }\n                                                    ]);\n                                                setPendingSettings(null);\n                                                // Toast from chat confirm\n                                                if (toastTimer.current) clearTimeout(toastTimer.current);\n                                                setToastMsg(\"Settings saved\");\n                                                toastTimer.current = setTimeout(()=>setToastMsg(\"\"), 3000);\n                                            }\n                                        } catch (e) {\n                                            setSaveError(e?.message || \"Failed to save\");\n                                            setMessages((prev)=>[\n                                                    ...prev,\n                                                    {\n                                                        role: \"assistant\",\n                                                        content: `Error persisting changes: ${e?.message || \"Failed to save\"}`\n                                                    }\n                                                ]);\n                                        } finally{\n                                            setSaving(false);\n                                        }\n                                    },\n                                    children: \"Confirm\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                    lineNumber: 358,\n                                    columnNumber: 15\n                                }, this),\n                                clientMode !== \"action\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[11px] text-text-tertiary\",\n                                    children: \"Switch to Action mode to apply\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                    lineNumber: 400,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 351,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                    lineNumber: 346,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t border-border-default p-3 bg-bg-primary\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-3 items-end\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                        ref: inputRef,\n                                        value: input,\n                                        onChange: (e)=>setInput(e.target.value),\n                                        placeholder: \"Chat with Cascade\",\n                                        rows: 2,\n                                        className: \"w-full bg-bg-elevated border border-border-default rounded-2xl pl-12 pr-12 pt-2 pb-16 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent resize-none min-h-[80px] max-h-72 overflow-y-auto transition-colors duration-150\",\n                                        onKeyDown: (e)=>{\n                                            if (e.key === \"Enter\" && !e.shiftKey) {\n                                                e.preventDefault();\n                                                void send();\n                                            }\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                        lineNumber: 410,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute left-2 bottom-2\",\n                                        ref: modeMenuRef,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                className: `text-xs px-3 py-2 rounded-lg border border-border-default ${clientMode === \"chat\" ? \"text-success\" : \"text-accent\"} bg-bg-elevated hover:bg-bg-hover inline-flex items-center gap-1.5 transition-all duration-150`,\n                                                onClick: ()=>{\n                                                    setModeMenuIndex(clientMode === \"chat\" ? 0 : 1);\n                                                    setModeMenuOpen((v)=>!v);\n                                                },\n                                                \"aria-haspopup\": \"menu\",\n                                                \"aria-expanded\": modeMenuOpen,\n                                                onKeyDown: onModeButtonKeyDown,\n                                                title: \"Mode\",\n                                                children: [\n                                                    clientMode === \"chat\" ? \"Chat\" : \"Action\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpRight_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                        className: \"w-3 h-3\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                        lineNumber: 436,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                lineNumber: 426,\n                                                columnNumber: 17\n                                            }, this),\n                                            modeMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full mb-2 left-0 w-64 rounded-lg border border-border-default bg-bg-elevated shadow-elevation p-1.5 text-xs text-text-primary z-20\",\n                                                role: \"menu\",\n                                                tabIndex: -1,\n                                                ref: modeMenuListRef,\n                                                onKeyDown: onMenuKeyDown,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: `w-full text-left px-3 py-2.5 rounded-md hover:bg-bg-hover transition-all duration-150 ${modeMenuIndex === 0 ? \"ring-1 ring-accent\" : \"\"} ${clientMode === \"chat\" ? \"bg-bg-hover\" : \"\"}`,\n                                                        onClick: ()=>{\n                                                            setClientMode(\"chat\");\n                                                            setModeMenuOpen(false);\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"font-semibold text-text-primary\",\n                                                                children: \"Chat\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                                lineNumber: 450,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-text-tertiary text-[11px] mt-0.5\",\n                                                                children: \"Brainstorm, outline, preview. No writes.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                                lineNumber: 451,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                        lineNumber: 446,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: `w-full text-left px-3 py-2.5 rounded-md hover:bg-bg-hover transition-all duration-150 mt-1 ${modeMenuIndex === 1 ? \"ring-1 ring-accent\" : \"\"} ${clientMode === \"action\" ? \"bg-bg-hover\" : \"\"}`,\n                                                        onClick: ()=>{\n                                                            setClientMode(\"action\");\n                                                            setModeMenuOpen(false);\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"font-semibold text-text-primary\",\n                                                                children: \"Action\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                                lineNumber: 457,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-text-tertiary text-[11px] mt-0.5\",\n                                                                children: \"Enable saving settings and chapters.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                                lineNumber: 458,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                        lineNumber: 453,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                lineNumber: 439,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                        lineNumber: 425,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>void send(),\n                                        disabled: streaming || !input.trim(),\n                                        className: \"absolute right-2 bottom-2 bg-accent hover:bg-accent-hover disabled:opacity-40 disabled:cursor-not-allowed text-white w-8 h-8 rounded-lg inline-flex items-center justify-center transition-all duration-150\",\n                                        title: \"Send\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpRight_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"w-4 h-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                lineNumber: 469,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"sr-only\",\n                                                children: \"Send\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                lineNumber: 470,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                        lineNumber: 463,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                lineNumber: 409,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 407,\n                            columnNumber: 11\n                        }, this),\n                        inputError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-2 text-xs text-red-400 p-2 rounded-lg bg-red-950/20 border border-red-500/20\",\n                            children: inputError\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 474,\n                            columnNumber: 26\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                    lineNumber: 406,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n            lineNumber: 315,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n        lineNumber: 314,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMvTGlJLFNBQVM7NERBQVFoSSxjQUFjOzREQUFTRSxnQkFBZ0I7d0RBQVE7OzBFQUVoRSw4REFBQ3NIO2dFQUFJQyxXQUFVOzBFQUFrQzs7Ozs7OzBFQUNqRCw4REFBQ0Q7Z0VBQUlDLFdBQVU7MEVBQXdDOzs7Ozs7Ozs7Ozs7a0VBRXpELDhEQUFDTTt3REFDQ04sV0FBVyxDQUFDLDJGQUEyRixFQUFFdEgsa0JBQWdCLElBQUksdUJBQXVCLEdBQUcsQ0FBQyxFQUFFSixlQUFhLFdBQVcsZ0JBQWdCLEdBQUcsQ0FBQzt3REFDdE1pSSxTQUFTOzREQUFRaEksY0FBYzs0REFBV0UsZ0JBQWdCO3dEQUFROzswRUFFbEUsOERBQUNzSDtnRUFBSUMsV0FBVTswRUFBa0M7Ozs7OzswRUFDakQsOERBQUNEO2dFQUFJQyxXQUFVOzBFQUF3Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tEQUsvRCw4REFBQ007d0NBQ0NDLFNBQVMsSUFBTSxLQUFLMUU7d0NBQ3BCMkUsVUFBVTNKLGFBQWEsQ0FBQ0YsTUFBTXNGLElBQUk7d0NBQ2xDK0QsV0FBVTt3Q0FDVjVDLE9BQU07OzBEQUVOLDhEQUFDcEgsb0dBQVlBO2dEQUFDZ0ssV0FBVTtnREFBVXNCLGVBQVk7Ozs7OzswREFDOUMsOERBQUNYO2dEQUFLWCxXQUFVOzBEQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3QkFJL0JqSiw0QkFBYyw4REFBQ2dKOzRCQUFJQyxXQUFVO3NDQUFtRmpKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU8zSCIsInNvdXJjZXMiOlsid2VicGFjazovL2lua3ZlcnNlLWNsaWVudC8uL3NyYy9jb21wb25lbnRzL2NoYXQvQ2hhdC50c3g/NWUxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERuZFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtZG5kJztcbmltcG9ydCB7IEhUTUw1QmFja2VuZCB9IGZyb20gJ3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kJztcbmltcG9ydCB7IHVzZVN1cGFiYXNlIH0gZnJvbSAnQC9jb21wb25lbnRzL3Byb3ZpZGVycy9TdXBhYmFzZVByb3ZpZGVyJztcbmltcG9ydCB7IENoYXRCdWJibGUgfSBmcm9tICcuL0NoYXRCdWJibGUnO1xuaW1wb3J0IHsgY3JlYXRlQXBpIH0gZnJvbSAnQC9saWIvYXBpJztcbmltcG9ydCB7IEFycm93VXBSaWdodCwgQ2hldnJvbkRvd24gfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5leHBvcnQgdHlwZSBDaGF0TWVzc2FnZSA9IHtcbiAgaWQ/OiBzdHJpbmc7XG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHBhbmVsSWQ/OiBzdHJpbmcgfCBudWxsO1xuICBpbWFnZVVybD86IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdCh7IGNoYXRJZCwgcHJvamVjdElkLCBjaGF0VHlwZSA9ICdwbG90JywgaW5pdGlhbE1lc3NhZ2VzID0gW10gfTogeyBjaGF0SWQ6IHN0cmluZzsgcHJvamVjdElkOiBzdHJpbmc7IGNoYXRUeXBlPzogJ3Bsb3QnfCdjaGFyYWN0ZXInfCd3b3JsZCc7IGluaXRpYWxNZXNzYWdlcz86IENoYXRNZXNzYWdlW10gfSkge1xuICBjb25zdCBzdXBhYmFzZSA9IHVzZVN1cGFiYXNlKCk7XG4gIGNvbnN0IGFwaSA9IHVzZU1lbW8oKCkgPT4gY3JlYXRlQXBpKHN1cGFiYXNlKSwgW3N1cGFiYXNlXSk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8Q2hhdE1lc3NhZ2VbXT4oaW5pdGlhbE1lc3NhZ2VzKTtcbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzdHJlYW1pbmcsIHNldFN0cmVhbWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpbnB1dEVycm9yLCBzZXRJbnB1dEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBsaXN0UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IG1vZGVNZW51UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgbW9kZU1lbnVMaXN0UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2F2ZUVycm9yLCBzZXRTYXZlRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgW3BlbmRpbmdNb2RlLCBzZXRQZW5kaW5nTW9kZV0gPSB1c2VTdGF0ZTwnbm92ZWwnIHwgJ21hbmh3YScgfCAnY29udmVydCcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3BlbmRpbmdTZXR0aW5ncywgc2V0UGVuZGluZ1NldHRpbmdzXSA9IHVzZVN0YXRlPGFueSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdG9hc3RNc2csIHNldFRvYXN0TXNnXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCB0b2FzdFRpbWVyID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgYXBpQmFzZSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XG5cbiAgY29uc3QgW2xvYWRpbmdIaXN0b3J5LCBzZXRMb2FkaW5nSGlzdG9yeV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtjbGllbnRNb2RlLCBzZXRDbGllbnRNb2RlXSA9IHVzZVN0YXRlPCdjaGF0JyB8ICdhY3Rpb24nPignY2hhdCcpO1xuICBjb25zdCBbbW9kZU1lbnVPcGVuLCBzZXRNb2RlTWVudU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZU1lbnVJbmRleCwgc2V0TW9kZU1lbnVJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuXG4gIGNvbnN0IGNhY2hlS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfY2hhdF8ke2NoYXRJZH1fbWVzc2FnZXNgLCBbY2hhdElkXSk7XG4gIGNvbnN0IFtoYXNDYWNoZSwgc2V0SGFzQ2FjaGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBtZXNzYWdlc1JlZiA9IHVzZVJlZjxDaGF0TWVzc2FnZVtdPihtZXNzYWdlcyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsaXN0UmVmLmN1cnJlbnQ/LnNjcm9sbFRvKHsgdG9wOiBsaXN0UmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0LCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH0sIFttZXNzYWdlcy5sZW5ndGhdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oY2FjaGVLZXkpIDogbnVsbDtcbiAgICAgIGlmIChzKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IEpTT04ucGFyc2Uocyk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgICAgICBzZXRNZXNzYWdlcyhhcnIgYXMgQ2hhdE1lc3NhZ2VbXSk7XG4gICAgICAgICAgc2V0SGFzQ2FjaGUoKGFyciBhcyBhbnlbXSkubGVuZ3RoID4gMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjYWNoZUtleV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSWYgcGFyZW50IHByb3ZpZGVzIG1lc3NhZ2VzIGxhdGVyLCBzZXQgdGhlbSBvbmx5IGlmIGxpc3QgaXMgZW1wdHlcbiAgICBpZiAoaW5pdGlhbE1lc3NhZ2VzLmxlbmd0aCAmJiBtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldE1lc3NhZ2VzKGluaXRpYWxNZXNzYWdlcyk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2luaXRpYWxNZXNzYWdlc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoaGFzQ2FjaGUpIHsgcmV0dXJuOyB9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWhhc0NhY2hlKSBzZXRMb2FkaW5nSGlzdG9yeSh0cnVlKTtcbiAgICAgICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IGFwaS5nZXRDaGF0TWVzc2FnZXNCeUNoYXRJZChjaGF0SWQpO1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV4dCA9IEFycmF5LmlzQXJyYXkoaGlzdG9yeSkgPyBoaXN0b3J5IGFzIGFueSA6IFtdO1xuICAgICAgICAvLyBTa2lwIHVwZGF0ZSBpZiBubyBjaGFuZ2UgdG8gYXZvaWQgZmxpY2tlclxuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChoYXNDYWNoZSAmJiBKU09OLnN0cmluZ2lmeShuZXh0KSA9PT0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZXNSZWYuY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgc2V0TWVzc2FnZXMobmV4dCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gc3dhbGxvdyBuZXR3b3JrIGVycm9ycyBkdXJpbmcgaW5pdGlhbCBoeWRyYXRpb24vcmV2YWxpZGF0aW9uXG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAobW91bnRlZCkgc2V0TG9hZGluZ0hpc3RvcnkoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuICgpID0+IHsgbW91bnRlZCA9IGZhbHNlOyB9O1xuICB9LCBbYXBpLCBjaGF0SWQsIGhhc0NhY2hlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oY2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KG1lc3NhZ2VzKSk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbbWVzc2FnZXMsIGNhY2hlS2V5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgbWVzc2FnZXNSZWYuY3VycmVudCA9IG1lc3NhZ2VzOyB9LCBbbWVzc2FnZXNdKTtcblxuICAvLyBBdXRvLXJlc2l6ZSB0ZXh0YXJlYSBoZWlnaHQgd2l0aCBjb250ZW50LCB1cCB0byBhIG1heCB0aGVuIHNjcm9sbFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgZWwuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgIGNvbnN0IG1heCA9IDI1NjsgLy8gcHggbWF4IGhlaWdodCBiZWZvcmUgc2Nyb2xsXG4gICAgY29uc3QgbmV4dCA9IE1hdGgubWluKGVsLnNjcm9sbEhlaWdodCwgbWF4KTtcbiAgICBlbC5zdHlsZS5oZWlnaHQgPSBgJHtuZXh0fXB4YDtcbiAgfSwgW2lucHV0XSk7XG5cbiAgLy8gQ2xvc2UgbW9kZSBtZW51IG9uIG91dHNpZGUgY2xpY2tcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBvbkRvY0NsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgIGlmICghbW9kZU1lbnVPcGVuKSByZXR1cm47XG4gICAgICBjb25zdCB0ID0gZS50YXJnZXQgYXMgTm9kZSB8IG51bGw7XG4gICAgICBpZiAobW9kZU1lbnVSZWYuY3VycmVudCAmJiB0ICYmICFtb2RlTWVudVJlZi5jdXJyZW50LmNvbnRhaW5zKHQpKSB7XG4gICAgICAgIHNldE1vZGVNZW51T3BlbihmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uRG9jQ2xpY2spO1xuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbkRvY0NsaWNrKTtcbiAgfSwgW21vZGVNZW51T3Blbl0pO1xuXG4gIC8vIEtleWJvYXJkOiBvcGVuL2Nsb3NlIG1lbnUgYW5kIG5hdmlnYXRlIG9wdGlvbnNcbiAgY29uc3Qgb25Nb2RlQnV0dG9uS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0Fycm93RG93bicgfHwgZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2V0TW9kZU1lbnVJbmRleChjbGllbnRNb2RlID09PSAnY2hhdCcgPyAwIDogMSk7XG4gICAgICBzZXRNb2RlTWVudU9wZW4odHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHNldE1vZGVNZW51T3BlbihmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uTWVudUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZXRNb2RlTWVudUluZGV4KChpKSA9PiAoaSArIDEpICUgMik7XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93VXAnKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZXRNb2RlTWVudUluZGV4KChpKSA9PiAoaSArIDEgKyAyKSAlIDIpO1xuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChtb2RlTWVudUluZGV4ID09PSAwKSBzZXRDbGllbnRNb2RlKCdjaGF0Jyk7XG4gICAgICBlbHNlIHNldENsaWVudE1vZGUoJ2FjdGlvbicpO1xuICAgICAgc2V0TW9kZU1lbnVPcGVuKGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgc2V0TW9kZU1lbnVPcGVuKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQ6IEN0cmwrTCBmb2N1c2VzIGlucHV0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gb25LZXkoZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgaWYgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiAoZS5rZXkgPT09ICdsJyB8fCBlLmtleSA9PT0gJ0wnKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXkpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5KTtcbiAgfSwgW10pO1xuXG4gIC8vIEZvY3VzIG1lbnUgY29udGFpbmVyIHdoZW4gb3BlbmVkIGZvciBrZXlib2FyZCBuYXZcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobW9kZU1lbnVPcGVuKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IG1vZGVNZW51TGlzdFJlZi5jdXJyZW50Py5mb2N1cygpLCAwKTtcbiAgICB9XG4gIH0sIFttb2RlTWVudU9wZW5dKTtcblxuICBjb25zdCBzZW5kID0gdXNlQ2FsbGJhY2soYXN5bmMgKG9wdHM/OiB7IHJlZ2VuZXJhdGVQYW5lbElkPzogc3RyaW5nOyBtZXNzYWdlT3ZlcnJpZGU/OiBzdHJpbmcgfSkgPT4ge1xuICAgIGNvbnN0IHRleHQgPSAob3B0cz8ubWVzc2FnZU92ZXJyaWRlID8/IGlucHV0KS50cmltKCk7XG4gICAgaWYgKCF0ZXh0ICYmICFvcHRzPy5yZWdlbmVyYXRlUGFuZWxJZCkge1xuICAgICAgc2V0SW5wdXRFcnJvcignUHJvbXB0IGlzIGVtcHR5LiBUcnkgc29tZXRoaW5nIGxpa2U6IFwiV3JpdGUgdGhlIG9wZW5pbmcgc2NlbmUgb2YgYSBkYXJrIGZhbnRhc3kuXCInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0SW5wdXRFcnJvcihudWxsKTtcblxuICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGNvbnN0IHRva2VuID0gc2Vzc2lvbj8uYWNjZXNzX3Rva2VuO1xuICAgIGlmICghdG9rZW4pIHJldHVybjtcblxuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiB0ZXh0LCBwYW5lbElkOiBvcHRzPy5yZWdlbmVyYXRlUGFuZWxJZCB8fCBudWxsIH07XG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCB1c2VyTWVzc2FnZV0pO1xuICAgIHNldElucHV0KCcnKTtcbiAgICBzZXRTdHJlYW1pbmcodHJ1ZSk7XG5cbiAgICAvLyBNZW50aW9ucyBwYXJzaW5nOiBAY2hhcHRlcjxudW1iZXI+IG9yIEBcImV4YWN0IHRpdGxlXCJcbiAgICBjb25zdCBtTnVtID0gL0BjaGFwdGVyXFxzKihbMC05XSspL2kuZXhlYyh0ZXh0KSB8fCAvQGNoYXB0ZXJfPyhbMC05XSspL2kuZXhlYyh0ZXh0KTtcbiAgICBjb25zdCBtVGl0bGUgPSAvQFwiKFteXCJdKylcIi8uZXhlYyh0ZXh0KTtcbiAgICBjb25zdCBtZW50aW9uczogYW55ID0ge307XG4gICAgaWYgKG1OdW0/LlsxXSkgbWVudGlvbnMuY2hhcHRlcl9udW1iZXIgPSBwYXJzZUludChtTnVtWzFdLCAxMCk7XG4gICAgaWYgKG1UaXRsZT8uWzFdKSBtZW50aW9ucy50aXRsZSA9IG1UaXRsZVsxXTtcblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke2FwaUJhc2V9L2FwaS9jaGF0LyR7Y2hhdElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogdXNlck1lc3NhZ2UuY29udGVudCwgcmVnZW5lcmF0ZVBhbmVsSWQ6IG9wdHM/LnJlZ2VuZXJhdGVQYW5lbElkIHx8IHVuZGVmaW5lZCwgY2xpZW50TW9kZSwgbWVudGlvbnMgfSksXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlcy5ib2R5KSB7XG4gICAgICBzZXRTdHJlYW1pbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFB1c2ggZW1wdHkgYXNzaXN0YW50IG1lc3NhZ2UgdG8gc3RyZWFtIGludG9cbiAgICBsZXQgYXNzaXN0YW50SW5kZXggPSAtMTtcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4ge1xuICAgICAgYXNzaXN0YW50SW5kZXggPSBwcmV2Lmxlbmd0aDtcbiAgICAgIHJldHVybiBbLi4ucHJldiwgeyByb2xlOiAnYXNzaXN0YW50JywgY29udGVudDogJycgfV07XG4gICAgfSk7XG5cbiAgICBjb25zdCByZWFkZXIgPSByZXMuYm9keS5nZXRSZWFkZXIoKTtcbiAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG5cbiAgICB0cnkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xuICAgICAgICBjb25zdCBjaHVuayA9IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGNodW5rLnNwbGl0KCdcXG4nKSkge1xuICAgICAgICAgIGNvbnN0IHRyaW1tZWQgPSBsaW5lLnRyaW0oKTtcbiAgICAgICAgICBpZiAoIXRyaW1tZWQuc3RhcnRzV2l0aCgnZGF0YTonKSkgY29udGludWU7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IHRyaW1tZWQuc2xpY2UoNSkudHJpbSgpO1xuICAgICAgICAgIGlmICghZGF0YSkgY29udGludWU7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGV2dCA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICBpZiAoZXZ0LnR5cGUgPT09ICd0ZXh0JyAmJiBldnQuY29udGVudCkge1xuICAgICAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvcHkgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gY29weVthc3Npc3RhbnRJbmRleF07XG4gICAgICAgICAgICAgICAgY29weVthc3Npc3RhbnRJbmRleF0gPSB7IC4uLm1zZywgY29udGVudDogKG1zZz8uY29udGVudCB8fCAnJykgKyBldnQuY29udGVudCB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LnR5cGUgPT09ICdpbWFnZScgJiYgZXZ0LnVybCkge1xuICAgICAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvcHkgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGNvcHlbYXNzaXN0YW50SW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChhc3Npc3RhbnRJbmRleCA+PSAwICYmIGN1cnJlbnQgJiYgKGN1cnJlbnQuY29udGVudCB8fCAnJykgPT09ICcnICYmICFjdXJyZW50LmltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgICBjb3B5W2Fzc2lzdGFudEluZGV4XSA9IHsgLi4uY3VycmVudCwgaW1hZ2VVcmw6IGV2dC51cmwsIGNvbnRlbnQ6ICcnIH0gYXMgYW55O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb3B5LnB1c2goeyByb2xlOiAnYXNzaXN0YW50JywgY29udGVudDogJycsIGltYWdlVXJsOiBldnQudXJsIH0gYXMgYW55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQuYWN0aW9uID09PSAnY3JlYXRlX2NoYXB0ZXInKSB7XG4gICAgICAgICAgICAgIGlmIChjaGF0VHlwZSAhPT0gJ3Bsb3QnKSB7IC8qIG91dC1vZi1zY29wZTsgaWdub3JlICovIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3dvcmtzcGFjZTpjcmVhdGUtZHJhZnQnLCB7IGRldGFpbDogeyB0aXRsZTogZXZ0LnRpdGxlIHx8ICdVbnRpdGxlZCBDaGFwdGVyJywgY29udGVudDogZXZ0LmNvbnRlbnQgfHwgJycgfSB9KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LmFjdGlvbiA9PT0gJ2NvbmZpcm1fbW9kZScgJiYgZXZ0Lm1vZGUpIHtcbiAgICAgICAgICAgICAgc2V0UGVuZGluZ01vZGUoZXZ0Lm1vZGUpO1xuICAgICAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHsgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6IGBQZW5kaW5nIG1vZGUgY2hhbmdlIHRvIFwiJHtldnQubW9kZX1cIi4gQ29uZmlybT9gIH1dKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LmFjdGlvbiA9PT0gJ2NvbmZpcm1fc2V0dGluZ3MnICYmIGV2dC5jaGFuZ2VzKSB7XG4gICAgICAgICAgICAgIGlmIChjbGllbnRNb2RlID09PSAnYWN0aW9uJyAmJiBjaGF0VHlwZSA9PT0gJ3Bsb3QnKSB7XG4gICAgICAgICAgICAgICAgc2V0UGVuZGluZ1NldHRpbmdzKGV2dC5jaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHsgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6ICdQZW5kaW5nIHNldHRpbmdzIHVwZGF0ZSBkZXRlY3RlZC4gQ29uZmlybSB0byBhcHBseSBjaGFuZ2VzLicgfV0pO1xuICAgICAgICAgICAgICB9IC8vIGlnbm9yZSBpbiBDaGF0IG1vZGUgZm9yIHNhZmV0eVxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQudHlwZSA9PT0gJ2ltYWdlX2pvYicpIHtcbiAgICAgICAgICAgICAgLy8gT3B0aW9uYWxseSByZWZsZWN0IGpvYiBxdWV1ZWQgc3RhdGVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LmFjdGlvbiA9PT0gJ2NvbnZlcnRfdG9fbWFuaHdhJykge1xuICAgICAgICAgICAgICBpZiAoY2hhdFR5cGUgIT09ICdwbG90JykgeyAvKiBvdXQtb2Ytc2NvcGU7IGlnbm9yZSAqLyB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd3b3Jrc3BhY2U6Y3JlYXRlLWRyYWZ0JywgeyBkZXRhaWw6IHsgdGl0bGU6ICdDb252ZXJ0ZWQgUGFuZWxzJywgcGFuZWxfc2NyaXB0OiBldnQucGFuZWxfc2NyaXB0IH0gfSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2dC5hY3Rpb24gPT09ICd1cGRhdGVfY2hhcHRlcicpIHtcbiAgICAgICAgICAgICAgaWYgKGNoYXRUeXBlICE9PSAncGxvdCcpIHsgLyogb3V0LW9mLXNjb3BlOyBpZ25vcmUgKi8gfVxuICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnd29ya3NwYWNlOnVwZGF0ZS1jaGFwdGVyJywgeyBkZXRhaWw6IHsgaWQ6IGV2dC5pZCwgY2hhcHRlcl9udW1iZXI6IGV2dC5jaGFwdGVyX251bWJlciwgdGl0bGU6IGV2dC50aXRsZSwgY29udGVudDogZXZ0LmNvbnRlbnQgfSB9KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LmFjdGlvbiA9PT0gJ3Vwc2VydF9jaGFyYWN0ZXInICYmIGV2dC5pdGVtKSB7XG4gICAgICAgICAgICAgIGlmIChjaGF0VHlwZSAhPT0gJ2NoYXJhY3RlcicpIHsgLyogb3V0LW9mLXNjb3BlOyBpZ25vcmUgKi8gfVxuICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnd29ya3NwYWNlOmNoYXJhY3Rlci11cHNlcnQnLCB7IGRldGFpbDogeyBpdGVtOiBldnQuaXRlbSB9IH0pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQuYWN0aW9uID09PSAndXBzZXJ0X3dvcmxkJyAmJiBldnQuaXRlbSkge1xuICAgICAgICAgICAgICBpZiAoY2hhdFR5cGUgIT09ICd3b3JsZCcpIHsgLyogb3V0LW9mLXNjb3BlOyBpZ25vcmUgKi8gfVxuICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnd29ya3NwYWNlOndvcmxkLXVwc2VydCcsIHsgZGV0YWlsOiB7IGl0ZW06IGV2dC5pdGVtIH0gfSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2dC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgIC8vIEFwcGVuZCBlcnJvciB0byBjb252ZXJzYXRpb25cbiAgICAgICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiBgRXJyb3I6ICR7ZXZ0Lm1lc3NhZ2V9YCB9XSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2dC50eXBlID09PSAnZG9uZScpIHtcbiAgICAgICAgICAgICAgc2V0U3RyZWFtaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBwYXJ0aWFsIGpzb24gbGluZXNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U3RyZWFtaW5nKGZhbHNlKTtcbiAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgIH1cbiAgfSwgW2FwaUJhc2UsIGlucHV0LCBjaGF0SWQsIHN1cGFiYXNlLCBjbGllbnRNb2RlLCBjaGF0VHlwZV0pO1xuXG4gIGNvbnN0IG9uUmVnZW5lcmF0ZSA9IHVzZUNhbGxiYWNrKChwYW5lbElkOiBzdHJpbmcpID0+IHtcbiAgICB2b2lkIHNlbmQoeyByZWdlbmVyYXRlUGFuZWxJZDogcGFuZWxJZCB9KTtcbiAgfSwgW3NlbmRdKTtcblxuICByZXR1cm4gKFxuICAgIDxEbmRQcm92aWRlciBiYWNrZW5kPXtIVE1MNUJhY2tlbmR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBmbGV4LWNvbCBiZy1iZy1lbGV2YXRlZFwiPlxuICAgICAgICB7LyogTWVzc2FnZXMgQXJlYSB3aXRoIFNjcm9sbGJhciAqL31cbiAgICAgICAgPGRpdiByZWY9e2xpc3RSZWZ9IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4taC0wIG92ZXJmbG93LXktYXV0byBzcGFjZS15LTQgcC00XCI+XG4gICAgICAgICAge2xvYWRpbmdIaXN0b3J5ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+TG9hZGluZyBwcmV2aW91cyBtZXNzYWdlc+KApjwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge21lc3NhZ2VzLm1hcCgobSwgaSkgPT4gKFxuICAgICAgICAgICAgPENoYXRCdWJibGVcbiAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICByb2xlPXttLnJvbGV9XG4gICAgICAgICAgICAgIGNvbnRlbnQ9e20uY29udGVudH1cbiAgICAgICAgICAgICAgcGFuZWxJZD17bS5wYW5lbElkfVxuICAgICAgICAgICAgICBpbWFnZVVybD17bS5pbWFnZVVybCB8fCB1bmRlZmluZWR9XG4gICAgICAgICAgICAgIG9uUmVnZW5lcmF0ZT17b25SZWdlbmVyYXRlfVxuICAgICAgICAgICAgICBkcmFnZ2FibGU9e0Jvb2xlYW4obS5wYW5lbElkKX1cbiAgICAgICAgICAgIC8+KVxuICAgICAgICAgICl9XG4gICAgICAgICAge3N0cmVhbWluZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeSBhbmltYXRlLXB1bHNlXCI+QUkgaXMgdHlwaW5n4oCmPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIHt0b2FzdE1zZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTMgcmlnaHQtMyB6LTUwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0zIHB5LTIgcm91bmRlZCBiZy1zbGF0ZS05NTAvOTAgYm9yZGVyIGJvcmRlci1zbGF0ZS04MDAgdGV4dC1zbGF0ZS0xMDAgdGV4dC1zbSBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgIHt0b2FzdE1zZ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgICBcbiAgICAgICAgeyhwZW5kaW5nTW9kZSB8fCBwZW5kaW5nU2V0dGluZ3MpICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ib3JkZXItZGVmYXVsdCBwLTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zIGJnLWJnLXByaW1hcnlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXRleHQtcHJpbWFyeVwiPlxuICAgICAgICAgICAgICB7cGVuZGluZ01vZGUgJiYgYENvbmZpcm0gbW9kZSBjaGFuZ2UgdG8gXCIke3BlbmRpbmdNb2RlfVwiP2B9XG4gICAgICAgICAgICAgIHtwZW5kaW5nU2V0dGluZ3MgJiYgIXBlbmRpbmdNb2RlICYmICdDb25maXJtIGFwcGx5aW5nIHBlbmRpbmcgc2V0dGluZ3MgY2hhbmdlcz8nfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEuNSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgc2V0UGVuZGluZ01vZGUobnVsbCk7IHNldFBlbmRpbmdTZXR0aW5ncyhudWxsKTsgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMS41IHJvdW5kZWQtbWQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciB0ZXh0LXdoaXRlIGRpc2FibGVkOm9wYWNpdHktNTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nIHx8IGNsaWVudE1vZGUgIT09ICdhY3Rpb24nfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFNhdmluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgIHNldFNhdmVFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFBlcnNpc3QgbW9kZSB2aWEgc2V0dGluZ3MgZW5kcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhcGkudXBkYXRlUHJvamVjdFNldHRpbmdzKHByb2plY3RJZCwgeyBtb2RlOiBwZW5kaW5nTW9kZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncHJvamVjdDptb2RlLXVwZGF0ZWQnLCB7IGRldGFpbDogeyBtb2RlOiBwZW5kaW5nTW9kZSB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiBgTW9kZSB1cGRhdGVkIHRvICR7cGVuZGluZ01vZGV9LmAgfV0pO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFBlbmRpbmdNb2RlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2FzdFRpbWVyLmN1cnJlbnQpIGNsZWFyVGltZW91dCh0b2FzdFRpbWVyLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFRvYXN0TXNnKCdNb2RlIHNhdmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdE1zZygnJyksIDMwMDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBlbmRpbmdTZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFBlcnNpc3QgZnVsbCBzZXR0aW5ncyBwYXlsb2FkIGluY2x1ZGluZyB0aXRsZS9kZXNjcmlwdGlvbi9jb3ZlckltYWdlL2dlbnJlL2NvcmVDb25mbGljdC9tb2RlL3NldHRpbmdzSnNvblxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFwaS51cGRhdGVQcm9qZWN0U2V0dGluZ3MocHJvamVjdElkLCBwZW5kaW5nU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdwcm9qZWN0OnNldHRpbmdzLXVwZGF0ZWQnLCB7IGRldGFpbDogeyBjaGFuZ2VzOiBwZW5kaW5nU2V0dGluZ3MgfSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgeyByb2xlOiAnYXNzaXN0YW50JywgY29udGVudDogJ1NldHRpbmdzIHVwZGF0ZWQuJyB9XSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0UGVuZGluZ1NldHRpbmdzKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFRvYXN0IGZyb20gY2hhdCBjb25maXJtXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHRvYXN0VGltZXIuY3VycmVudCkgY2xlYXJUaW1lb3V0KHRvYXN0VGltZXIuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0VG9hc3RNc2coJ1NldHRpbmdzIHNhdmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3RUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdE1zZygnJyksIDMwMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2F2ZUVycm9yKGU/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzYXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgeyByb2xlOiAnYXNzaXN0YW50JywgY29udGVudDogYEVycm9yIHBlcnNpc3RpbmcgY2hhbmdlczogJHtlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2F2ZSd9YCB9XSk7XG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDb25maXJtXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICB7Y2xpZW50TW9kZSAhPT0gJ2FjdGlvbicgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzExcHhdIHRleHQtdGV4dC10ZXJ0aWFyeVwiPlN3aXRjaCB0byBBY3Rpb24gbW9kZSB0byBhcHBseTwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7LyogSW5wdXQgQXJlYSAtIEZpeGVkIGF0IEJvdHRvbSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItYm9yZGVyLWRlZmF1bHQgcC0zIGJnLWJnLXByaW1hcnlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTMgaXRlbXMtZW5kXCI+XG4gICAgICAgICAgICB7LyogSW5wdXQgRmllbGQgd2l0aCBJbnRlZ3JhdGVkIFNlbmQgQnV0dG9uIGFuZCBNb2RlIFNlbGVjdG9yIGluc2lkZSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ2hhdCB3aXRoIENhc2NhZGVcIlxuICAgICAgICAgICAgICAgIHJvd3M9ezJ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLWVsZXZhdGVkIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC0yeGwgcGwtMTIgcHItMTIgcHQtMiBwYi0xNiB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgcmVzaXplLW5vbmUgbWluLWgtWzgwcHhdIG1heC1oLTcyIG92ZXJmbG93LXktYXV0byB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgc2VuZCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHsvKiBNb2RlIFNlbGVjdG9yIGluc2lkZSBpbnB1dCBib3R0b20tbGVmdCAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTIgYm90dG9tLTJcIiByZWY9e21vZGVNZW51UmVmfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRleHQteHMgcHgtMyBweS0yIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCAke2NsaWVudE1vZGU9PT0nY2hhdCcgPyAndGV4dC1zdWNjZXNzJyA6ICd0ZXh0LWFjY2VudCd9IGJnLWJnLWVsZXZhdGVkIGhvdmVyOmJnLWJnLWhvdmVyIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MGB9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHNldE1vZGVNZW51SW5kZXgoY2xpZW50TW9kZT09PSdjaGF0JyA/IDAgOiAxKTsgc2V0TW9kZU1lbnVPcGVuKCh2KSA9PiAhdik7IH19XG4gICAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwibWVudVwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXttb2RlTWVudU9wZW59XG4gICAgICAgICAgICAgICAgICBvbktleURvd249e29uTW9kZUJ1dHRvbktleURvd259XG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIk1vZGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtjbGllbnRNb2RlID09PSAnY2hhdCcgPyAnQ2hhdCcgOiAnQWN0aW9uJ31cbiAgICAgICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7bW9kZU1lbnVPcGVuICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbWItMiBsZWZ0LTAgdy02NCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctZWxldmF0ZWQgc2hhZG93LWVsZXZhdGlvbiBwLTEuNSB0ZXh0LXhzIHRleHQtdGV4dC1wcmltYXJ5IHotMjBcIlxuICAgICAgICAgICAgICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PXstMX1cbiAgICAgICAgICAgICAgICAgICAgcmVmPXttb2RlTWVudUxpc3RSZWZ9XG4gICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17b25NZW51S2V5RG93bn1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yLjUgcm91bmRlZC1tZCBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgJHttb2RlTWVudUluZGV4PT09MCA/ICdyaW5nLTEgcmluZy1hY2NlbnQnIDogJyd9ICR7Y2xpZW50TW9kZT09PSdjaGF0JyA/ICdiZy1iZy1ob3ZlcicgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgc2V0Q2xpZW50TW9kZSgnY2hhdCcpOyBzZXRNb2RlTWVudU9wZW4oZmFsc2UpOyB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+Q2hhdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IHRleHQtWzExcHhdIG10LTAuNVwiPkJyYWluc3Rvcm0sIG91dGxpbmUsIHByZXZpZXcuIE5vIHdyaXRlcy48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgdGV4dC1sZWZ0IHB4LTMgcHktMi41IHJvdW5kZWQtbWQgaG92ZXI6YmctYmctaG92ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIG10LTEgJHttb2RlTWVudUluZGV4PT09MSA/ICdyaW5nLTEgcmluZy1hY2NlbnQnIDogJyd9ICR7Y2xpZW50TW9kZT09PSdhY3Rpb24nID8gJ2JnLWJnLWhvdmVyJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBzZXRDbGllbnRNb2RlKCdhY3Rpb24nKTsgc2V0TW9kZU1lbnVPcGVuKGZhbHNlKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXRleHQtcHJpbWFyeVwiPkFjdGlvbjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IHRleHQtWzExcHhdIG10LTAuNVwiPkVuYWJsZSBzYXZpbmcgc2V0dGluZ3MgYW5kIGNoYXB0ZXJzLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdm9pZCBzZW5kKCl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N0cmVhbWluZyB8fCAhaW5wdXQudHJpbSgpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTIgYm90dG9tLTIgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciBkaXNhYmxlZDpvcGFjaXR5LTQwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LXdoaXRlIHctOCBoLTggcm91bmRlZC1sZyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIlNlbmRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEFycm93VXBSaWdodCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+U2VuZDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7aW5wdXRFcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXJlZC00MDAgcC0yIHJvdW5kZWQtbGcgYmctcmVkLTk1MC8yMCBib3JkZXIgYm9yZGVyLXJlZC01MDAvMjBcIj57aW5wdXRFcnJvcn08L2Rpdj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBkcmFmdHMgYXJlIHJvdXRlZCB0byBjZW50ZXIgZWRpdG9yIHZpYSB3b3Jrc3BhY2U6Y3JlYXRlLWRyYWZ0ICovfVxuICAgIDwvRG5kUHJvdmlkZXI+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJEbmRQcm92aWRlciIsIkhUTUw1QmFja2VuZCIsInVzZVN1cGFiYXNlIiwiQ2hhdEJ1YmJsZSIsImNyZWF0ZUFwaSIsIkFycm93VXBSaWdodCIsIkNoZXZyb25Eb3duIiwiQ2hhdCIsImNoYXRJZCIsInByb2plY3RJZCIsImNoYXRUeXBlIiwiaW5pdGlhbE1lc3NhZ2VzIiwic3VwYWJhc2UiLCJhcGkiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaW5wdXQiLCJzZXRJbnB1dCIsInN0cmVhbWluZyIsInNldFN0cmVhbWluZyIsImlucHV0RXJyb3IiLCJzZXRJbnB1dEVycm9yIiwibGlzdFJlZiIsImlucHV0UmVmIiwibW9kZU1lbnVSZWYiLCJtb2RlTWVudUxpc3RSZWYiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJzYXZlRXJyb3IiLCJzZXRTYXZlRXJyb3IiLCJwZW5kaW5nTW9kZSIsInNldFBlbmRpbmdNb2RlIiwicGVuZGluZ1NldHRpbmdzIiwic2V0UGVuZGluZ1NldHRpbmdzIiwidG9hc3RNc2ciLCJzZXRUb2FzdE1zZyIsInRvYXN0VGltZXIiLCJhcGlCYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJsb2FkaW5nSGlzdG9yeSIsInNldExvYWRpbmdIaXN0b3J5IiwiY2xpZW50TW9kZSIsInNldENsaWVudE1vZGUiLCJtb2RlTWVudU9wZW4iLCJzZXRNb2RlTWVudU9wZW4iLCJtb2RlTWVudUluZGV4Iiwic2V0TW9kZU1lbnVJbmRleCIsImNhY2hlS2V5IiwiaGFzQ2FjaGUiLCJzZXRIYXNDYWNoZSIsIm1lc3NhZ2VzUmVmIiwiY3VycmVudCIsInNjcm9sbFRvIiwidG9wIiwic2Nyb2xsSGVpZ2h0IiwiYmVoYXZpb3IiLCJsZW5ndGgiLCJzIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFyciIsIkpTT04iLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsIm1vdW50ZWQiLCJoaXN0b3J5IiwiZ2V0Q2hhdE1lc3NhZ2VzQnlDaGF0SWQiLCJuZXh0Iiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsImVsIiwic3R5bGUiLCJoZWlnaHQiLCJtYXgiLCJNYXRoIiwibWluIiwib25Eb2NDbGljayIsImUiLCJ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25Nb2RlQnV0dG9uS2V5RG93biIsImtleSIsInByZXZlbnREZWZhdWx0Iiwib25NZW51S2V5RG93biIsImkiLCJvbktleSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiZm9jdXMiLCJzZXRUaW1lb3V0Iiwic2VuZCIsIm9wdHMiLCJ0ZXh0IiwibWVzc2FnZU92ZXJyaWRlIiwidHJpbSIsInJlZ2VuZXJhdGVQYW5lbElkIiwiZGF0YSIsInNlc3Npb24iLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwidXNlck1lc3NhZ2UiLCJyb2xlIiwiY29udGVudCIsInBhbmVsSWQiLCJwcmV2IiwibU51bSIsImV4ZWMiLCJtVGl0bGUiLCJtZW50aW9ucyIsImNoYXB0ZXJfbnVtYmVyIiwicGFyc2VJbnQiLCJ0aXRsZSIsInJlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJtZXNzYWdlIiwidW5kZWZpbmVkIiwiYXNzaXN0YW50SW5kZXgiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJ2YWx1ZSIsImRvbmUiLCJyZWFkIiwiY2h1bmsiLCJkZWNvZGUiLCJzdHJlYW0iLCJsaW5lIiwic3BsaXQiLCJ0cmltbWVkIiwic3RhcnRzV2l0aCIsInNsaWNlIiwiZXZ0IiwidHlwZSIsImNvcHkiLCJtc2ciLCJ1cmwiLCJpbWFnZVVybCIsInB1c2giLCJhY3Rpb24iLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJtb2RlIiwiY2hhbmdlcyIsInBhbmVsX3NjcmlwdCIsImlkIiwiaXRlbSIsInJlbGVhc2VMb2NrIiwib25SZWdlbmVyYXRlIiwiYmFja2VuZCIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsIm1hcCIsIm0iLCJkcmFnZ2FibGUiLCJCb29sZWFuIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwidXBkYXRlUHJvamVjdFNldHRpbmdzIiwiY2xlYXJUaW1lb3V0Iiwic3BhbiIsInRleHRhcmVhIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJvbktleURvd24iLCJzaGlmdEtleSIsInYiLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsInRhYkluZGV4IiwiYXJpYS1oaWRkZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/chat/Chat.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/chat/ChatBubble.tsx":
/*!********************************************!*\
  !*** ./src/components/chat/ChatBubble.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatBubble: () => (/* binding */ ChatBubble)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dnd */ \"(ssr)/./node_modules/react-dnd/dist/hooks/useDrag/useDrag.js\");\n/* __next_internal_client_entry_do_not_use__ ChatBubble auto */ \n\nfunction ChatBubble({ role, content, panelId, imageUrl, onEdit, onRegenerate, draggable }) {\n    const [{ isDragging }, drag] = (0,react_dnd__WEBPACK_IMPORTED_MODULE_1__.useDrag)(()=>({\n            type: \"PANEL\",\n            item: {\n                panelId\n            },\n            canDrag: ()=>Boolean(draggable && panelId),\n            collect: (monitor)=>({\n                    isDragging: monitor.isDragging()\n                })\n        }), [\n        panelId,\n        draggable\n    ]);\n    const isUser = role === \"user\";\n    const looksLikeImageUrl = (s)=>/^(https?:\\/\\/).+\\.(png|jpg|jpeg|webp|gif)(\\?.*)?$/i.test(s.trim());\n    const url = imageUrl || (looksLikeImageUrl(content) ? content : undefined);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: draggable ? drag : undefined,\n        className: `group max-w-3xl ${isUser ? \"ml-auto\" : \"\"} ${isDragging ? \"opacity-60\" : \"\"}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `rounded-2xl px-4 py-3 whitespace-pre-wrap shadow-sm border ${isUser ? \"bg-accent border-accent text-white\" : \"bg-bg-primary border-border-default text-text-primary\"}`,\n                children: url ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: url,\n                            alt: \"generated image\",\n                            className: \"max-w-full h-auto rounded-md border border-border-default\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n                            lineNumber: 36,\n                            columnNumber: 13\n                        }, this),\n                        content && !looksLikeImageUrl(content) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs text-text-tertiary break-words\",\n                            children: content\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n                            lineNumber: 38,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n                    lineNumber: 35,\n                    columnNumber: 11\n                }, this) : content\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-150 mt-1\",\n                children: [\n                    onEdit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onEdit,\n                        className: \"text-xs text-text-tertiary hover:text-text-primary transition-colors duration-150\",\n                        children: \"Edit\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n                        lineNumber: 47,\n                        columnNumber: 11\n                    }, this),\n                    panelId && onRegenerate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>onRegenerate(panelId),\n                        className: \"text-xs text-text-tertiary hover:text-text-primary transition-colors duration-150\",\n                        children: \"Regenerate Panel\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n                        lineNumber: 50,\n                        columnNumber: 11\n                    }, this),\n                    url && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: url,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                className: \"text-xs text-text-tertiary hover:text-text-primary transition-colors duration-150\",\n                                children: \"View\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n                                lineNumber: 54,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: url,\n                                download: true,\n                                className: \"text-xs text-text-tertiary hover:text-text-primary transition-colors duration-150\",\n                                children: \"Download\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n                                lineNumber: 55,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n                lineNumber: 45,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/ChatBubble.tsx\",\n        lineNumber: 29,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9jaGF0L0NoYXRCdWJibGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRW9DO0FBYTdCLFNBQVNDLFdBQVcsRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxNQUFNLEVBQUVDLFlBQVksRUFBRUMsU0FBUyxFQUFtQjtJQUMvRyxNQUFNLENBQUMsRUFBRUMsVUFBVSxFQUFFLEVBQUVDLEtBQUssR0FBR1Ysa0RBQU9BLENBQUMsSUFBTztZQUM1Q1csTUFBTTtZQUNOQyxNQUFNO2dCQUFFUjtZQUFRO1lBQ2hCUyxTQUFTLElBQU1DLFFBQVFOLGFBQWFKO1lBQ3BDVyxTQUFTLENBQUNDLFVBQWdDO29CQUFFUCxZQUFZTyxRQUFRUCxVQUFVO2dCQUFHO1FBQy9FLElBQUk7UUFBQ0w7UUFBU0k7S0FBVTtJQUV4QixNQUFNUyxTQUFTZixTQUFTO0lBQ3hCLE1BQU1nQixvQkFBb0IsQ0FBQ0MsSUFBYyxxREFBcURDLElBQUksQ0FBQ0QsRUFBRUUsSUFBSTtJQUN6RyxNQUFNQyxNQUFNakIsWUFBYWEsQ0FBQUEsa0JBQWtCZixXQUFXQSxVQUFVb0IsU0FBUTtJQUV4RSxxQkFDRSw4REFBQ0M7UUFDQ0MsS0FBS2pCLFlBQWFFLE9BQWVhO1FBQ2pDRyxXQUFXLENBQUMsZ0JBQWdCLEVBQUVULFNBQVMsWUFBWSxHQUFHLENBQUMsRUFBRVIsYUFBYSxlQUFlLEdBQUcsQ0FBQzs7MEJBRXpGLDhEQUFDZTtnQkFBSUUsV0FBVyxDQUFDLDJEQUEyRCxFQUFFVCxTQUFTLHVDQUF1Qyx3REFBd0QsQ0FBQzswQkFDcExLLG9CQUNDLDhEQUFDRTtvQkFBSUUsV0FBVTs7c0NBQ2IsOERBQUNDOzRCQUFJQyxLQUFLTjs0QkFBS08sS0FBSTs0QkFBa0JILFdBQVU7Ozs7Ozt3QkFDOUN2QixXQUFXLENBQUNlLGtCQUFrQmYsMEJBQzdCLDhEQUFDcUI7NEJBQUlFLFdBQVU7c0NBQTBDdkI7Ozs7Ozs7Ozs7OzJCQUk3REE7Ozs7OzswQkFHSiw4REFBQ3FCO2dCQUFJRSxXQUFVOztvQkFDWnBCLHdCQUNDLDhEQUFDd0I7d0JBQU9DLFNBQVN6Qjt3QkFBUW9CLFdBQVU7a0NBQW9GOzs7Ozs7b0JBRXhIdEIsV0FBV0csOEJBQ1YsOERBQUN1Qjt3QkFBT0MsU0FBUyxJQUFNeEIsYUFBYUg7d0JBQVVzQixXQUFVO2tDQUFvRjs7Ozs7O29CQUU3SUoscUJBQ0M7OzBDQUNFLDhEQUFDVTtnQ0FBRUMsTUFBTVg7Z0NBQUtZLFFBQU87Z0NBQVNDLEtBQUk7Z0NBQXNCVCxXQUFVOzBDQUFvRjs7Ozs7OzBDQUN0Siw4REFBQ007Z0NBQUVDLE1BQU1YO2dDQUFLYyxRQUFRO2dDQUFDVixXQUFVOzBDQUFvRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNakkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmt2ZXJzZS1jbGllbnQvLi9zcmMvY29tcG9uZW50cy9jaGF0L0NoYXRCdWJibGUudHN4PzM4MzMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZURyYWcgfSBmcm9tICdyZWFjdC1kbmQnO1xuaW1wb3J0IHR5cGUgeyBEcmFnU291cmNlTW9uaXRvciB9IGZyb20gJ3JlYWN0LWRuZCc7XG5cbmV4cG9ydCB0eXBlIENoYXRCdWJibGVQcm9wcyA9IHtcbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgcGFuZWxJZD86IHN0cmluZyB8IG51bGw7XG4gIGltYWdlVXJsPzogc3RyaW5nO1xuICBvbkVkaXQ/OiAoKSA9PiB2b2lkO1xuICBvblJlZ2VuZXJhdGU/OiAocGFuZWxJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBkcmFnZ2FibGU/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIENoYXRCdWJibGUoeyByb2xlLCBjb250ZW50LCBwYW5lbElkLCBpbWFnZVVybCwgb25FZGl0LCBvblJlZ2VuZXJhdGUsIGRyYWdnYWJsZSB9OiBDaGF0QnViYmxlUHJvcHMpIHtcbiAgY29uc3QgW3sgaXNEcmFnZ2luZyB9LCBkcmFnXSA9IHVzZURyYWcoKCkgPT4gKHtcbiAgICB0eXBlOiAnUEFORUwnLFxuICAgIGl0ZW06IHsgcGFuZWxJZCB9LFxuICAgIGNhbkRyYWc6ICgpID0+IEJvb2xlYW4oZHJhZ2dhYmxlICYmIHBhbmVsSWQpLFxuICAgIGNvbGxlY3Q6IChtb25pdG9yOiBEcmFnU291cmNlTW9uaXRvcikgPT4gKHsgaXNEcmFnZ2luZzogbW9uaXRvci5pc0RyYWdnaW5nKCkgfSksXG4gIH0pLCBbcGFuZWxJZCwgZHJhZ2dhYmxlXSk7XG5cbiAgY29uc3QgaXNVc2VyID0gcm9sZSA9PT0gJ3VzZXInO1xuICBjb25zdCBsb29rc0xpa2VJbWFnZVVybCA9IChzOiBzdHJpbmcpID0+IC9eKGh0dHBzPzpcXC9cXC8pLitcXC4ocG5nfGpwZ3xqcGVnfHdlYnB8Z2lmKShcXD8uKik/JC9pLnRlc3Qocy50cmltKCkpO1xuICBjb25zdCB1cmwgPSBpbWFnZVVybCB8fCAobG9va3NMaWtlSW1hZ2VVcmwoY29udGVudCkgPyBjb250ZW50IDogdW5kZWZpbmVkKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHJlZj17ZHJhZ2dhYmxlID8gKGRyYWcgYXMgYW55KSA6IHVuZGVmaW5lZH1cbiAgICAgIGNsYXNzTmFtZT17YGdyb3VwIG1heC13LTN4bCAke2lzVXNlciA/ICdtbC1hdXRvJyA6ICcnfSAke2lzRHJhZ2dpbmcgPyAnb3BhY2l0eS02MCcgOiAnJ31gfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcm91bmRlZC0yeGwgcHgtNCBweS0zIHdoaXRlc3BhY2UtcHJlLXdyYXAgc2hhZG93LXNtIGJvcmRlciAke2lzVXNlciA/ICdiZy1hY2NlbnQgYm9yZGVyLWFjY2VudCB0ZXh0LXdoaXRlJyA6ICdiZy1iZy1wcmltYXJ5IGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtcHJpbWFyeSd9YH0+XG4gICAgICAgIHt1cmwgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yXCI+XG4gICAgICAgICAgICA8aW1nIHNyYz17dXJsfSBhbHQ9XCJnZW5lcmF0ZWQgaW1hZ2VcIiBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIGgtYXV0byByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHRcIiAvPlxuICAgICAgICAgICAge2NvbnRlbnQgJiYgIWxvb2tzTGlrZUltYWdlVXJsKGNvbnRlbnQpICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSBicmVhay13b3Jkc1wiPntjb250ZW50fTwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICBjb250ZW50XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTE1MCBtdC0xXCI+XG4gICAgICAgIHtvbkVkaXQgJiYgKFxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25FZGl0fSBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIj5FZGl0PC9idXR0b24+XG4gICAgICAgICl9XG4gICAgICAgIHtwYW5lbElkICYmIG9uUmVnZW5lcmF0ZSAmJiAoXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvblJlZ2VuZXJhdGUocGFuZWxJZCl9IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiPlJlZ2VuZXJhdGUgUGFuZWw8L2J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgICAge3VybCAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxhIGhyZWY9e3VybH0gdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiPlZpZXc8L2E+XG4gICAgICAgICAgICA8YSBocmVmPXt1cmx9IGRvd25sb2FkIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiPkRvd25sb2FkPC9hPlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRHJhZyIsIkNoYXRCdWJibGUiLCJyb2xlIiwiY29udGVudCIsInBhbmVsSWQiLCJpbWFnZVVybCIsIm9uRWRpdCIsIm9uUmVnZW5lcmF0ZSIsImRyYWdnYWJsZSIsImlzRHJhZ2dpbmciLCJkcmFnIiwidHlwZSIsIml0ZW0iLCJjYW5EcmFnIiwiQm9vbGVhbiIsImNvbGxlY3QiLCJtb25pdG9yIiwiaXNVc2VyIiwibG9va3NMaWtlSW1hZ2VVcmwiLCJzIiwidGVzdCIsInRyaW0iLCJ1cmwiLCJ1bmRlZmluZWQiLCJkaXYiLCJyZWYiLCJjbGFzc05hbWUiLCJpbWciLCJzcmMiLCJhbHQiLCJidXR0b24iLCJvbkNsaWNrIiwiYSIsImhyZWYiLCJ0YXJnZXQiLCJyZWwiLCJkb3dubG9hZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/chat/ChatBubble.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/providers/SupabaseProvider.tsx":
/*!*******************************************************!*\
  !*** ./src/components/providers/SupabaseProvider.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SupabaseProvider: () => (/* binding */ SupabaseProvider),\n/* harmony export */   useSupabase: () => (/* binding */ useSupabase)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(ssr)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* __next_internal_client_entry_do_not_use__ SupabaseProvider,useSupabase auto */ \n\n\nconst SupabaseCtx = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nfunction SupabaseProvider({ children }) {\n    const supabase = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const url = \"https://njnutxvshieiloagkcap.supabase.co\";\n        const anon = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5qbnV0eHZzaGllaWxvYWdrY2FwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNzM5MzcsImV4cCI6MjA3Nzk0OTkzN30.yggP_-zD-4ZREQHzmkRZJCJirEbUF85WS9Z3Ih_cKR4\";\n        if (!url || !anon) {\n            if (false) {}\n        }\n        if (false) {}\n        // Fallback (should not happen in client component SSR path)\n        if (!globalThis.__supabase__) {\n            globalThis.__supabase__ = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(url || \"\", anon || \"\");\n        }\n        return globalThis.__supabase__;\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SupabaseCtx.Provider, {\n        value: supabase,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/providers/SupabaseProvider.tsx\",\n        lineNumber: 35,\n        columnNumber: 10\n    }, this);\n}\nfunction useSupabase() {\n    const ctx = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(SupabaseCtx);\n    if (!ctx) throw new Error(\"SupabaseProvider is missing\");\n    return ctx;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9wcm92aWRlcnMvU3VwYWJhc2VQcm92aWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFMkQ7QUFDZTtBQUUxRSxNQUFNSSw0QkFBY0osb0RBQWFBLENBQXdCO0FBT2xELFNBQVNLLGlCQUFpQixFQUFFQyxRQUFRLEVBQWlDO0lBQzFFLE1BQU1DLFdBQVdMLDhDQUFPQSxDQUFDO1FBQ3ZCLE1BQU1NLE1BQU1DLDBDQUFvQztRQUNoRCxNQUFNRyxPQUFPSCxrTkFBeUM7UUFDdEQsSUFBSSxDQUFDRCxPQUFPLENBQUNJLE1BQU07WUFDakIsSUFBSSxLQUFrQixFQUFhLEVBRWxDO1FBQ0g7UUFDQSxJQUFJLEtBQWtCLEVBQWEsRUFLbEM7UUFDRCw0REFBNEQ7UUFDNUQsSUFBSSxDQUFDTSxXQUFXRCxZQUFZLEVBQUU7WUFDNUJDLFdBQVdELFlBQVksR0FBR2QsbUVBQVlBLENBQUNLLE9BQU8sSUFBSUksUUFBUTtRQUM1RDtRQUNBLE9BQU9NLFdBQVdELFlBQVk7SUFDaEMsR0FBRyxFQUFFO0lBRUwscUJBQU8sOERBQUNiLFlBQVllLFFBQVE7UUFBQ0MsT0FBT2I7a0JBQVdEOzs7Ozs7QUFDakQ7QUFFTyxTQUFTZTtJQUNkLE1BQU1DLE1BQU1yQixpREFBVUEsQ0FBQ0c7SUFDdkIsSUFBSSxDQUFDa0IsS0FBSyxNQUFNLElBQUlDLE1BQU07SUFDMUIsT0FBT0Q7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2lua3ZlcnNlLWNsaWVudC8uL3NyYy9jb21wb25lbnRzL3Byb3ZpZGVycy9TdXBhYmFzZVByb3ZpZGVyLnRzeD9iZWFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50LCB0eXBlIFN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuY29uc3QgU3VwYWJhc2VDdHggPSBjcmVhdGVDb250ZXh0PFN1cGFiYXNlQ2xpZW50IHwgbnVsbD4obnVsbCk7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgX19zdXBhYmFzZV9fOiBTdXBhYmFzZUNsaWVudCB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN1cGFiYXNlUHJvdmlkZXIoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkge1xuICBjb25zdCBzdXBhYmFzZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbiAgICBjb25zdCBhbm9uID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk7XG4gICAgaWYgKCF1cmwgfHwgIWFub24pIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1N1cGFiYXNlIGVudiBpcyBtaXNzaW5nIGluIE5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCAvIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKCF3aW5kb3cuX19zdXBhYmFzZV9fKSB7XG4gICAgICAgIHdpbmRvdy5fX3N1cGFiYXNlX18gPSBjcmVhdGVDbGllbnQodXJsIHx8ICcnLCBhbm9uIHx8ICcnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3aW5kb3cuX19zdXBhYmFzZV9fO1xuICAgIH1cbiAgICAvLyBGYWxsYmFjayAoc2hvdWxkIG5vdCBoYXBwZW4gaW4gY2xpZW50IGNvbXBvbmVudCBTU1IgcGF0aClcbiAgICBpZiAoIWdsb2JhbFRoaXMuX19zdXBhYmFzZV9fKSB7XG4gICAgICBnbG9iYWxUaGlzLl9fc3VwYWJhc2VfXyA9IGNyZWF0ZUNsaWVudCh1cmwgfHwgJycsIGFub24gfHwgJycpO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5fX3N1cGFiYXNlX187XG4gIH0sIFtdKTtcblxuICByZXR1cm4gPFN1cGFiYXNlQ3R4LlByb3ZpZGVyIHZhbHVlPXtzdXBhYmFzZX0+e2NoaWxkcmVufTwvU3VwYWJhc2VDdHguUHJvdmlkZXI+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlU3VwYWJhc2UoKSB7XG4gIGNvbnN0IGN0eCA9IHVzZUNvbnRleHQoU3VwYWJhc2VDdHgpO1xuICBpZiAoIWN0eCkgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZVByb3ZpZGVyIGlzIG1pc3NpbmcnKTtcbiAgcmV0dXJuIGN0eDtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZU1lbW8iLCJjcmVhdGVDbGllbnQiLCJTdXBhYmFzZUN0eCIsIlN1cGFiYXNlUHJvdmlkZXIiLCJjaGlsZHJlbiIsInN1cGFiYXNlIiwidXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsImFub24iLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvbnNvbGUiLCJ3YXJuIiwid2luZG93IiwiX19zdXBhYmFzZV9fIiwiZ2xvYmFsVGhpcyIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VTdXBhYmFzZSIsImN0eCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/providers/SupabaseProvider.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/pwa/RegisterSW.tsx":
/*!*******************************************!*\
  !*** ./src/components/pwa/RegisterSW.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RegisterSW: () => (/* binding */ RegisterSW)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ RegisterSW auto */ \nfunction RegisterSW() {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (\"serviceWorker\" in navigator) {\n            const swUrl = \"/sw.js\";\n            navigator.serviceWorker.register(swUrl).catch((err)=>console.warn(\"[PWA] SW registration failed\", err));\n        }\n    }, []);\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9wd2EvUmVnaXN0ZXJTVy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O2dFQUVrQztBQUUzQixTQUFTQztJQUNkRCxnREFBU0EsQ0FBQztRQUNSLElBQUksbUJBQW1CRSxXQUFXO1lBQ2hDLE1BQU1DLFFBQVE7WUFDZEQsVUFBVUUsYUFBYSxDQUNwQkMsUUFBUSxDQUFDRixPQUNURyxLQUFLLENBQUMsQ0FBQ0MsTUFBUUMsUUFBUUMsSUFBSSxDQUFDLGdDQUFnQ0Y7UUFDakU7SUFDRixHQUFHLEVBQUU7SUFDTCxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmt2ZXJzZS1jbGllbnQvLi9zcmMvY29tcG9uZW50cy9wd2EvUmVnaXN0ZXJTVy50c3g/MTdjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gUmVnaXN0ZXJTVygpIHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuICAgICAgY29uc3Qgc3dVcmwgPSAnL3N3LmpzJztcbiAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyXG4gICAgICAgIC5yZWdpc3Rlcihzd1VybClcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUud2FybignW1BXQV0gU1cgcmVnaXN0cmF0aW9uIGZhaWxlZCcsIGVycikpO1xuICAgIH1cbiAgfSwgW10pO1xuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJSZWdpc3RlclNXIiwibmF2aWdhdG9yIiwic3dVcmwiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJ3YXJuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/pwa/RegisterSW.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/workspace/CharacterManager.tsx":
/*!*******************************************************!*\
  !*** ./src/components/workspace/CharacterManager.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CharacterManager: () => (/* binding */ CharacterManager)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(ssr)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* __next_internal_client_entry_do_not_use__ CharacterManager auto */ \n\n\n\n\nfunction classNames(...xs) {\n    return xs.filter(Boolean).join(\" \");\n}\nfunction setByPath(base, path, value) {\n    const root = base && typeof base === \"object\" ? {\n        ...base\n    } : {};\n    let curr = root;\n    for(let i = 0; i < path.length - 1; i++){\n        const k = path[i];\n        if (!curr[k] || typeof curr[k] !== \"object\") curr[k] = {};\n        curr = curr[k];\n    }\n    curr[path[path.length - 1]] = value;\n    return root;\n}\nfunction delByPath(base, path) {\n    const root = base && typeof base === \"object\" ? {\n        ...base\n    } : {};\n    let curr = root;\n    for(let i = 0; i < path.length - 1; i++){\n        const k = path[i];\n        if (!curr[k] || typeof curr[k] !== \"object\") return root;\n        curr = curr[k];\n    }\n    delete curr[path[path.length - 1]];\n    return root;\n}\nfunction toNestedFromTags(tags) {\n    let obj = {};\n    for (const t of tags){\n        const parts = t.key.split(\".\").map((s)=>s.trim()).filter(Boolean);\n        if (!parts.length) continue;\n        obj = setByPath(obj, parts, t.value);\n    }\n    return obj;\n}\nfunction parseSupabasePublicUrl(url) {\n    try {\n        const idx = url.indexOf(\"/storage/v1/object/public/\");\n        if (idx === -1) return null;\n        const rest = url.slice(idx + \"/storage/v1/object/public/\".length);\n        const firstSlash = rest.indexOf(\"/\");\n        if (firstSlash === -1) return null;\n        const bucket = rest.slice(0, firstSlash);\n        const path = rest.slice(firstSlash + 1);\n        if (!bucket || !path) return null;\n        return {\n            bucket,\n            path\n        };\n    } catch  {\n        return null;\n    }\n}\nfunction CharacterManager({ projectId, requireImage }) {\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_3__.createApi)(supabase), [\n        supabase\n    ]);\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [filter, setFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deleting, setDeleting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [toast, setToast] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [form, setForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\",\n        images: []\n    });\n    const [traits, setTraits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [uploadStatus, setUploadStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const dropRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const supaEnvOk =  true && !!\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5qbnV0eHZzaGllaWxvYWdrY2FwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNzM5MzcsImV4cCI6MjA3Nzk0OTkzN30.yggP_-zD-4ZREQHzmkRZJCJirEbUF85WS9Z3Ih_cKR4\";\n    const charBucketName = process.env.NEXT_PUBLIC_SUPABASE_CHAR_BUCKET || process.env.NEXT_PUBLIC_SUPABASE_IMAGE_BUCKET || process.env.NEXT_PUBLIC_SUPABASE_BUCKET || \"character-images\";\n    const cacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_characters`, [\n        projectId\n    ]);\n    const activeKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_characters_active`, [\n        projectId\n    ]);\n    const [hasCache, setHasCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const itemsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(items);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const s =  false ? 0 : null;\n            if (s) {\n                const arr = JSON.parse(s);\n                if (Array.isArray(arr)) {\n                    setItems(arr);\n                    const valid = arr.length > 0;\n                    setHasCache(valid);\n                    if (valid) setLoading(false);\n                }\n            }\n        } catch  {}\n    }, [\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasCache) {\n                return;\n            }\n            try {\n                if (!hasCache) setLoading(true);\n                const res = await api.listCharacters(projectId);\n                if (!mounted) return;\n                const next = res || [];\n                try {\n                    if (hasCache && JSON.stringify(next) === JSON.stringify(itemsRef.current)) {\n                        return;\n                    }\n                } catch  {}\n                setItems(next);\n            } catch (e) {\n                if (!mounted) return;\n                setError(e?.message || \"Failed to load characters\");\n            } finally{\n                if (mounted) setLoading(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        hasCache\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        items,\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        itemsRef.current = items;\n    }, [\n        items\n    ]);\n    // Restore last active selection\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const v =  false ? 0 : null;\n            if (v) setActiveId(v);\n        } catch  {}\n    }, [\n        activeKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (activeId && \"undefined\" !== \"undefined\") {}\n        } catch  {}\n    }, [\n        activeId,\n        activeKey\n    ]);\n    // Reflect chat-driven upserts instantly\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onUpsert(ev) {\n            const ce = ev;\n            const item = ce?.detail?.item;\n            if (!item || !item.id) return;\n            setItems((prev)=>{\n                const idx = prev.findIndex((x)=>x.id === item.id);\n                if (idx >= 0) {\n                    const next = [\n                        ...prev\n                    ];\n                    next[idx] = {\n                        ...next[idx],\n                        ...item\n                    };\n                    return next;\n                }\n                return [\n                    ...prev,\n                    item\n                ];\n            });\n            if (activeId === item.id) {\n                setForm({\n                    id: item.id,\n                    name: item.name,\n                    role: item.role || \"\",\n                    summary: item.summary || \"\",\n                    images: item.images ?? (item.imageUrl ? [\n                        item.imageUrl\n                    ] : []),\n                    traits: item.traits || null\n                });\n                setTraits(item.traits || {});\n            }\n            notify(\"Character updated via chat\");\n        }\n        window.addEventListener(\"workspace:character-upsert\", onUpsert);\n        return ()=>window.removeEventListener(\"workspace:character-upsert\", onUpsert);\n    }, [\n        activeId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeId) return;\n        if (activeId === \"__new__\") {\n            setForm({\n                name: \"\",\n                images: []\n            });\n            setTraits({});\n            return;\n        }\n        const it = items.find((x)=>x.id === activeId);\n        if (!it) return;\n        setForm({\n            id: it.id,\n            name: it.name,\n            role: it.role || \"\",\n            summary: it.summary || \"\",\n            images: it.images ?? (it.imageUrl ? [\n                it.imageUrl\n            ] : []),\n            traits: it.traits || null\n        });\n        setTraits(it.traits || {});\n    }, [\n        activeId,\n        items\n    ]);\n    const filtered = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const q = filter.trim().toLowerCase();\n        if (!q) return items;\n        return items.filter((x)=>(x.name || \"\").toLowerCase().includes(q) || (x.role || \"\").toLowerCase().includes(q));\n    }, [\n        items,\n        filter\n    ]);\n    const onNew = ()=>{\n        setActiveId(\"__new__\");\n        setForm({\n            name: \"\",\n            images: []\n        });\n        setTraits({});\n    };\n    // Removed brainstorm/refine suggestion logic\n    const notify = (msg)=>{\n        if (toastTimer.current) clearTimeout(toastTimer.current);\n        setToast(msg);\n        toastTimer.current = setTimeout(()=>setToast(\"\"), 2500);\n    };\n    const onUploadFiles = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (files)=>{\n        if (!files || files.length === 0) return;\n        setUploading(true);\n        setUploadStatus(\"uploading\");\n        const startImages = form.images || [];\n        const newUrls = [];\n        try {\n            const bucket = process.env.NEXT_PUBLIC_SUPABASE_CHAR_BUCKET || process.env.NEXT_PUBLIC_SUPABASE_IMAGE_BUCKET || process.env.NEXT_PUBLIC_SUPABASE_BUCKET || \"character-images\";\n            for (const file of files){\n                const ext = file.name.split(\".\").pop() || \"jpg\";\n                const path = `${projectId}/${Date.now()}-${Math.random().toString(36).slice(2)}.${ext}`;\n                try {\n                    console.debug(\"Supabase upload start\", {\n                        bucket,\n                        path,\n                        file: {\n                            name: file.name,\n                            type: file.type,\n                            size: file.size\n                        }\n                    });\n                } catch  {}\n                const { error: upErr } = await supabase.storage.from(bucket).upload(path, file, {\n                    upsert: true,\n                    contentType: file.type\n                });\n                if (upErr) throw upErr;\n                const { data } = supabase.storage.from(bucket).getPublicUrl(path);\n                const url = data.publicUrl;\n                newUrls.push(url);\n                // Optimistically reflect in UI per file\n                setForm((f)=>({\n                        ...f,\n                        images: [\n                            ...f.images || [],\n                            url\n                        ]\n                    }));\n                try {\n                    console.debug(\"Supabase upload done\", {\n                        url\n                    });\n                } catch  {}\n            }\n            const nextImages = [\n                ...startImages,\n                ...newUrls\n            ];\n            if (activeId === \"__new__\") {\n                try {\n                    const name = form.name && form.name.trim() || \"Untitled Character\";\n                    const payload = {\n                        name,\n                        role: form.role || undefined,\n                        summary: form.summary || undefined,\n                        images: nextImages,\n                        traits\n                    };\n                    try {\n                        console.debug(\"Auto-creating character after batch upload\", {\n                            name,\n                            imagesCount: nextImages.length\n                        });\n                    } catch  {}\n                    const created = await api.createCharacter(projectId, payload);\n                    setItems((prev)=>[\n                            ...prev,\n                            created\n                        ]);\n                    setActiveId(created.id);\n                    try {\n                        console.debug(\"Auto-created character\", {\n                            id: created.id\n                        });\n                    } catch  {}\n                } catch (e) {\n                    notify(e?.message || \"Failed to create character\");\n                    try {\n                        console.error(\"Auto-create character failed\", e);\n                    } catch  {}\n                }\n            } else if (activeId) {\n                try {\n                    try {\n                        console.debug(\"Persisting character images (batch)\", {\n                            charId: activeId,\n                            count: nextImages.length\n                        });\n                    } catch  {}\n                    const res = await api.updateCharacter(projectId, activeId, {\n                        images: nextImages\n                    });\n                    setItems((prev)=>prev.map((x)=>x.id === res.id ? res : x));\n                    try {\n                        console.debug(\"Persisted character images ok\", {\n                            id: res.id\n                        });\n                    } catch  {}\n                } catch (e) {\n                    notify(e?.message || \"Failed to persist images\");\n                    try {\n                        console.error(\"Persisting character images failed\", e);\n                    } catch  {}\n                }\n            }\n            notify(\"Image(s) uploaded\");\n            setUploadStatus(\"uploaded\");\n            setTimeout(()=>{\n                try {\n                    setUploadStatus(\"idle\");\n                } catch  {}\n            }, 2000);\n        } catch (e) {\n            notify(e?.message || \"Upload failed\");\n            try {\n                console.error(\"Upload failed\", e);\n            } catch  {}\n            setUploadStatus(\"error\");\n        } finally{\n            setUploading(false);\n        }\n    }, [\n        projectId,\n        supabase,\n        activeId,\n        api,\n        form,\n        traits\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = dropRef.current;\n        if (!el) return;\n        const onDrop = (e)=>{\n            e.preventDefault();\n            const files = Array.from(e.dataTransfer?.files || []);\n            if (files.length) {\n                (async ()=>{\n                    await onUploadFiles(files);\n                })();\n            }\n            el.classList.remove(\"ring-2\", \"ring-blue-500\");\n        };\n        const onDrag = (e)=>{\n            e.preventDefault();\n            el.classList.add(\"ring-2\", \"ring-blue-500\");\n        };\n        const onLeave = (e)=>{\n            e.preventDefault();\n            el.classList.remove(\"ring-2\", \"ring-blue-500\");\n        };\n        el.addEventListener(\"drop\", onDrop);\n        el.addEventListener(\"dragover\", onDrag);\n        el.addEventListener(\"dragleave\", onLeave);\n        return ()=>{\n            el.removeEventListener(\"drop\", onDrop);\n            el.removeEventListener(\"dragover\", onDrag);\n            el.removeEventListener(\"dragleave\", onLeave);\n        };\n    }, [\n        onUploadFiles\n    ]);\n    // ----- Traits editor helpers (strings-only values, arrays supported, depth<=5) -----\n    const clone = (o)=>JSON.parse(JSON.stringify(o ?? {}));\n    const isObj = (v)=>v && typeof v === \"object\" && !Array.isArray(v);\n    const setVal = (path, val)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < path.length - 1; i++)ref = ref[path[i]];\n            ref[path[path.length - 1]] = val;\n            return nxt;\n        });\n    };\n    const delKey = (pathToParent, key)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToParent.length; i++)ref = ref[pathToParent[i]];\n            if (Array.isArray(ref) && typeof key === \"number\") ref.splice(key, 1);\n            else if (ref && typeof ref === \"object\") delete ref[key];\n            return nxt;\n        });\n    };\n    const renameKey = (pathToParent, oldKey, newKey)=>{\n        if (!newKey) return;\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToParent.length; i++)ref = ref[pathToParent[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            if (oldKey === newKey) return nxt;\n            const val = ref[oldKey];\n            delete ref[oldKey];\n            ref[newKey] = val;\n            return nxt;\n        });\n    };\n    const addChild = (pathToObj, depth)=>{\n        if (depth >= 5) return; // depth limit\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToObj.length; i++)ref = ref[pathToObj[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            let base = \"key\";\n            let i2 = 1;\n            let key = base;\n            while(Object.prototype.hasOwnProperty.call(ref, key)){\n                key = `${base}-${i2++}`;\n            }\n            ref[key] = \"\"; // default as string leaf\n            return nxt;\n        });\n    };\n    const addRootKey = ()=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let base = \"key\";\n            let i = 1;\n            let k = base;\n            while(Object.prototype.hasOwnProperty.call(nxt, k)){\n                k = `${base}-${i++}`;\n            }\n            nxt[k] = \"\";\n            return nxt;\n        });\n    };\n    const convertType = (path, parentPath, key, nextType, depth)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < parentPath.length; i++)ref = ref[parentPath[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            if (nextType === \"string\") ref[key] = \"\";\n            else if (nextType === \"object\") ref[key] = depth >= 5 ? \"\" : {};\n            else if (nextType === \"array\") ref[key] = [];\n            return nxt;\n        });\n    };\n    const addArrayItem = (pathToArr)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToArr.length; i++)ref = ref[pathToArr[i]];\n            if (Array.isArray(ref)) ref.push(\"\");\n            return nxt;\n        });\n    };\n    // Expose handlers to nested TraitObject/TraitRow without prop-drilling\n    TraitObject._parent = {\n        setVal,\n        delKey,\n        renameKey,\n        addChild,\n        convertType,\n        addArrayItem\n    };\n    const onSave = async ()=>{\n        if (!form.name.trim()) {\n            notify(\"Name is required\");\n            return;\n        }\n        if (requireImage && !(Array.isArray(form.images) && form.images.length > 0)) {\n            notify(\"Image is required in manhwa mode\");\n            return;\n        }\n        setSaving(true);\n        try {\n            const traitsObj = traits;\n            if (activeId === \"__new__\") {\n                const res = await api.createCharacter(projectId, {\n                    name: form.name.trim(),\n                    role: form.role || undefined,\n                    summary: form.summary || undefined,\n                    images: Array.isArray(form.images) ? form.images : undefined,\n                    traits: traitsObj\n                });\n                setItems((prev)=>[\n                        ...prev,\n                        res\n                    ]);\n                setActiveId(res.id);\n            } else if (activeId) {\n                const res = await api.updateCharacter(projectId, activeId, {\n                    name: form.name.trim(),\n                    role: form.role || undefined,\n                    summary: form.summary || undefined,\n                    images: Array.isArray(form.images) ? form.images : undefined,\n                    traits: traitsObj\n                });\n                setItems((prev)=>prev.map((x)=>x.id === res.id ? res : x));\n            }\n            notify(\"Saved\");\n        } catch (e) {\n            notify(e?.message || \"Save failed\");\n        } finally{\n            setSaving(false);\n        }\n    };\n    const onDelete = async ()=>{\n        if (!activeId || activeId === \"__new__\") return;\n        if (!confirm(\"Delete this character?\")) return;\n        setDeleting(true);\n        try {\n            await api.deleteCharacter(projectId, activeId);\n            setItems((prev)=>prev.filter((x)=>x.id !== activeId));\n            setActiveId(null);\n            setForm({\n                name: \"\",\n                images: []\n            });\n            setTraits({});\n            notify(\"Deleted\");\n        } catch (e) {\n            notify(e?.message || \"Delete failed\");\n        } finally{\n            setDeleting(false);\n        }\n    };\n    const count = items.length;\n    const active = activeId === \"__new__\" ? form : items.find((x)=>x.id === activeId) || null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full grid grid-rows-[auto_1fr]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-b border-border-default px-6 py-4 flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-base font-semibold text-text-primary\",\n                                children: \"Character Management\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 460,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs px-2 py-1 rounded-md border border-border-default text-text-secondary\",\n                                children: [\n                                    count,\n                                    \" Characters\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 461,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 459,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onNew,\n                            className: \"rounded-lg bg-bg-elevated border border-border-default hover:border-accent hover:bg-bg-hover text-text-secondary hover:text-text-primary text-sm px-4 py-3 inline-flex items-center justify-center gap-2 transition-all duration-150 hover:-translate-y-0.5\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 465,\n                                    columnNumber: 13\n                                }, this),\n                                \"New Character\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 464,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 463,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 458,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-0 grid\",\n                style: {\n                    gridTemplateColumns: \"35% 65%\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"border-r border-border-default min-h-0 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-3\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: filter,\n                                            onChange: (e)=>setFilter(e.target.value),\n                                            placeholder: \"Search characters\",\n                                            className: \"w-full bg-bg-primary border border-border-default rounded-md pl-9 pr-3 py-2.5 text-sm text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 475,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            className: \"w-4 h-4 absolute left-3 top-3 text-text-tertiary\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 476,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 474,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 473,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto px-3 pb-3\",\n                                children: [\n                                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-text-secondary px-2 py-2\",\n                                        children: \"Loading\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 480,\n                                        columnNumber: 25\n                                    }, this),\n                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-red-400 px-2 py-2 bg-red-950/20 rounded-md border border-red-500/20\",\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 481,\n                                        columnNumber: 23\n                                    }, this),\n                                    !loading && !filtered.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-10 text-center text-text-tertiary text-sm\",\n                                        children: \"No characters yet. Create your first character!\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 483,\n                                        columnNumber: 15\n                                    }, this),\n                                    filtered.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setActiveId(c.id),\n                                            className: classNames(\"w-full text-left px-3 py-3 rounded-md mb-2 transition-all\", activeId === c.id ? \"border-l-2 border-blue-500 bg-bg-elevated\" : \"hover:bg-bg-hover\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-12 h-12 rounded-full bg-bg-primary border border-border-default overflow-hidden flex items-center justify-center\",\n                                                        children: c.images?.[0] || c.imageUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: c.images?.[0] || c.imageUrl,\n                                                            alt: c.name,\n                                                            className: \"w-full h-full object-cover\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 490,\n                                                            columnNumber: 23\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: \"No Img\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 492,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                        lineNumber: 488,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1 min-w-0\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-sm font-medium text-text-primary truncate\",\n                                                                children: c.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 496,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-text-tertiary truncate\",\n                                                                children: c.role || \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 497,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                        lineNumber: 495,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                lineNumber: 487,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, c.id, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 486,\n                                            columnNumber: 15\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 479,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 472,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"min-h-0 overflow-y-auto p-6\",\n                        \"aria-label\": \"Character details\",\n                        children: activeId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-2xl mx-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: dropRef,\n                                    className: \"flex flex-col items-start mb-6 p-4 rounded-xl border border-border-default bg-bg-elevated w-full\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2 mb-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Character Images\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 510,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"px-3 py-2 rounded-md border border-border-default bg-bg-primary text-text-secondary hover:text-text-primary inline-flex items-center gap-2 cursor-pointer\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 512,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Upload Image\",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"file\",\n                                                            accept: \"image/*\",\n                                                            multiple: true,\n                                                            className: \"hidden\",\n                                                            onChange: (e)=>{\n                                                                const files = Array.from(e.target.files || []);\n                                                                if (files.length) {\n                                                                    (async ()=>{\n                                                                        await onUploadFiles(files);\n                                                                    })();\n                                                                }\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 514,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 511,\n                                                    columnNumber: 19\n                                                }, this),\n                                                uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-text-tertiary inline-flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                            className: \"w-3 h-3 animate-spin\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 516,\n                                                            columnNumber: 108\n                                                        }, this),\n                                                        \" Uploading\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 516,\n                                                    columnNumber: 33\n                                                }, this),\n                                                uploadStatus === \"uploaded\" && !uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-green-400\",\n                                                    children: \"Uploaded\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 517,\n                                                    columnNumber: 65\n                                                }, this),\n                                                uploadStatus === \"error\" && !uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-red-400\",\n                                                    children: \"Upload failed\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 518,\n                                                    columnNumber: 62\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"ml-2 text-[10px] text-text-tertiary\",\n                                                    children: [\n                                                        \"Env: \",\n                                                        supaEnvOk ? \"ok\" : \"missing\",\n                                                        \" \\xb7 Bucket: \",\n                                                        charBucketName\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 519,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 509,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-2 overflow-x-auto w-full pb-1\",\n                                            children: [\n                                                (form.images || []).map((url, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"relative border border-border-default rounded-md overflow-hidden bg-bg-primary flex-none w-24 h-24\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                src: url,\n                                                                alt: \"character\",\n                                                                className: \"w-full h-full object-cover\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 524,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"absolute top-1 right-1 bg-black/60 text-white rounded p-1\",\n                                                                title: \"Remove\",\n                                                                onClick: async ()=>{\n                                                                    try {\n                                                                        console.debug(\"Removing character image\", {\n                                                                            charId: activeId,\n                                                                            idx\n                                                                        });\n                                                                    } catch  {}\n                                                                    const removedUrl = (form.images || [])[idx];\n                                                                    const nextImages = (form.images || []).filter((_, i)=>i !== idx);\n                                                                    setForm((f)=>({\n                                                                            ...f,\n                                                                            images: nextImages\n                                                                        }));\n                                                                    if (activeId && activeId !== \"__new__\") {\n                                                                        try {\n                                                                            const res = await api.updateCharacter(projectId, activeId, {\n                                                                                images: nextImages\n                                                                            });\n                                                                            setItems((prev)=>prev.map((x)=>x.id === res.id ? res : x));\n                                                                            notify(\"Image removed\");\n                                                                            try {\n                                                                                console.debug(\"Removed character image persisted\", {\n                                                                                    id: res.id,\n                                                                                    count: nextImages.length\n                                                                                });\n                                                                            } catch  {}\n                                                                            try {\n                                                                                const parsed = removedUrl ? parseSupabasePublicUrl(removedUrl) : null;\n                                                                                if (parsed) {\n                                                                                    await supabase.storage.from(parsed.bucket).remove([\n                                                                                        parsed.path\n                                                                                    ]);\n                                                                                }\n                                                                            } catch  {}\n                                                                        } catch (e) {\n                                                                            notify(e?.message || \"Failed to persist removal\");\n                                                                            try {\n                                                                                console.error(\"Persist character remove failed\", e);\n                                                                            } catch  {}\n                                                                        }\n                                                                    }\n                                                                },\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                    lineNumber: 550,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 525,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, idx, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                        lineNumber: 523,\n                                                        columnNumber: 21\n                                                    }, this)),\n                                                !(form.images || []).length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-text-tertiary\",\n                                                    children: \"No images yet. Upload or drop here.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 555,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 521,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 508,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Name\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 562,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    value: form.name,\n                                                    onChange: (e)=>setForm((f)=>({\n                                                                ...f,\n                                                                name: e.target.value\n                                                            })),\n                                                    className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 563,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 561,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Role\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 566,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    value: form.role || \"\",\n                                                    onChange: (e)=>setForm((f)=>({\n                                                                ...f,\n                                                                role: e.target.value\n                                                            })),\n                                                    list: \"roles\",\n                                                    className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 567,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"datalist\", {\n                                                    id: \"roles\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Protagonist\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 569,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Antagonist\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 570,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Supporting\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 571,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Mentor\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 572,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Love Interest\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 573,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 568,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 565,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Summary\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 577,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                    value: form.summary || \"\",\n                                                    onChange: (e)=>setForm((f)=>({\n                                                                ...f,\n                                                                summary: e.target.value\n                                                            })),\n                                                    rows: 5,\n                                                    className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent text-sm\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 578,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[11px] text-text-tertiary\",\n                                                    children: [\n                                                        (form.summary || \"\").length,\n                                                        \" characters\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 579,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 576,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                            children: \"Traits\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 584,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: addRootKey,\n                                                            className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                    lineNumber: 585,\n                                                                    columnNumber: 195\n                                                                }, this),\n                                                                \" Add key\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 585,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 583,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1\",\n                                                    children: [\n                                                        Object.keys(traits || {}).length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: \"No traits yet. Add a key.\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 589,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitObject, {\n                                                            obj: traits,\n                                                            path: [],\n                                                            depth: 1\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 591,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 587,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 582,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between pt-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: onDelete,\n                                                    disabled: !activeId || activeId === \"__new__\" || deleting,\n                                                    className: \"text-red-400 hover:text-red-300 inline-flex items-center gap-2 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 597,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Delete Character\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 596,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>{\n                                                                setActiveId(null);\n                                                            },\n                                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover\",\n                                                            children: \"Cancel\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 601,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: onSave,\n                                                            disabled: saving,\n                                                            className: \"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 text-white\",\n                                                            children: saving ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"inline-flex items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                        className: \"w-4 h-4 animate-spin\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                        lineNumber: 603,\n                                                                        columnNumber: 82\n                                                                    }, this),\n                                                                    \" Saving\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 603,\n                                                                columnNumber: 33\n                                                            }, this) : \"Save Character\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 602,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 600,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 595,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 560,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 507,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-tertiary\",\n                            children: \"Select a character or create a new one.\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 610,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 505,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 471,\n                columnNumber: 7\n            }, this),\n            toast && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-4 right-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 rounded-lg bg-bg-elevated border border-border-default text-text-primary text-sm shadow-elevation\",\n                    children: toast\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                    lineNumber: 617,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 616,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n        lineNumber: 457,\n        columnNumber: 5\n    }, this);\n}\nfunction TraitObject({ obj, path, depth }) {\n    const [_, setTick] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Access editor functions from outer scope via window proxy is not ideal; we rely on closures in parent component.\n    // This inline component depends on functions bound on window by parent closure.\n    // To keep everything in one file and avoid prop-drilling many handlers, we will re-grab them from React context via closures.\n    const parent = TraitObject._parent;\n    const ctx = parent || useCharacterManagerContext();\n    TraitObject._parent = ctx;\n    const keys = Object.keys(obj || {});\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-2\",\n        children: keys.map((k)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitRow, {\n                k: k,\n                v: obj[k],\n                parentPath: path,\n                depth: depth,\n                ctx: ctx\n            }, k, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 646,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n        lineNumber: 644,\n        columnNumber: 5\n    }, this);\n}\nfunction TraitRow({ k, v, parentPath, depth, ctx }) {\n    const isArray = Array.isArray(v);\n    const isObject = v && typeof v === \"object\" && !isArray;\n    const type = isArray ? \"array\" : isObject ? \"object\" : \"string\";\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(k);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setName(k);\n    }, [\n        k\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border border-border-default rounded-md p-2 bg-bg-elevated\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        value: name,\n                        onChange: (e)=>setName(e.target.value),\n                        onBlur: ()=>{\n                            if (name !== k && name.trim()) ctx.renameKey(parentPath, k, name.trim());\n                        },\n                        onKeyDown: (e)=>{\n                            if (e.key === \"Enter\") {\n                                e.target.blur();\n                            }\n                        },\n                        placeholder: \"key\",\n                        className: \"flex-none w-48 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 662,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        value: type,\n                        onChange: (e)=>ctx.convertType([\n                                ...parentPath,\n                                k\n                            ], parentPath, k, e.target.value, depth),\n                        className: \"flex-none w-28 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"string\",\n                                children: \"String\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 671,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"object\",\n                                disabled: depth >= 5,\n                                children: \"Object\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 672,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"array\",\n                                children: \"Array\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 673,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 670,\n                        columnNumber: 9\n                    }, this),\n                    type === \"string\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        value: String(v || \"\"),\n                        onChange: (e)=>ctx.setVal([\n                                ...parentPath,\n                                k\n                            ], e.target.value),\n                        placeholder: \"value\",\n                        className: \"flex-1 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 676,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.delKey(parentPath, k),\n                        className: \"text-text-tertiary hover:text-red-400 text-sm ml-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 678,\n                            columnNumber: 123\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 678,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 661,\n                columnNumber: 7\n            }, this),\n            type === \"object\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 ml-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.addChild([\n                                ...parentPath,\n                                k\n                            ], depth + 1),\n                        disabled: depth >= 5,\n                        className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-3 h-3\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 682,\n                                columnNumber: 240\n                            }, this),\n                            \" Add child\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 682,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitObject, {\n                        obj: v,\n                        path: [\n                            ...parentPath,\n                            k\n                        ],\n                        depth: depth + 1\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 683,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 681,\n                columnNumber: 9\n            }, this),\n            type === \"array\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 ml-4 space-y-2\",\n                children: [\n                    v.map((item, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-text-tertiary\",\n                                    children: [\n                                        \"[\",\n                                        idx,\n                                        \"]\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 690,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    value: item,\n                                    onChange: (e)=>ctx.setVal([\n                                            ...parentPath,\n                                            k,\n                                            idx\n                                        ], e.target.value),\n                                    placeholder: \"value\",\n                                    className: \"flex-1 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 691,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>ctx.delKey([\n                                            ...parentPath,\n                                            k\n                                        ], idx),\n                                    className: \"text-text-tertiary hover:text-red-400 text-sm\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 692,\n                                        columnNumber: 131\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 692,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, idx, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 689,\n                            columnNumber: 13\n                        }, this)),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.addArrayItem([\n                                ...parentPath,\n                                k\n                            ]),\n                        className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-3 h-3\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 695,\n                                columnNumber: 215\n                            }, this),\n                            \" Add item\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 695,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 687,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n        lineNumber: 660,\n        columnNumber: 5\n    }, this);\n}\n// Lightweight context via closure binding\nfunction useCharacterManagerContext() {\n    // Find the nearest CharacterManager by walking React closure. In TSX single-file component, we pass handlers by property in TraitObject._parent above.\n    // Instead of a real React Context provider (extra boilerplate), expose noop fallbacks; they get overwritten when first TraitObject renders.\n    return {\n        setVal: (_p, _v)=>{},\n        delKey: (_pp, _k)=>{},\n        renameKey: (_pp, _old, _n)=>{},\n        addChild: (_p, _d)=>{},\n        convertType: (_p, _pp, _k, _t, _d)=>{},\n        addArrayItem: (_p)=>{}\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy93b3Jrc3BhY2UvQ2hhcmFjdGVyTWFuYWdlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFMEU7QUFDSjtBQUNoQztBQUNrQztBQWN4RSxTQUFTYSxXQUFXLEdBQUdDLEVBQTRDO0lBQ2pFLE9BQU9BLEdBQUdDLE1BQU0sQ0FBQ0MsU0FBU0MsSUFBSSxDQUFDO0FBQ2pDO0FBRUEsU0FBU0MsVUFBVUMsSUFBUyxFQUFFQyxJQUFjLEVBQUVDLEtBQVU7SUFDdEQsTUFBTUMsT0FBT0gsUUFBUSxPQUFPQSxTQUFTLFdBQVc7UUFBRSxHQUFHQSxJQUFJO0lBQUMsSUFBSSxDQUFDO0lBQy9ELElBQUlJLE9BQVlEO0lBQ2hCLElBQUssSUFBSUUsSUFBSSxHQUFHQSxJQUFJSixLQUFLSyxNQUFNLEdBQUcsR0FBR0QsSUFBSztRQUN4QyxNQUFNRSxJQUFJTixJQUFJLENBQUNJLEVBQUU7UUFDakIsSUFBSSxDQUFDRCxJQUFJLENBQUNHLEVBQUUsSUFBSSxPQUFPSCxJQUFJLENBQUNHLEVBQUUsS0FBSyxVQUFVSCxJQUFJLENBQUNHLEVBQUUsR0FBRyxDQUFDO1FBQ3hESCxPQUFPQSxJQUFJLENBQUNHLEVBQUU7SUFDaEI7SUFDQUgsSUFBSSxDQUFDSCxJQUFJLENBQUNBLEtBQUtLLE1BQU0sR0FBRyxFQUFFLENBQUMsR0FBR0o7SUFDOUIsT0FBT0M7QUFDVDtBQUVBLFNBQVNLLFVBQVVSLElBQVMsRUFBRUMsSUFBYztJQUMxQyxNQUFNRSxPQUFPSCxRQUFRLE9BQU9BLFNBQVMsV0FBVztRQUFFLEdBQUdBLElBQUk7SUFBQyxJQUFJLENBQUM7SUFDL0QsSUFBSUksT0FBWUQ7SUFDaEIsSUFBSyxJQUFJRSxJQUFJLEdBQUdBLElBQUlKLEtBQUtLLE1BQU0sR0FBRyxHQUFHRCxJQUFLO1FBQ3hDLE1BQU1FLElBQUlOLElBQUksQ0FBQ0ksRUFBRTtRQUNqQixJQUFJLENBQUNELElBQUksQ0FBQ0csRUFBRSxJQUFJLE9B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LElBQTBCQyxNQUFhO1FBQ2hEekUsUUFBUSxDQUFDMEUsS0FBMkJDLE1BQWE7UUFDakR4RSxXQUFXLENBQUN1RSxLQUEyQkUsTUFBY0MsTUFBZ0I7UUFDckV2RSxVQUFVLENBQUNrRSxJQUEwQk0sTUFBZ0I7UUFDckQvRCxhQUFhLENBQUN5RCxJQUEwQkUsS0FBMkJDLElBQVlJLElBQStCRCxNQUFnQjtRQUM5SDVELGNBQWMsQ0FBQ3NELE1BQThCO0lBQy9DO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmt2ZXJzZS1jbGllbnQvLi9zcmMvY29tcG9uZW50cy93b3Jrc3BhY2UvQ2hhcmFjdGVyTWFuYWdlci50c3g/OTRkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU3VwYWJhc2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL3Byb3ZpZGVycy9TdXBhYmFzZVByb3ZpZGVyXCI7XG5pbXBvcnQgeyBjcmVhdGVBcGkgfSBmcm9tIFwiQC9saWIvYXBpXCI7XG5pbXBvcnQgeyBMb2FkZXIyLCBQbHVzLCBTZWFyY2gsIFRyYXNoMiwgVXBsb2FkLCBYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuXG50eXBlIENoYXJhY3Rlckl0ZW0gPSB7XG4gIGlkPzogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHJvbGU/OiBzdHJpbmcgfCBudWxsO1xuICBzdW1tYXJ5Pzogc3RyaW5nIHwgbnVsbDtcbiAgaW1hZ2VzPzogc3RyaW5nW10gfCBudWxsO1xuICBpbWFnZVVybD86IHN0cmluZyB8IG51bGw7XG4gIHRyYWl0cz86IGFueSB8IG51bGw7XG4gIGNyZWF0ZWRBdD86IHN0cmluZztcbiAgdXBkYXRlZEF0Pzogc3RyaW5nO1xufTtcblxuZnVuY3Rpb24gY2xhc3NOYW1lcyguLi54czogQXJyYXk8c3RyaW5nIHwgZmFsc2UgfCBudWxsIHwgdW5kZWZpbmVkPikge1xuICByZXR1cm4geHMuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xufVxuXG5mdW5jdGlvbiBzZXRCeVBhdGgoYmFzZTogYW55LCBwYXRoOiBzdHJpbmdbXSwgdmFsdWU6IGFueSkge1xuICBjb25zdCByb290ID0gYmFzZSAmJiB0eXBlb2YgYmFzZSA9PT0gXCJvYmplY3RcIiA/IHsgLi4uYmFzZSB9IDoge307XG4gIGxldCBjdXJyOiBhbnkgPSByb290O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgY29uc3QgayA9IHBhdGhbaV07XG4gICAgaWYgKCFjdXJyW2tdIHx8IHR5cGVvZiBjdXJyW2tdICE9PSBcIm9iamVjdFwiKSBjdXJyW2tdID0ge307XG4gICAgY3VyciA9IGN1cnJba107XG4gIH1cbiAgY3VycltwYXRoW3BhdGgubGVuZ3RoIC0gMV1dID0gdmFsdWU7XG4gIHJldHVybiByb290O1xufVxuXG5mdW5jdGlvbiBkZWxCeVBhdGgoYmFzZTogYW55LCBwYXRoOiBzdHJpbmdbXSkge1xuICBjb25zdCByb290ID0gYmFzZSAmJiB0eXBlb2YgYmFzZSA9PT0gXCJvYmplY3RcIiA/IHsgLi4uYmFzZSB9IDoge307XG4gIGxldCBjdXJyOiBhbnkgPSByb290O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgY29uc3QgayA9IHBhdGhbaV07XG4gICAgaWYgKCFjdXJyW2tdIHx8IHR5cGVvZiBjdXJyW2tdICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcm9vdDtcbiAgICBjdXJyID0gY3VycltrXTtcbiAgfVxuICBkZWxldGUgY3VycltwYXRoW3BhdGgubGVuZ3RoIC0gMV1dO1xuICByZXR1cm4gcm9vdDtcbn1cblxuZnVuY3Rpb24gdG9OZXN0ZWRGcm9tVGFncyh0YWdzOiBBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+KSB7XG4gIGxldCBvYmo6IGFueSA9IHt9O1xuICBmb3IgKGNvbnN0IHQgb2YgdGFncykge1xuICAgIGNvbnN0IHBhcnRzID0gdC5rZXkuc3BsaXQoXCIuXCIpLm1hcCgocykgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgICBpZiAoIXBhcnRzLmxlbmd0aCkgY29udGludWU7XG4gICAgb2JqID0gc2V0QnlQYXRoKG9iaiwgcGFydHMsIHQudmFsdWUpO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHBhcnNlU3VwYWJhc2VQdWJsaWNVcmwodXJsOiBzdHJpbmcpOiB7IGJ1Y2tldDogc3RyaW5nOyBwYXRoOiBzdHJpbmcgfSB8IG51bGwge1xuICB0cnkge1xuICAgIGNvbnN0IGlkeCA9IHVybC5pbmRleE9mKCcvc3RvcmFnZS92MS9vYmplY3QvcHVibGljLycpO1xuICAgIGlmIChpZHggPT09IC0xKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCByZXN0ID0gdXJsLnNsaWNlKGlkeCArICcvc3RvcmFnZS92MS9vYmplY3QvcHVibGljLycubGVuZ3RoKTtcbiAgICBjb25zdCBmaXJzdFNsYXNoID0gcmVzdC5pbmRleE9mKCcvJyk7XG4gICAgaWYgKGZpcnN0U2xhc2ggPT09IC0xKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBidWNrZXQgPSByZXN0LnNsaWNlKDAsIGZpcnN0U2xhc2gpO1xuICAgIGNvbnN0IHBhdGggPSByZXN0LnNsaWNlKGZpcnN0U2xhc2ggKyAxKTtcbiAgICBpZiAoIWJ1Y2tldCB8fCAhcGF0aCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHsgYnVja2V0LCBwYXRoIH07XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGFyYWN0ZXJNYW5hZ2VyKHsgcHJvamVjdElkLCByZXF1aXJlSW1hZ2UgfTogeyBwcm9qZWN0SWQ6IHN0cmluZzsgcmVxdWlyZUltYWdlOiBib29sZWFuIH0pIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSB1c2VTdXBhYmFzZSgpO1xuICBjb25zdCBhcGkgPSB1c2VNZW1vKCgpID0+IGNyZWF0ZUFwaShzdXBhYmFzZSksIFtzdXBhYmFzZV0pO1xuXG4gIGNvbnN0IFtpdGVtcywgc2V0SXRlbXNdID0gdXNlU3RhdGU8Q2hhcmFjdGVySXRlbVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZmlsdGVyLCBzZXRGaWx0ZXJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthY3RpdmVJZCwgc2V0QWN0aXZlSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgXCJfX25ld19fXCIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RlbGV0aW5nLCBzZXREZWxldGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0b2FzdCwgc2V0VG9hc3RdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IHRvYXN0VGltZXIgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbZm9ybSwgc2V0Rm9ybV0gPSB1c2VTdGF0ZTxDaGFyYWN0ZXJJdGVtPih7IG5hbWU6IFwiXCIsIGltYWdlczogW10gfSk7XG4gIGNvbnN0IFt0cmFpdHMsIHNldFRyYWl0c10gPSB1c2VTdGF0ZTxhbnk+KHt9KTtcbiAgY29uc3QgW3VwbG9hZGluZywgc2V0VXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3VwbG9hZFN0YXR1cywgc2V0VXBsb2FkU3RhdHVzXSA9IHVzZVN0YXRlPCdpZGxlJ3wndXBsb2FkaW5nJ3wndXBsb2FkZWQnfCdlcnJvcic+KCdpZGxlJyk7XG4gIGNvbnN0IGRyb3BSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBzdXBhRW52T2sgPSAhIXByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCAmJiAhIXByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuICBjb25zdCBjaGFyQnVja2V0TmFtZSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0NIQVJfQlVDS0VUXG4gICAgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfSU1BR0VfQlVDS0VUXG4gICAgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQlVDS0VUXG4gICAgfHwgXCJjaGFyYWN0ZXItaW1hZ2VzXCI7XG5cbiAgY29uc3QgY2FjaGVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9jaGFyYWN0ZXJzYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBhY3RpdmVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9jaGFyYWN0ZXJzX2FjdGl2ZWAsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgW2hhc0NhY2hlLCBzZXRIYXNDYWNoZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGl0ZW1zUmVmID0gdXNlUmVmPENoYXJhY3Rlckl0ZW1bXT4oaXRlbXMpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHMgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShjYWNoZUtleSkgOiBudWxsO1xuICAgICAgaWYgKHMpIHtcbiAgICAgICAgY29uc3QgYXJyID0gSlNPTi5wYXJzZShzKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICAgIHNldEl0ZW1zKGFyciBhcyBDaGFyYWN0ZXJJdGVtW10pO1xuICAgICAgICAgIGNvbnN0IHZhbGlkID0gKGFyciBhcyBhbnlbXSkubGVuZ3RoID4gMDtcbiAgICAgICAgICBzZXRIYXNDYWNoZSh2YWxpZCk7XG4gICAgICAgICAgaWYgKHZhbGlkKSBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2gge31cbiAgfSwgW2NhY2hlS2V5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChoYXNDYWNoZSkgeyByZXR1cm47IH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghaGFzQ2FjaGUpIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5saXN0Q2hhcmFjdGVycyhwcm9qZWN0SWQpO1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV4dCA9IHJlcyB8fCBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoaGFzQ2FjaGUgJiYgSlNPTi5zdHJpbmdpZnkobmV4dCkgPT09IEpTT04uc3RyaW5naWZ5KGl0ZW1zUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgIHNldEl0ZW1zKG5leHQpO1xuICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBzZXRFcnJvcihlPy5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGxvYWQgY2hhcmFjdGVyc1wiKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChtb3VudGVkKSBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7IG1vdW50ZWQgPSBmYWxzZTsgfTtcbiAgfSwgW2FwaSwgcHJvamVjdElkLCBoYXNDYWNoZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGNhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShpdGVtcykpO1xuICAgIH0gY2F0Y2gge31cbiAgfSwgW2l0ZW1zLCBjYWNoZUtleV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7IGl0ZW1zUmVmLmN1cnJlbnQgPSBpdGVtczsgfSwgW2l0ZW1zXSk7XG5cbiAgLy8gUmVzdG9yZSBsYXN0IGFjdGl2ZSBzZWxlY3Rpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGFjdGl2ZUtleSkgOiBudWxsO1xuICAgICAgaWYgKHYpIHNldEFjdGl2ZUlkKHYgYXMgYW55KTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFthY3RpdmVLZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGFjdGl2ZUlkICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYWN0aXZlS2V5LCBhY3RpdmVJZCk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbYWN0aXZlSWQsIGFjdGl2ZUtleV0pO1xuXG4gIC8vIFJlZmxlY3QgY2hhdC1kcml2ZW4gdXBzZXJ0cyBpbnN0YW50bHlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBvblVwc2VydChldjogRXZlbnQpIHtcbiAgICAgIGNvbnN0IGNlID0gZXYgYXMgQ3VzdG9tRXZlbnQ7XG4gICAgICBjb25zdCBpdGVtID0gY2U/LmRldGFpbD8uaXRlbSBhcyBhbnk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0uaWQpIHJldHVybjtcbiAgICAgIHNldEl0ZW1zKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHByZXYuZmluZEluZGV4KCh4KSA9PiB4LmlkID09PSBpdGVtLmlkKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICBuZXh0W2lkeF0gPSB7IC4uLm5leHRbaWR4XSwgLi4uaXRlbSB9IGFzIGFueTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gWy4uLnByZXYsIGl0ZW1dO1xuICAgICAgfSk7XG4gICAgICBpZiAoYWN0aXZlSWQgPT09IGl0ZW0uaWQpIHtcbiAgICAgICAgc2V0Rm9ybSh7IGlkOiBpdGVtLmlkLCBuYW1lOiBpdGVtLm5hbWUsIHJvbGU6IGl0ZW0ucm9sZSB8fCBcIlwiLCBzdW1tYXJ5OiBpdGVtLnN1bW1hcnkgfHwgXCJcIiwgaW1hZ2VzOiAoaXRlbSBhcyBhbnkpLmltYWdlcyA/PyAoKGl0ZW0gYXMgYW55KS5pbWFnZVVybCA/IFsoaXRlbSBhcyBhbnkpLmltYWdlVXJsXSA6IFtdKSwgdHJhaXRzOiBpdGVtLnRyYWl0cyB8fCBudWxsIH0pO1xuICAgICAgICBzZXRUcmFpdHMoaXRlbS50cmFpdHMgfHwge30pO1xuICAgICAgfVxuICAgICAgbm90aWZ5KFwiQ2hhcmFjdGVyIHVwZGF0ZWQgdmlhIGNoYXRcIik7XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6Y2hhcmFjdGVyLXVwc2VydCcsIG9uVXBzZXJ0IGFzIGFueSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6Y2hhcmFjdGVyLXVwc2VydCcsIG9uVXBzZXJ0IGFzIGFueSk7XG4gIH0sIFthY3RpdmVJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhY3RpdmVJZCkgcmV0dXJuO1xuICAgIGlmIChhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIpIHtcbiAgICAgIHNldEZvcm0oeyBuYW1lOiBcIlwiLCBpbWFnZXM6IFtdIH0pO1xuICAgICAgc2V0VHJhaXRzKHt9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXQgPSBpdGVtcy5maW5kKCh4KSA9PiB4LmlkID09PSBhY3RpdmVJZCk7XG4gICAgaWYgKCFpdCkgcmV0dXJuO1xuICAgIHNldEZvcm0oeyBpZDogaXQuaWQsIG5hbWU6IGl0Lm5hbWUsIHJvbGU6IGl0LnJvbGUgfHwgXCJcIiwgc3VtbWFyeTogaXQuc3VtbWFyeSB8fCBcIlwiLCBpbWFnZXM6IChpdCBhcyBhbnkpLmltYWdlcyA/PyAoaXQuaW1hZ2VVcmwgPyBbaXQuaW1hZ2VVcmxdIDogW10pLCB0cmFpdHM6IGl0LnRyYWl0cyB8fCBudWxsIH0pO1xuICAgIHNldFRyYWl0cyhpdC50cmFpdHMgfHwge30pO1xuICB9LCBbYWN0aXZlSWQsIGl0ZW1zXSk7XG5cbiAgY29uc3QgZmlsdGVyZWQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBxID0gZmlsdGVyLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghcSkgcmV0dXJuIGl0ZW1zO1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoKHgpID0+ICh4Lm5hbWUgfHwgXCJcIikudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSB8fCAoeC5yb2xlIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkpO1xuICB9LCBbaXRlbXMsIGZpbHRlcl0pO1xuXG4gIGNvbnN0IG9uTmV3ID0gKCkgPT4ge1xuICAgIHNldEFjdGl2ZUlkKFwiX19uZXdfX1wiKTtcbiAgICBzZXRGb3JtKHsgbmFtZTogXCJcIiwgaW1hZ2VzOiBbXSB9KTtcbiAgICBzZXRUcmFpdHMoe30pO1xuICB9O1xuXG4gIC8vIFJlbW92ZWQgYnJhaW5zdG9ybS9yZWZpbmUgc3VnZ2VzdGlvbiBsb2dpY1xuXG4gIGNvbnN0IG5vdGlmeSA9IChtc2c6IHN0cmluZykgPT4ge1xuICAgIGlmICh0b2FzdFRpbWVyLmN1cnJlbnQpIGNsZWFyVGltZW91dCh0b2FzdFRpbWVyLmN1cnJlbnQpO1xuICAgIHNldFRvYXN0KG1zZyk7XG4gICAgdG9hc3RUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdChcIlwiKSwgMjUwMCk7XG4gIH07XG5cbiAgY29uc3Qgb25VcGxvYWRGaWxlcyA9IHVzZUNhbGxiYWNrKGFzeW5jIChmaWxlczogRmlsZVtdKSA9PiB7XG4gICAgaWYgKCFmaWxlcyB8fCBmaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBzZXRVcGxvYWRpbmcodHJ1ZSk7XG4gICAgc2V0VXBsb2FkU3RhdHVzKCd1cGxvYWRpbmcnKTtcbiAgICBjb25zdCBzdGFydEltYWdlcyA9IChmb3JtLmltYWdlcyB8fCBbXSkgYXMgc3RyaW5nW107XG4gICAgY29uc3QgbmV3VXJsczogc3RyaW5nW10gPSBbXTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYnVja2V0ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQ0hBUl9CVUNLRVRcbiAgICAgICAgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfSU1BR0VfQlVDS0VUXG4gICAgICAgIHx8IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0JVQ0tFVFxuICAgICAgICB8fCBcImNoYXJhY3Rlci1pbWFnZXNcIjtcbiAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpIHx8IFwianBnXCI7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgJHtwcm9qZWN0SWR9LyR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKX0uJHtleHR9YDtcbiAgICAgICAgdHJ5IHsgY29uc29sZS5kZWJ1ZygnU3VwYWJhc2UgdXBsb2FkIHN0YXJ0JywgeyBidWNrZXQsIHBhdGgsIGZpbGU6IHsgbmFtZTogZmlsZS5uYW1lLCB0eXBlOiBmaWxlLnR5cGUsIHNpemU6IGZpbGUuc2l6ZSB9IH0pOyB9IGNhdGNoIHt9XG4gICAgICAgIGNvbnN0IHsgZXJyb3I6IHVwRXJyIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlLmZyb20oYnVja2V0KS51cGxvYWQocGF0aCwgZmlsZSwgeyB1cHNlcnQ6IHRydWUsIGNvbnRlbnRUeXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgICAgIGlmICh1cEVycikgdGhyb3cgdXBFcnI7XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gc3VwYWJhc2Uuc3RvcmFnZS5mcm9tKGJ1Y2tldCkuZ2V0UHVibGljVXJsKHBhdGgpO1xuICAgICAgICBjb25zdCB1cmwgPSBkYXRhLnB1YmxpY1VybDtcbiAgICAgICAgbmV3VXJscy5wdXNoKHVybCk7XG4gICAgICAgIC8vIE9wdGltaXN0aWNhbGx5IHJlZmxlY3QgaW4gVUkgcGVyIGZpbGVcbiAgICAgICAgc2V0Rm9ybSgoZikgPT4gKHsgLi4uZiwgaW1hZ2VzOiBbIC4uLihmLmltYWdlcyB8fCBbXSksIHVybCBdIH0pKTtcbiAgICAgICAgdHJ5IHsgY29uc29sZS5kZWJ1ZygnU3VwYWJhc2UgdXBsb2FkIGRvbmUnLCB7IHVybCB9KTsgfSBjYXRjaCB7fVxuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXh0SW1hZ2VzID0gWy4uLnN0YXJ0SW1hZ2VzLCAuLi5uZXdVcmxzXTtcbiAgICAgIGlmIChhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBuYW1lID0gKGZvcm0ubmFtZSAmJiBmb3JtLm5hbWUudHJpbSgpKSB8fCAnVW50aXRsZWQgQ2hhcmFjdGVyJztcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0geyBuYW1lLCByb2xlOiBmb3JtLnJvbGUgfHwgdW5kZWZpbmVkLCBzdW1tYXJ5OiBmb3JtLnN1bW1hcnkgfHwgdW5kZWZpbmVkLCBpbWFnZXM6IG5leHRJbWFnZXMsIHRyYWl0cyB9IGFzIGFueTtcbiAgICAgICAgICB0cnkgeyBjb25zb2xlLmRlYnVnKCdBdXRvLWNyZWF0aW5nIGNoYXJhY3RlciBhZnRlciBiYXRjaCB1cGxvYWQnLCB7IG5hbWUsIGltYWdlc0NvdW50OiBuZXh0SW1hZ2VzLmxlbmd0aCB9KTsgfSBjYXRjaCB7fVxuICAgICAgICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCBhcGkuY3JlYXRlQ2hhcmFjdGVyKHByb2plY3RJZCwgcGF5bG9hZCk7XG4gICAgICAgICAgc2V0SXRlbXMoKHByZXYpID0+IFsuLi5wcmV2LCBjcmVhdGVkXSk7XG4gICAgICAgICAgc2V0QWN0aXZlSWQoY3JlYXRlZC5pZCk7XG4gICAgICAgICAgdHJ5IHsgY29uc29sZS5kZWJ1ZygnQXV0by1jcmVhdGVkIGNoYXJhY3RlcicsIHsgaWQ6IGNyZWF0ZWQuaWQgfSk7IH0gY2F0Y2gge31cbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgbm90aWZ5KGU/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY2hhcmFjdGVyJyk7XG4gICAgICAgICAgdHJ5IHsgY29uc29sZS5lcnJvcignQXV0by1jcmVhdGUgY2hhcmFjdGVyIGZhaWxlZCcsIGUpOyB9IGNhdGNoIHt9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0cnkgeyBjb25zb2xlLmRlYnVnKCdQZXJzaXN0aW5nIGNoYXJhY3RlciBpbWFnZXMgKGJhdGNoKScsIHsgY2hhcklkOiBhY3RpdmVJZCwgY291bnQ6IG5leHRJbWFnZXMubGVuZ3RoIH0pOyB9IGNhdGNoIHt9XG4gICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnVwZGF0ZUNoYXJhY3Rlcihwcm9qZWN0SWQsIGFjdGl2ZUlkLCB7IGltYWdlczogbmV4dEltYWdlcyB9KTtcbiAgICAgICAgICBzZXRJdGVtcygocHJldikgPT4gcHJldi5tYXAoKHgpID0+ICh4LmlkID09PSByZXMuaWQgPyByZXMgOiB4KSkpO1xuICAgICAgICAgIHRyeSB7IGNvbnNvbGUuZGVidWcoJ1BlcnNpc3RlZCBjaGFyYWN0ZXIgaW1hZ2VzIG9rJywgeyBpZDogcmVzLmlkIH0pOyB9IGNhdGNoIHt9XG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgIG5vdGlmeShlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gcGVyc2lzdCBpbWFnZXMnKTtcbiAgICAgICAgICB0cnkgeyBjb25zb2xlLmVycm9yKCdQZXJzaXN0aW5nIGNoYXJhY3RlciBpbWFnZXMgZmFpbGVkJywgZSk7IH0gY2F0Y2gge31cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBub3RpZnkoJ0ltYWdlKHMpIHVwbG9hZGVkJyk7XG4gICAgICBzZXRVcGxvYWRTdGF0dXMoJ3VwbG9hZGVkJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdHJ5IHsgc2V0VXBsb2FkU3RhdHVzKCdpZGxlJyk7IH0gY2F0Y2gge30gfSwgMjAwMCk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBub3RpZnkoZT8ubWVzc2FnZSB8fCAnVXBsb2FkIGZhaWxlZCcpO1xuICAgICAgdHJ5IHsgY29uc29sZS5lcnJvcignVXBsb2FkIGZhaWxlZCcsIGUpOyB9IGNhdGNoIHt9XG4gICAgICBzZXRVcGxvYWRTdGF0dXMoJ2Vycm9yJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFVwbG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbcHJvamVjdElkLCBzdXBhYmFzZSwgYWN0aXZlSWQsIGFwaSwgZm9ybSwgdHJhaXRzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlbCA9IGRyb3BSZWYuY3VycmVudDtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgY29uc3Qgb25Ecm9wID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUuZGF0YVRyYW5zZmVyPy5maWxlcyB8fCBbXSk7XG4gICAgICBpZiAoZmlsZXMubGVuZ3RoKSB7XG4gICAgICAgIChhc3luYyAoKSA9PiB7IGF3YWl0IG9uVXBsb2FkRmlsZXMoZmlsZXMgYXMgRmlsZVtdKTsgfSkoKTtcbiAgICAgIH1cbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJyaW5nLTJcIiwgXCJyaW5nLWJsdWUtNTAwXCIpO1xuICAgIH07XG4gICAgY29uc3Qgb25EcmFnID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChcInJpbmctMlwiLCBcInJpbmctYmx1ZS01MDBcIik7XG4gICAgfTtcbiAgICBjb25zdCBvbkxlYXZlID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShcInJpbmctMlwiLCBcInJpbmctYmx1ZS01MDBcIik7XG4gICAgfTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBvbkRyb3AgYXMgYW55KTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgb25EcmFnIGFzIGFueSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdsZWF2ZVwiLCBvbkxlYXZlIGFzIGFueSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIG9uRHJvcCBhcyBhbnkpO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIG9uRHJhZyBhcyBhbnkpO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyYWdsZWF2ZVwiLCBvbkxlYXZlIGFzIGFueSk7XG4gICAgfTtcbiAgfSwgW29uVXBsb2FkRmlsZXNdKTtcblxuICAvLyAtLS0tLSBUcmFpdHMgZWRpdG9yIGhlbHBlcnMgKHN0cmluZ3Mtb25seSB2YWx1ZXMsIGFycmF5cyBzdXBwb3J0ZWQsIGRlcHRoPD01KSAtLS0tLVxuICBjb25zdCBjbG9uZSA9IChvOiBhbnkpID0+IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobyA/PyB7fSkpO1xuICBjb25zdCBpc09iaiA9ICh2OiBhbnkpID0+IHYgJiYgdHlwZW9mIHYgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHYpO1xuXG4gIGNvbnN0IHNldFZhbCA9IChwYXRoOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgdmFsOiBhbnkpID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSByZWYgPSByZWZbcGF0aFtpXV07XG4gICAgICByZWZbcGF0aFtwYXRoLmxlbmd0aCAtIDFdXSA9IHZhbDtcbiAgICAgIHJldHVybiBueHQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGRlbEtleSA9IChwYXRoVG9QYXJlbnQ6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBrZXk6IHN0cmluZ3xudW1iZXIpID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhUb1BhcmVudC5sZW5ndGg7IGkrKykgcmVmID0gcmVmW3BhdGhUb1BhcmVudFtpXV07XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWYpICYmIHR5cGVvZiBrZXkgPT09ICdudW1iZXInKSByZWYuc3BsaWNlKGtleSwgMSk7XG4gICAgICBlbHNlIGlmIChyZWYgJiYgdHlwZW9mIHJlZiA9PT0gJ29iamVjdCcpIGRlbGV0ZSByZWZba2V5IGFzIGFueV07XG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCByZW5hbWVLZXkgPSAocGF0aFRvUGFyZW50OiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgb2xkS2V5OiBzdHJpbmcsIG5ld0tleTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFuZXdLZXkpIHJldHVybjtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhUb1BhcmVudC5sZW5ndGg7IGkrKykgcmVmID0gcmVmW3BhdGhUb1BhcmVudFtpXV07XG4gICAgICBpZiAoIXJlZiB8fCB0eXBlb2YgcmVmICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJlZikpIHJldHVybiBueHQ7XG4gICAgICBpZiAob2xkS2V5ID09PSBuZXdLZXkpIHJldHVybiBueHQ7XG4gICAgICBjb25zdCB2YWwgPSByZWZbb2xkS2V5XTtcbiAgICAgIGRlbGV0ZSByZWZbb2xkS2V5XTtcbiAgICAgIHJlZltuZXdLZXldID0gdmFsO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgYWRkQ2hpbGQgPSAocGF0aFRvT2JqOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgZGVwdGg6IG51bWJlcikgPT4ge1xuICAgIGlmIChkZXB0aCA+PSA1KSByZXR1cm47IC8vIGRlcHRoIGxpbWl0XG4gICAgc2V0VHJhaXRzKChjdXJyOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG54dCA9IGNsb25lKGN1cnIpO1xuICAgICAgbGV0IHJlZjogYW55ID0gbnh0O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoVG9PYmoubGVuZ3RoOyBpKyspIHJlZiA9IHJlZltwYXRoVG9PYmpbaV1dO1xuICAgICAgaWYgKCFyZWYgfHwgdHlwZW9mIHJlZiAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShyZWYpKSByZXR1cm4gbnh0O1xuICAgICAgbGV0IGJhc2UgPSAna2V5JzsgbGV0IGkyID0gMTsgbGV0IGtleSA9IGJhc2U7XG4gICAgICB3aGlsZSAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlZiwga2V5KSkgeyBrZXkgPSBgJHtiYXNlfS0ke2kyKyt9YDsgfVxuICAgICAgcmVmW2tleV0gPSBcIlwiOyAvLyBkZWZhdWx0IGFzIHN0cmluZyBsZWFmXG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBhZGRSb290S2V5ID0gKCkgPT4ge1xuICAgIHNldFRyYWl0cygoY3VycjogYW55KSA9PiB7XG4gICAgICBjb25zdCBueHQgPSBjbG9uZShjdXJyKTtcbiAgICAgIGxldCBiYXNlID0gJ2tleSc7IGxldCBpID0gMTsgbGV0IGsgPSBiYXNlO1xuICAgICAgd2hpbGUgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChueHQsIGspKSB7IGsgPSBgJHtiYXNlfS0ke2krK31gOyB9XG4gICAgICAobnh0IGFzIGFueSlba10gPSBcIlwiO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgY29udmVydFR5cGUgPSAocGF0aDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIHBhcmVudFBhdGg6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBrZXk6IHN0cmluZywgbmV4dFR5cGU6ICdzdHJpbmcnfCdvYmplY3QnfCdhcnJheScsIGRlcHRoOiBudW1iZXIpID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmVudFBhdGgubGVuZ3RoOyBpKyspIHJlZiA9IHJlZltwYXJlbnRQYXRoW2ldXTtcbiAgICAgIGlmICghcmVmIHx8IHR5cGVvZiByZWYgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocmVmKSkgcmV0dXJuIG54dDtcbiAgICAgIGlmIChuZXh0VHlwZSA9PT0gJ3N0cmluZycpIHJlZltrZXldID0gXCJcIjtcbiAgICAgIGVsc2UgaWYgKG5leHRUeXBlID09PSAnb2JqZWN0JykgcmVmW2tleV0gPSBkZXB0aCA+PSA1ID8gXCJcIiA6IHt9O1xuICAgICAgZWxzZSBpZiAobmV4dFR5cGUgPT09ICdhcnJheScpIHJlZltrZXldID0gW10gYXMgc3RyaW5nW107XG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBhZGRBcnJheUl0ZW0gPSAocGF0aFRvQXJyOiBBcnJheTxzdHJpbmd8bnVtYmVyPikgPT4ge1xuICAgIHNldFRyYWl0cygoY3VycjogYW55KSA9PiB7XG4gICAgICBjb25zdCBueHQgPSBjbG9uZShjdXJyKTtcbiAgICAgIGxldCByZWY6IGFueSA9IG54dDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aFRvQXJyLmxlbmd0aDsgaSsrKSByZWYgPSByZWZbcGF0aFRvQXJyW2ldXTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlZikpIHJlZi5wdXNoKFwiXCIpO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBFeHBvc2UgaGFuZGxlcnMgdG8gbmVzdGVkIFRyYWl0T2JqZWN0L1RyYWl0Um93IHdpdGhvdXQgcHJvcC1kcmlsbGluZ1xuICAoVHJhaXRPYmplY3QgYXMgYW55KS5fcGFyZW50ID0ge1xuICAgIHNldFZhbCxcbiAgICBkZWxLZXksXG4gICAgcmVuYW1lS2V5LFxuICAgIGFkZENoaWxkLFxuICAgIGNvbnZlcnRUeXBlLFxuICAgIGFkZEFycmF5SXRlbSxcbiAgfSBhcyBUcmFpdEN0eDtcblxuICBjb25zdCBvblNhdmUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFmb3JtLm5hbWUudHJpbSgpKSB7XG4gICAgICBub3RpZnkoXCJOYW1lIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocmVxdWlyZUltYWdlICYmICEoQXJyYXkuaXNBcnJheShmb3JtLmltYWdlcykgJiYgZm9ybS5pbWFnZXMubGVuZ3RoID4gMCkpIHtcbiAgICAgIG5vdGlmeShcIkltYWdlIGlzIHJlcXVpcmVkIGluIG1hbmh3YSBtb2RlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRyYWl0c09iaiA9IHRyYWl0cztcbiAgICAgIGlmIChhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXJhY3Rlcihwcm9qZWN0SWQsIHsgbmFtZTogZm9ybS5uYW1lLnRyaW0oKSwgcm9sZTogZm9ybS5yb2xlIHx8IHVuZGVmaW5lZCwgc3VtbWFyeTogZm9ybS5zdW1tYXJ5IHx8IHVuZGVmaW5lZCwgaW1hZ2VzOiBBcnJheS5pc0FycmF5KGZvcm0uaW1hZ2VzKSA/IGZvcm0uaW1hZ2VzIDogdW5kZWZpbmVkLCB0cmFpdHM6IHRyYWl0c09iaiB9KTtcbiAgICAgICAgc2V0SXRlbXMoKHByZXYpID0+IFsuLi5wcmV2LCByZXNdKTtcbiAgICAgICAgc2V0QWN0aXZlSWQocmVzLmlkKTtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSWQpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnVwZGF0ZUNoYXJhY3Rlcihwcm9qZWN0SWQsIGFjdGl2ZUlkLCB7IG5hbWU6IGZvcm0ubmFtZS50cmltKCksIHJvbGU6IGZvcm0ucm9sZSB8fCB1bmRlZmluZWQsIHN1bW1hcnk6IGZvcm0uc3VtbWFyeSB8fCB1bmRlZmluZWQsIGltYWdlczogQXJyYXkuaXNBcnJheShmb3JtLmltYWdlcykgPyBmb3JtLmltYWdlcyA6IHVuZGVmaW5lZCwgdHJhaXRzOiB0cmFpdHNPYmogfSk7XG4gICAgICAgIHNldEl0ZW1zKChwcmV2KSA9PiBwcmV2Lm1hcCgoeCkgPT4gKHguaWQgPT09IHJlcy5pZCA/IHJlcyA6IHgpKSk7XG4gICAgICB9XG4gICAgICBub3RpZnkoXCJTYXZlZFwiKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIG5vdGlmeShlPy5tZXNzYWdlIHx8IFwiU2F2ZSBmYWlsZWRcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uRGVsZXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghYWN0aXZlSWQgfHwgYWN0aXZlSWQgPT09IFwiX19uZXdfX1wiKSByZXR1cm47XG4gICAgaWYgKCFjb25maXJtKFwiRGVsZXRlIHRoaXMgY2hhcmFjdGVyP1wiKSkgcmV0dXJuO1xuICAgIHNldERlbGV0aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhcGkuZGVsZXRlQ2hhcmFjdGVyKHByb2plY3RJZCwgYWN0aXZlSWQpO1xuICAgICAgc2V0SXRlbXMoKHByZXYpID0+IHByZXYuZmlsdGVyKCh4KSA9PiB4LmlkICE9PSBhY3RpdmVJZCkpO1xuICAgICAgc2V0QWN0aXZlSWQobnVsbCk7XG4gICAgICBzZXRGb3JtKHsgbmFtZTogXCJcIiwgaW1hZ2VzOiBbXSB9KTtcbiAgICAgIHNldFRyYWl0cyh7fSk7XG4gICAgICBub3RpZnkoXCJEZWxldGVkXCIpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgbm90aWZ5KGU/Lm1lc3NhZ2UgfHwgXCJEZWxldGUgZmFpbGVkXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXREZWxldGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuICBjb25zdCBhY3RpdmUgPSBhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIgPyBmb3JtIDogaXRlbXMuZmluZCgoeCkgPT4geC5pZCA9PT0gYWN0aXZlSWQpIHx8IG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBncmlkIGdyaWQtcm93cy1bYXV0b18xZnJdXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ib3JkZXItZGVmYXVsdCBweC02IHB5LTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+Q2hhcmFjdGVyIE1hbmFnZW1lbnQ8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+e2NvdW50fSBDaGFyYWN0ZXJzPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbk5ld30gY2xhc3NOYW1lPVwicm91bmRlZC1sZyBiZy1iZy1lbGV2YXRlZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGhvdmVyOmJvcmRlci1hY2NlbnQgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIHB4LTQgcHktMyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIGhvdmVyOi10cmFuc2xhdGUteS0wLjVcIj5cbiAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgTmV3IENoYXJhY3RlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLTAgZ3JpZFwiIHN0eWxlPXt7IGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMzUlIDY1JVwiIH19PlxuICAgICAgICA8YXNpZGUgY2xhc3NOYW1lPVwiYm9yZGVyLXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IG1pbi1oLTAgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17ZmlsdGVyfSBvbkNoYW5nZT17KGUpID0+IHNldEZpbHRlcihlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiU2VhcmNoIGNoYXJhY3RlcnNcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcGwtOSBwci0zIHB5LTIuNSB0ZXh0LXNtIHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiIC8+XG4gICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwidy00IGgtNCBhYnNvbHV0ZSBsZWZ0LTMgdG9wLTMgdGV4dC10ZXh0LXRlcnRpYXJ5XCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBweC0zIHBiLTNcIj5cbiAgICAgICAgICAgIHtsb2FkaW5nICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IHB4LTIgcHktMlwiPkxvYWRpbmfigKY8L2Rpdj59XG4gICAgICAgICAgICB7ZXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTQwMCBweC0yIHB5LTIgYmctcmVkLTk1MC8yMCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMFwiPntlcnJvcn08L2Rpdj59XG4gICAgICAgICAgICB7IWxvYWRpbmcgJiYgIWZpbHRlcmVkLmxlbmd0aCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgdGV4dC1jZW50ZXIgdGV4dC10ZXh0LXRlcnRpYXJ5IHRleHQtc21cIj5ObyBjaGFyYWN0ZXJzIHlldC4gQ3JlYXRlIHlvdXIgZmlyc3QgY2hhcmFjdGVyITwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtmaWx0ZXJlZC5tYXAoKGMpID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e2MuaWR9IG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZUlkKGMuaWQhKX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKFwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTMgcm91bmRlZC1tZCBtYi0yIHRyYW5zaXRpb24tYWxsXCIsIGFjdGl2ZUlkPT09Yy5pZCA/IFwiYm9yZGVyLWwtMiBib3JkZXItYmx1ZS01MDAgYmctYmctZWxldmF0ZWRcIiA6IFwiaG92ZXI6YmctYmctaG92ZXJcIikgfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiByb3VuZGVkLWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IG92ZXJmbG93LWhpZGRlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICB7KCgoYyBhcyBhbnkpLmltYWdlcz8uWzBdKSB8fCBjLmltYWdlVXJsKSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17KCgoYyBhcyBhbnkpLmltYWdlcz8uWzBdKSB8fCBjLmltYWdlVXJsKSBhcyBzdHJpbmd9IGFsdD17Yy5uYW1lfSBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPk5vIEltZzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXRleHQtcHJpbWFyeSB0cnVuY2F0ZVwiPntjLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdHJ1bmNhdGVcIj57Yy5yb2xlIHx8IFwiXCJ9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9hc2lkZT5cblxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJtaW4taC0wIG92ZXJmbG93LXktYXV0byBwLTZcIiBhcmlhLWxhYmVsPVwiQ2hhcmFjdGVyIGRldGFpbHNcIj5cbiAgICAgICAgICB7YWN0aXZlSWQgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgIDxkaXYgcmVmPXtkcm9wUmVmfSBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLXN0YXJ0IG1iLTYgcC00IHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1lbGV2YXRlZCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+Q2hhcmFjdGVyIEltYWdlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJweC0zIHB5LTIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLXByaW1hcnkgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFVwbG9hZCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgVXBsb2FkIEltYWdlXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGFjY2VwdD1cImltYWdlLypcIiBtdWx0aXBsZSBjbGFzc05hbWU9XCJoaWRkZW5cIiBvbkNoYW5nZT17KGUpID0+IHsgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzIHx8IFtdKTsgaWYgKGZpbGVzLmxlbmd0aCkgeyAoYXN5bmMgKCkgPT4geyBhd2FpdCBvblVwbG9hZEZpbGVzKGZpbGVzIGFzIEZpbGVbXSk7IH0pKCk7IH0gfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICB7dXBsb2FkaW5nICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PExvYWRlcjIgY2xhc3NOYW1lPVwidy0zIGgtMyBhbmltYXRlLXNwaW5cIiAvPiBVcGxvYWRpbmfigKY8L2Rpdj59XG4gICAgICAgICAgICAgICAgICB7dXBsb2FkU3RhdHVzID09PSAndXBsb2FkZWQnICYmICF1cGxvYWRpbmcgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JlZW4tNDAwXCI+VXBsb2FkZWQ8L2Rpdj59XG4gICAgICAgICAgICAgICAgICB7dXBsb2FkU3RhdHVzID09PSAnZXJyb3InICYmICF1cGxvYWRpbmcgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTQwMFwiPlVwbG9hZCBmYWlsZWQ8L2Rpdj59XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTIgdGV4dC1bMTBweF0gdGV4dC10ZXh0LXRlcnRpYXJ5XCI+RW52OiB7c3VwYUVudk9rID8gJ29rJyA6ICdtaXNzaW5nJ30gwrcgQnVja2V0OiB7Y2hhckJ1Y2tldE5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIG92ZXJmbG93LXgtYXV0byB3LWZ1bGwgcGItMVwiPlxuICAgICAgICAgICAgICAgICAgeyhmb3JtLmltYWdlcyB8fCBbXSkubWFwKCh1cmwsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJyZWxhdGl2ZSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgb3ZlcmZsb3ctaGlkZGVuIGJnLWJnLXByaW1hcnkgZmxleC1ub25lIHctMjQgaC0yNFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXt1cmx9IGFsdD1cImNoYXJhY3RlclwiIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMSByaWdodC0xIGJnLWJsYWNrLzYwIHRleHQtd2hpdGUgcm91bmRlZCBwLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSZW1vdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyBjb25zb2xlLmRlYnVnKCdSZW1vdmluZyBjaGFyYWN0ZXIgaW1hZ2UnLCB7IGNoYXJJZDogYWN0aXZlSWQsIGlkeCB9KTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVkVXJsID0gKGZvcm0uaW1hZ2VzIHx8IFtdKVtpZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0SW1hZ2VzOiBzdHJpbmdbXSA9IChmb3JtLmltYWdlcyB8fCBbXSkuZmlsdGVyKChfLGkpPT5pIT09aWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Rm9ybSgoZik9PiAoeyAuLi5mLCBpbWFnZXM6IG5leHRJbWFnZXMgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlSWQgJiYgYWN0aXZlSWQgIT09IFwiX19uZXdfX1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS51cGRhdGVDaGFyYWN0ZXIocHJvamVjdElkLCBhY3RpdmVJZCwgeyBpbWFnZXM6IG5leHRJbWFnZXMgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtcygocHJldikgPT4gcHJldi5tYXAoKHgpID0+ICh4LmlkID09PSByZXMuaWQgPyByZXMgOiB4KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5KFwiSW1hZ2UgcmVtb3ZlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7IGNvbnNvbGUuZGVidWcoJ1JlbW92ZWQgY2hhcmFjdGVyIGltYWdlIHBlcnNpc3RlZCcsIHsgaWQ6IHJlcy5pZCwgY291bnQ6IG5leHRJbWFnZXMubGVuZ3RoIH0pOyB9IGNhdGNoIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSByZW1vdmVkVXJsID8gcGFyc2VTdXBhYmFzZVB1YmxpY1VybChyZW1vdmVkVXJsKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQpIHsgYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZS5mcm9tKHBhcnNlZC5idWNrZXQpLnJlbW92ZShbcGFyc2VkLnBhdGhdKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5KGU/Lm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gcGVyc2lzdCByZW1vdmFsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgY29uc29sZS5lcnJvcignUGVyc2lzdCBjaGFyYWN0ZXIgcmVtb3ZlIGZhaWxlZCcsIGUpOyB9IGNhdGNoIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgeyEoZm9ybS5pbWFnZXMgfHwgW10pLmxlbmd0aCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnlcIj5ObyBpbWFnZXMgeWV0LiBVcGxvYWQgb3IgZHJvcCBoZXJlLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5OYW1lPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtmb3JtLm5hbWV9IG9uQ2hhbmdlPXsoZSk9PnNldEZvcm0oKGYpPT4oeyAuLi5mLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KSl9IGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiIC8+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlJvbGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e2Zvcm0ucm9sZSB8fCBcIlwifSBvbkNoYW5nZT17KGUpPT5zZXRGb3JtKChmKT0+KHsgLi4uZiwgcm9sZTogZS50YXJnZXQudmFsdWUgfSkpfSBsaXN0PVwicm9sZXNcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnRcIiAvPlxuICAgICAgICAgICAgICAgICAgPGRhdGFsaXN0IGlkPVwicm9sZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlByb3RhZ29uaXN0XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkFudGFnb25pc3RcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiU3VwcG9ydGluZ1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJNZW50b3JcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTG92ZSBJbnRlcmVzdFwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2RhdGFsaXN0PlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5TdW1tYXJ5PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXtmb3JtLnN1bW1hcnkgfHwgXCJcIn0gb25DaGFuZ2U9eyhlKT0+c2V0Rm9ybSgoZik9Pih7IC4uLmYsIHN1bW1hcnk6IGUudGFyZ2V0LnZhbHVlIH0pKX0gcm93cz17NX0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRleHQtc21cIiAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC10ZXh0LXRlcnRpYXJ5XCI+eyhmb3JtLnN1bW1hcnkgfHwgXCJcIikubGVuZ3RofSBjaGFyYWN0ZXJzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5UcmFpdHM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17YWRkUm9vdEtleX0gY2xhc3NOYW1lPVwicHgtMiBweS0xIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRleHQteHMgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+PFBsdXMgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IEFkZCBrZXk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIHtPYmplY3Qua2V5cyh0cmFpdHMgfHwge30pLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPk5vIHRyYWl0cyB5ZXQuIEFkZCBhIGtleS48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPFRyYWl0T2JqZWN0IG9iaj17dHJhaXRzfSBwYXRoPXtbXX0gZGVwdGg9ezF9IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB0LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25EZWxldGV9IGRpc2FibGVkPXshYWN0aXZlSWQgfHwgYWN0aXZlSWQ9PT1cIl9fbmV3X19cIiB8fCBkZWxldGluZ30gY2xhc3NOYW1lPVwidGV4dC1yZWQtNDAwIGhvdmVyOnRleHQtcmVkLTMwMCBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICBEZWxldGUgQ2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNldEFjdGl2ZUlkKG51bGwpOyB9fSBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXJcIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvblNhdmV9IGRpc2FibGVkPXtzYXZpbmd9IGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLW1kIGJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNTAwIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7c2F2aW5nID8gPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PExvYWRlcjIgY2xhc3NOYW1lPVwidy00IGgtNCBhbmltYXRlLXNwaW5cIiAvPiBTYXZpbmfigKY8L3NwYW4+IDogXCJTYXZlIENoYXJhY3RlclwifVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0LXRlcnRpYXJ5XCI+U2VsZWN0IGEgY2hhcmFjdGVyIG9yIGNyZWF0ZSBhIG5ldyBvbmUuPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHt0b2FzdCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTQgcmlnaHQtNCB6LTUwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgcm91bmRlZC1sZyBiZy1iZy1lbGV2YXRlZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1wcmltYXJ5IHRleHQtc20gc2hhZG93LWVsZXZhdGlvblwiPnt0b2FzdH08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG4vLyAtLS0gTmVzdGVkIFRyYWl0cyBFZGl0b3IgKHN0cmluZ3Mtb25seSBsZWF2ZXMsIGFycmF5cyBzdXBwb3J0ZWQpIC0tLVxudHlwZSBUcmFpdEN0eCA9IHtcbiAgc2V0VmFsOiAocDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIHY6IGFueSkgPT4gdm9pZDtcbiAgZGVsS2V5OiAocHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBrOiBhbnkpID0+IHZvaWQ7XG4gIHJlbmFtZUtleTogKHBwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgb2xkSzogc3RyaW5nLCBuZXdLOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGFkZENoaWxkOiAocDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIGQ6IG51bWJlcikgPT4gdm9pZDtcbiAgY29udmVydFR5cGU6IChwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgcHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBrOiBzdHJpbmcsIHQ6ICdzdHJpbmcnfCdvYmplY3QnfCdhcnJheScsIGQ6IG51bWJlcikgPT4gdm9pZDtcbiAgYWRkQXJyYXlJdGVtOiAocDogQXJyYXk8c3RyaW5nfG51bWJlcj4pID0+IHZvaWQ7XG59O1xuZnVuY3Rpb24gVHJhaXRPYmplY3QoeyBvYmosIHBhdGgsIGRlcHRoIH06IHsgb2JqOiBhbnk7IHBhdGg6IEFycmF5PHN0cmluZ3xudW1iZXI+OyBkZXB0aDogbnVtYmVyIH0pIHtcbiAgY29uc3QgW18sIHNldFRpY2tdID0gdXNlU3RhdGUoMCk7XG4gIC8vIEFjY2VzcyBlZGl0b3IgZnVuY3Rpb25zIGZyb20gb3V0ZXIgc2NvcGUgdmlhIHdpbmRvdyBwcm94eSBpcyBub3QgaWRlYWw7IHdlIHJlbHkgb24gY2xvc3VyZXMgaW4gcGFyZW50IGNvbXBvbmVudC5cbiAgLy8gVGhpcyBpbmxpbmUgY29tcG9uZW50IGRlcGVuZHMgb24gZnVuY3Rpb25zIGJvdW5kIG9uIHdpbmRvdyBieSBwYXJlbnQgY2xvc3VyZS5cbiAgLy8gVG8ga2VlcCBldmVyeXRoaW5nIGluIG9uZSBmaWxlIGFuZCBhdm9pZCBwcm9wLWRyaWxsaW5nIG1hbnkgaGFuZGxlcnMsIHdlIHdpbGwgcmUtZ3JhYiB0aGVtIGZyb20gUmVhY3QgY29udGV4dCB2aWEgY2xvc3VyZXMuXG4gIGNvbnN0IHBhcmVudDogVHJhaXRDdHggfCB1bmRlZmluZWQgPSAoVHJhaXRPYmplY3QgYXMgYW55KS5fcGFyZW50IGFzIFRyYWl0Q3R4IHwgdW5kZWZpbmVkO1xuICBjb25zdCBjdHg6IFRyYWl0Q3R4ID0gcGFyZW50IHx8IHVzZUNoYXJhY3Rlck1hbmFnZXJDb250ZXh0KCk7XG4gIChUcmFpdE9iamVjdCBhcyBhbnkpLl9wYXJlbnQgPSBjdHg7XG5cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaiB8fCB7fSk7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgIHtrZXlzLm1hcCgoaykgPT4gKFxuICAgICAgICA8VHJhaXRSb3cga2V5PXtrfSBrPXtrfSB2PXsob2JqIGFzIGFueSlba119IHBhcmVudFBhdGg9e3BhdGh9IGRlcHRoPXtkZXB0aH0gY3R4PXtjdHh9IC8+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gVHJhaXRSb3coeyBrLCB2LCBwYXJlbnRQYXRoLCBkZXB0aCwgY3R4IH06IHsgazogc3RyaW5nOyB2OiBhbnk7IHBhcmVudFBhdGg6IEFycmF5PHN0cmluZ3xudW1iZXI+OyBkZXB0aDogbnVtYmVyOyBjdHg6IFRyYWl0Q3R4IH0pIHtcbiAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkodik7XG4gIGNvbnN0IGlzT2JqZWN0ID0gdiAmJiB0eXBlb2YgdiA9PT0gJ29iamVjdCcgJiYgIWlzQXJyYXk7XG4gIGNvbnN0IHR5cGU6ICdzdHJpbmcnfCdvYmplY3QnfCdhcnJheScgPSBpc0FycmF5ID8gJ2FycmF5JyA6IChpc09iamVjdCA/ICdvYmplY3QnIDogJ3N0cmluZycpO1xuICBjb25zdCBbbmFtZSwgc2V0TmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KGspO1xuICB1c2VFZmZlY3QoKCkgPT4geyBzZXROYW1lKGspOyB9LCBba10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcC0yIGJnLWJnLWVsZXZhdGVkXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSk9PnNldE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIG9uQmx1cj17KCk9PnsgaWYgKG5hbWUgIT09IGsgJiYgbmFtZS50cmltKCkpIGN0eC5yZW5hbWVLZXkocGFyZW50UGF0aCwgaywgbmFtZS50cmltKCkpOyB9fVxuICAgICAgICAgIG9uS2V5RG93bj17KGUpPT57IGlmIChlLmtleSA9PT0gJ0VudGVyJykgeyAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuYmx1cigpOyB9IH19XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJrZXlcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtbm9uZSB3LTQ4IGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTIgcHktMS41IHRleHQtdGV4dC1wcmltYXJ5IHRleHQtc20gb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnRcIlxuICAgICAgICAvPlxuICAgICAgICA8c2VsZWN0IHZhbHVlPXt0eXBlfSBvbkNoYW5nZT17KGUpPT5jdHguY29udmVydFR5cGUoWy4uLnBhcmVudFBhdGgsIGtdLCBwYXJlbnRQYXRoLCBrLCBlLnRhcmdldC52YWx1ZSBhcyBhbnksIGRlcHRoKX0gY2xhc3NOYW1lPVwiZmxleC1ub25lIHctMjggYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtMiBweS0xLjUgdGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJzdHJpbmdcIj5TdHJpbmc8L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwib2JqZWN0XCIgZGlzYWJsZWQ9e2RlcHRoPj01fT5PYmplY3Q8L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYXJyYXlcIj5BcnJheTwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAge3R5cGU9PT0nc3RyaW5nJyAmJiAoXG4gICAgICAgICAgPGlucHV0IHZhbHVlPXtTdHJpbmcodiB8fCAnJyl9IG9uQ2hhbmdlPXsoZSk9PmN0eC5zZXRWYWwoWy4uLnBhcmVudFBhdGgsIGtdLCBlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwidmFsdWVcIiBjbGFzc05hbWU9XCJmbGV4LTEgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtMiBweS0xLjUgdGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiIC8+XG4gICAgICAgICl9XG4gICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PmN0eC5kZWxLZXkocGFyZW50UGF0aCwgayl9IGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXJlZC00MDAgdGV4dC1zbSBtbC1hdXRvXCI+PFggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+PC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIHt0eXBlPT09J29iamVjdCcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgbWwtNFwiPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PmN0eC5hZGRDaGlsZChbLi4ucGFyZW50UGF0aCwga10sIGRlcHRoKzEpfSBkaXNhYmxlZD17ZGVwdGg+PTV9IGNsYXNzTmFtZT1cInB4LTIgcHktMSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXhzIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPjxQbHVzIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBBZGQgY2hpbGQ8L2J1dHRvbj5cbiAgICAgICAgICA8VHJhaXRPYmplY3Qgb2JqPXt2fSBwYXRoPXtbLi4ucGFyZW50UGF0aCwga119IGRlcHRoPXtkZXB0aCsxfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICB7dHlwZT09PSdhcnJheScgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgbWwtNCBzcGFjZS15LTJcIj5cbiAgICAgICAgICB7KHYgYXMgc3RyaW5nW10pLm1hcCgoaXRlbSwgaWR4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPlt7aWR4fV08L3NwYW4+XG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17aXRlbX0gb25DaGFuZ2U9eyhlKT0+Y3R4LnNldFZhbChbLi4ucGFyZW50UGF0aCwgaywgaWR4XSwgZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cInZhbHVlXCIgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTIgcHktMS41IHRleHQtdGV4dC1wcmltYXJ5IHRleHQtc20gb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnRcIiAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT5jdHguZGVsS2V5KFsuLi5wYXJlbnRQYXRoLCBrXSwgaWR4KX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtcmVkLTQwMCB0ZXh0LXNtXCI+PFggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT5jdHguYWRkQXJyYXlJdGVtKFsuLi5wYXJlbnRQYXRoLCBrXSl9IGNsYXNzTmFtZT1cInB4LTIgcHktMSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXhzIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPjxQbHVzIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBBZGQgaXRlbTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIExpZ2h0d2VpZ2h0IGNvbnRleHQgdmlhIGNsb3N1cmUgYmluZGluZ1xuZnVuY3Rpb24gdXNlQ2hhcmFjdGVyTWFuYWdlckNvbnRleHQoKTogVHJhaXRDdHgge1xuICAvLyBGaW5kIHRoZSBuZWFyZXN0IENoYXJhY3Rlck1hbmFnZXIgYnkgd2Fsa2luZyBSZWFjdCBjbG9zdXJlLiBJbiBUU1ggc2luZ2xlLWZpbGUgY29tcG9uZW50LCB3ZSBwYXNzIGhhbmRsZXJzIGJ5IHByb3BlcnR5IGluIFRyYWl0T2JqZWN0Ll9wYXJlbnQgYWJvdmUuXG4gIC8vIEluc3RlYWQgb2YgYSByZWFsIFJlYWN0IENvbnRleHQgcHJvdmlkZXIgKGV4dHJhIGJvaWxlcnBsYXRlKSwgZXhwb3NlIG5vb3AgZmFsbGJhY2tzOyB0aGV5IGdldCBvdmVyd3JpdHRlbiB3aGVuIGZpcnN0IFRyYWl0T2JqZWN0IHJlbmRlcnMuXG4gIHJldHVybiB7XG4gICAgc2V0VmFsOiAoX3A6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBfdjogYW55KSA9PiB7fSxcbiAgICBkZWxLZXk6IChfcHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBfazogYW55KSA9PiB7fSxcbiAgICByZW5hbWVLZXk6IChfcHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBfb2xkOiBzdHJpbmcsIF9uOiBzdHJpbmcpID0+IHt9LFxuICAgIGFkZENoaWxkOiAoX3A6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBfZDogbnVtYmVyKSA9PiB7fSxcbiAgICBjb252ZXJ0VHlwZTogKF9wOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgX3BwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgX2s6IHN0cmluZywgX3Q6ICdzdHJpbmcnfCdvYmplY3QnfCdhcnJheScsIF9kOiBudW1iZXIpID0+IHt9LFxuICAgIGFkZEFycmF5SXRlbTogKF9wOiBBcnJheTxzdHJpbmd8bnVtYmVyPikgPT4ge30sXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VTdXBhYmFzZSIsImNyZWF0ZUFwaSIsIkxvYWRlcjIiLCJQbHVzIiwiU2VhcmNoIiwiVHJhc2gyIiwiVXBsb2FkIiwiWCIsImNsYXNzTmFtZXMiLCJ4cyIsImZpbHRlciIsIkJvb2xlYW4iLCJqb2luIiwic2V0QnlQYXRoIiwiYmFzZSIsInBhdGgiLCJ2YWx1ZSIsInJvb3QiLCJjdXJyIiwiaSIsImxlbmd0aCIsImsiLCJkZWxCeVBhdGgiLCJ0b05lc3RlZEZyb21UYWdzIiwidGFncyIsIm9iaiIsInQiLCJwYXJ0cyIsImtleSIsInNwbGl0IiwibWFwIiwicyIsInRyaW0iLCJwYXJzZVN1cGFiYXNlUHVibGljVXJsIiwidXJsIiwiaWR4IiwiaW5kZXhPZiIsInJlc3QiLCJzbGljZSIsImZpcnN0U2xhc2giLCJidWNrZXQiLCJDaGFyYWN0ZXJNYW5hZ2VyIiwicHJvamVjdElkIiwicmVxdWlyZUltYWdlIiwic3VwYWJhc2UiLCJhcGkiLCJpdGVtcyIsInNldEl0ZW1zIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwic2V0RmlsdGVyIiwiYWN0aXZlSWQiLCJzZXRBY3RpdmVJZCIsInNhdmluZyIsInNldFNhdmluZyIsImRlbGV0aW5nIiwic2V0RGVsZXRpbmciLCJ0b2FzdCIsInNldFRvYXN0IiwidG9hc3RUaW1lciIsImZvcm0iLCJzZXRGb3JtIiwibmFtZSIsImltYWdlcyIsInRyYWl0cyIsInNldFRyYWl0cyIsInVwbG9hZGluZyIsInNldFVwbG9hZGluZyIsInVwbG9hZFN0YXR1cyIsInNldFVwbG9hZFN0YXR1cyIsImRyb3BSZWYiLCJzdXBhRW52T2siLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJjaGFyQnVja2V0TmFtZSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0NIQVJfQlVDS0VUIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfSU1BR0VfQlVDS0VUIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQlVDS0VUIiwiY2FjaGVLZXkiLCJhY3RpdmVLZXkiLCJoYXNDYWNoZSIsInNldEhhc0NhY2hlIiwiaXRlbXNSZWYiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYXJyIiwiSlNPTiIsInBhcnNlIiwiQXJyYXkiLCJpc0FycmF5IiwidmFsaWQiLCJtb3VudGVkIiwicmVzIiwibGlzdENoYXJhY3RlcnMiLCJuZXh0Iiwic3RyaW5naWZ5IiwiY3VycmVudCIsImUiLCJtZXNzYWdlIiwic2V0SXRlbSIsInYiLCJvblVwc2VydCIsImV2IiwiY2UiLCJpdGVtIiwiZGV0YWlsIiwiaWQiLCJwcmV2IiwiZmluZEluZGV4IiwieCIsInJvbGUiLCJzdW1tYXJ5IiwiaW1hZ2VVcmwiLCJub3RpZnkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIml0IiwiZmluZCIsImZpbHRlcmVkIiwicSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJvbk5ldyIsIm1zZyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvblVwbG9hZEZpbGVzIiwiZmlsZXMiLCJzdGFydEltYWdlcyIsIm5ld1VybHMiLCJmaWxlIiwiZXh0IiwicG9wIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsImNvbnNvbGUiLCJkZWJ1ZyIsInR5cGUiLCJzaXplIiwidXBFcnIiLCJzdG9yYWdlIiwiZnJvbSIsInVwbG9hZCIsInVwc2VydCIsImNvbnRlbnRUeXBlIiwiZGF0YSIsImdldFB1YmxpY1VybCIsInB1YmxpY1VybCIsInB1c2giLCJmIiwibmV4dEltYWdlcyIsInBheWxvYWQiLCJ1bmRlZmluZWQiLCJpbWFnZXNDb3VudCIsImNyZWF0ZWQiLCJjcmVhdGVDaGFyYWN0ZXIiLCJjaGFySWQiLCJjb3VudCIsInVwZGF0ZUNoYXJhY3RlciIsImVsIiwib25Ecm9wIiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJvbkRyYWciLCJhZGQiLCJvbkxlYXZlIiwiY2xvbmUiLCJvIiwiaXNPYmoiLCJzZXRWYWwiLCJ2YWwiLCJueHQiLCJyZWYiLCJkZWxLZXkiLCJwYXRoVG9QYXJlbnQiLCJzcGxpY2UiLCJyZW5hbWVLZXkiLCJvbGRLZXkiLCJuZXdLZXkiLCJhZGRDaGlsZCIsInBhdGhUb09iaiIsImRlcHRoIiwiaTIiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhZGRSb290S2V5IiwiY29udmVydFR5cGUiLCJwYXJlbnRQYXRoIiwibmV4dFR5cGUiLCJhZGRBcnJheUl0ZW0iLCJwYXRoVG9BcnIiLCJUcmFpdE9iamVjdCIsIl9wYXJlbnQiLCJvblNhdmUiLCJ0cmFpdHNPYmoiLCJvbkRlbGV0ZSIsImNvbmZpcm0iLCJkZWxldGVDaGFyYWN0ZXIiLCJhY3RpdmUiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwic3R5bGUiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwiYXNpZGUiLCJpbnB1dCIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJjIiwiaW1nIiwic3JjIiwiYWx0Iiwic2VjdGlvbiIsImFyaWEtbGFiZWwiLCJzcGFuIiwibGFiZWwiLCJhY2NlcHQiLCJtdWx0aXBsZSIsInRpdGxlIiwicmVtb3ZlZFVybCIsIl8iLCJwYXJzZWQiLCJsaXN0IiwiZGF0YWxpc3QiLCJvcHRpb24iLCJ0ZXh0YXJlYSIsInJvd3MiLCJrZXlzIiwiZGlzYWJsZWQiLCJzZXRUaWNrIiwicGFyZW50IiwiY3R4IiwidXNlQ2hhcmFjdGVyTWFuYWdlckNvbnRleHQiLCJUcmFpdFJvdyIsImlzT2JqZWN0Iiwic2V0TmFtZSIsIm9uQmx1ciIsIm9uS2V5RG93biIsImJsdXIiLCJzZWxlY3QiLCJTdHJpbmciLCJfcCIsIl92IiwiX3BwIiwiX2siLCJfb2xkIiwiX24iLCJfZCIsIl90Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/workspace/CharacterManager.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/workspace/Workspace.tsx":
/*!************************************************!*\
  !*** ./src/components/workspace/Workspace.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Workspace: () => (/* binding */ Workspace)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(ssr)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n/* harmony import */ var _components_chat_Chat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/chat/Chat */ \"(ssr)/./src/components/chat/Chat.tsx\");\n/* harmony import */ var _components_workspace_CharacterManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/workspace/CharacterManager */ \"(ssr)/./src/components/workspace/CharacterManager.tsx\");\n/* harmony import */ var _components_workspace_WorldSettingsManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/workspace/WorldSettingsManager */ \"(ssr)/./src/components/workspace/WorldSettingsManager.tsx\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* __next_internal_client_entry_do_not_use__ Workspace auto */ \n\n\n\n\n\n\n\nfunction Workspace({ projectId }) {\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_3__.createApi)(supabase), [\n        supabase\n    ]);\n    const [chapters, setChapters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loadingCh, setLoadingCh] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [errorCh, setErrorCh] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [tabs, setTabs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [content, setContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const saveTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [leftCollapsed, setLeftCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiMuseOpen, setAiMuseOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deletingId, setDeletingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [projectTitle, setProjectTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projectDescription, setProjectDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [settingsOpen, setSettingsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [renameTitle, setRenameTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [renameDesc, setRenameDesc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [savingRename, setSavingRename] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [renameError, setRenameError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [settingsMenuOpen, setSettingsMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [projMode, setProjMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projGenre, setProjGenre] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Removed worldName field from Project\n    const [projCoreConflict, setProjCoreConflict] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projSettingsJson, setProjSettingsJson] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [toastMsg, setToastMsg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const SETTINGS_TAB_ID = \"__settings__\";\n    const CHARACTERS_TAB_ID = \"__characters__\";\n    const WORLD_TAB_ID = \"__world__\";\n    // Chats sidebar (right)\n    const [rightOpen, setRightOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const chatsCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_chats`, [\n        projectId\n    ]);\n    const chatsActiveKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_active_chat`, [\n        projectId\n    ]);\n    const chaptersCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_chapters`, [\n        projectId\n    ]);\n    const tabsCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_open_tabs`, [\n        projectId\n    ]);\n    const activeTabKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_active_tab`, [\n        projectId\n    ]);\n    const leftCollapsedKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_left_collapsed`, [\n        projectId\n    ]);\n    const rightOpenKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_right_open`, [\n        projectId\n    ]);\n    const leftWidthKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_left_width`, [\n        projectId\n    ]);\n    const rightWidthKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_right_width`, [\n        projectId\n    ]);\n    const [chats, setChats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeChatId, setActiveChatId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasChatsCache, setHasChatsCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const chatsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(chats);\n    const [newChatType, setNewChatType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"plot\");\n    const [newChatTitle, setNewChatTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChatOpen, setNewChatOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [creatingChat, setCreatingChat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [createChatError, setCreateChatError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [chatMenuOpen, setChatMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [hasChaptersCache, setHasChaptersCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [leftWidth, setLeftWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(260);\n    const [rightWidth, setRightWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(260);\n    // Hydrate chats from localStorage after mount (prevents SSR/client mismatch)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        chatsCacheKey,\n        chatsActiveKey,\n        chaptersCacheKey,\n        tabsCacheKey,\n        activeTabKey,\n        leftCollapsedKey,\n        rightOpenKey\n    ]);\n    // Helper: sort chapters by createdAt asc (fallback by title)\n    const sortChapters = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((arr)=>{\n        return [\n            ...arr\n        ].sort((a, b)=>{\n            const ta = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n            const tb = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n            if (ta !== tb) return ta - tb;\n            return (a.title || \"\").localeCompare(b.title || \"\");\n        });\n    }, []);\n    // Load chapters for tree\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasChaptersCache) {\n                return;\n            }\n            try {\n                setLoadingCh(true);\n                const { items } = await api.listChaptersPaginated(projectId, 0, 100);\n                if (!mounted) return;\n                setChapters(sortChapters(items));\n            } catch (e) {\n                if (mounted) setErrorCh(e?.message || \"Failed to load chapters\");\n            } finally{\n                if (mounted) setLoadingCh(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        sortChapters,\n        hasChaptersCache\n    ]);\n    // Reflect settings updates triggered from Chat or elsewhere immediately\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onSettings = (e)=>{\n            const detail = e?.detail || {};\n            const changes = detail.changes || {};\n            if (changes.title !== undefined) setProjectTitle(changes.title || \"\");\n            if (changes.description !== undefined) setProjectDescription(changes.description || \"\");\n            if (changes.mode) setProjMode(changes.mode);\n            if (changes.genre !== undefined) setProjGenre(changes.genre || \"\");\n            if (changes.coreConflict !== undefined) setProjCoreConflict(changes.coreConflict || \"\");\n            if (changes.settingsJson !== undefined) {\n                try {\n                    setProjSettingsJson(typeof changes.settingsJson === \"string\" ? changes.settingsJson : JSON.stringify(changes.settingsJson));\n                } catch  {\n                    setProjSettingsJson(\"\");\n                }\n            }\n        };\n        const onMode = (e)=>{\n            const m = e?.detail?.mode;\n            if (m === \"novel\" || m === \"manhwa\") setProjMode(m);\n        };\n        if (false) {}\n        return ()=>{\n            if (false) {}\n        };\n    }, []);\n    // Listen for chat actions to create/open chapters in editor\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handler = async (e)=>{\n            try {\n                const detail = e?.detail || {};\n                const t = String(detail.title || \"Untitled Chapter\");\n                const c = detail.content !== undefined ? String(detail.content) : \"\";\n                const panel_script = detail.panel_script ?? undefined;\n                const res = await api.createChapter(projectId, panel_script ? {\n                    title: t,\n                    panel_script\n                } : {\n                    title: t,\n                    content: c\n                });\n                const newId = res.id;\n                const createdAt = res.createdAt;\n                setChapters((prev)=>sortChapters([\n                        ...prev,\n                        {\n                            id: newId,\n                            title: res.title,\n                            content: panel_script ? \"\" : c,\n                            createdAt\n                        }\n                    ]));\n                setTabs((prev)=>prev.includes(newId) ? prev : [\n                        ...prev,\n                        newId\n                    ]);\n                setActiveId(newId);\n                setTitle(res.title);\n                setContent(panel_script ? \"\" : c);\n            } catch  {}\n        };\n        if (false) {}\n        return ()=>{\n            if (false) {}\n        };\n    }, [\n        api,\n        projectId,\n        sortChapters\n    ]);\n    // Listen for chat-driven chapter updates (rewrite)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handler = async (e)=>{\n            const detail = e?.detail || {};\n            const content = String(detail.content || \"\");\n            let targetId = detail.id || null;\n            if (!targetId) {\n                // Resolve by chapter_number (1-based) against sorted order\n                if (detail.chapter_number && Number.isInteger(detail.chapter_number)) {\n                    const sorted = sortChapters(chapters);\n                    const idx = Math.max(0, Math.min(sorted.length - 1, detail.chapter_number - 1));\n                    targetId = sorted[idx]?.id || null;\n                } else if (detail.title) {\n                    const match = chapters.find((c)=>(c.title || \"\").toLowerCase() === String(detail.title).toLowerCase());\n                    targetId = match?.id || null;\n                }\n            }\n            if (!targetId) return;\n            try {\n                const updated = await api.updateChapter(projectId, targetId, {\n                    content\n                });\n                setChapters((prev)=>prev.map((c)=>c.id === targetId ? {\n                            ...c,\n                            content\n                        } : c));\n                // Open or refresh active tab\n                if (!tabs.includes(targetId)) setTabs((prev)=>[\n                        ...prev,\n                        targetId\n                    ]);\n                setActiveId(targetId);\n                if (activeId === targetId) setContent(content);\n            } catch  {}\n        };\n        if (false) {}\n        return ()=>{\n            if (false) {}\n        };\n    }, [\n        api,\n        projectId,\n        chapters,\n        tabs,\n        activeId,\n        sortChapters\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            try {\n                const p = await api.getProject(projectId);\n                if (!mounted) return;\n                setProjectTitle(p?.title || \"\");\n                setProjectDescription(p?.description || \"\");\n                try {\n                    if (p?.mode && (p.mode === \"novel\" || p.mode === \"manhwa\")) setProjMode(p.mode);\n                    if (typeof p?.genre === \"string\") setProjGenre(p.genre);\n                    if (typeof p?.coreConflict === \"string\") setProjCoreConflict(p.coreConflict);\n                    if (p?.settingsJson !== undefined) {\n                        setProjSettingsJson(typeof p.settingsJson === \"string\" ? p.settingsJson : JSON.stringify(p.settingsJson));\n                    }\n                } catch  {}\n            } catch  {}\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId\n    ]);\n    // Initialize Project Settings form fields when the tab opens or project fields hydrate\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (activeId === SETTINGS_TAB_ID) {\n            if (!renameTitle && projectTitle) setRenameTitle(projectTitle);\n            if (!renameDesc && projectDescription !== undefined) setRenameDesc(projectDescription);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        activeId,\n        projectTitle,\n        projectDescription\n    ]);\n    // Load chats (hydrate from cache first, then revalidate)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasChatsCache) {\n                return;\n            }\n            try {\n                const xs = await api.listChats(projectId);\n                if (!mounted) return;\n                const next = xs || [];\n                try {\n                    if (hasChatsCache && JSON.stringify(next) === JSON.stringify(chatsRef.current)) {\n                        return;\n                    }\n                } catch  {}\n                setChats(next);\n                if (!activeChatId) {\n                    if (next && next.length) setActiveChatId(next[0].id);\n                    else {\n                        // ensure at least one plot chat exists\n                        const created = await api.createChat(projectId, {\n                            type: \"plot\"\n                        });\n                        setChats([\n                            created\n                        ]);\n                        setActiveChatId(created.id);\n                    }\n                }\n            } catch  {}\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        hasChatsCache,\n        activeChatId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        chatsRef.current = chats;\n    }, [\n        chats\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n        setHasChatsCache(Array.isArray(chats) && chats.length > 0);\n    }, [\n        chats,\n        chatsCacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        activeChatId,\n        chatsActiveKey\n    ]);\n    // Persist chapters cache\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n        setHasChaptersCache(Array.isArray(chapters) && chapters.length > 0);\n    }, [\n        chapters,\n        chaptersCacheKey\n    ]);\n    // Persist tabs and active tab\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        tabs,\n        tabsCacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        activeId,\n        activeTabKey\n    ]);\n    // Persist UI toggles\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        leftCollapsed,\n        leftCollapsedKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        rightOpen,\n        rightOpenKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        leftWidth,\n        leftWidthKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        rightWidth,\n        rightWidthKey\n    ]);\n    const openTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setTabs((prev)=>prev.includes(id) ? prev : [\n                ...prev,\n                id\n            ]);\n        setActiveId(id);\n        const ch = chapters.find((c)=>c.id === id);\n        setTitle(ch?.title || \"\");\n        setContent(ch?.content || \"\");\n    }, [\n        chapters\n    ]);\n    const closeTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setTabs((prev)=>prev.filter((t)=>t !== id));\n        setActiveId((curr)=>{\n            if (curr !== id) return curr;\n            const idx = tabs.indexOf(id);\n            const next = tabs[idx + 1] || tabs[idx - 1] || null;\n            return next || null;\n        });\n    }, [\n        tabs\n    ]);\n    // Hydrate editor fields when activeId and chapters are restored from cache\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeId) return;\n        if (activeId === SETTINGS_TAB_ID || activeId === CHARACTERS_TAB_ID || activeId === WORLD_TAB_ID) return;\n        const ch = chapters.find((c)=>c.id === activeId);\n        if (!ch) return;\n        setTitle(ch.title || \"\");\n        setContent(ch.content || \"\");\n    }, [\n        activeId,\n        chapters\n    ]);\n    const onDragStart = (e, id)=>{\n        e.dataTransfer.setData(\"text/tab\", id);\n    };\n    const onDrop = (e, targetId)=>{\n        const srcId = e.dataTransfer.getData(\"text/tab\");\n        if (!srcId || srcId === targetId) return;\n        setTabs((prev)=>{\n            const arr = [\n                ...prev\n            ];\n            const si = arr.indexOf(srcId);\n            const ti = arr.indexOf(targetId);\n            if (si < 0 || ti < 0) return prev;\n            arr.splice(ti, 0, arr.splice(si, 1)[0]);\n            return arr;\n        });\n    };\n    const startLeftResize = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        e.preventDefault();\n        const startX = e.clientX;\n        const startW = leftWidth;\n        const onMove = (ev)=>{\n            const dx = ev.clientX - startX;\n            const next = Math.max(200, Math.min(600, startW + dx));\n            setLeftWidth(next);\n        };\n        const onUp = ()=>{\n            window.removeEventListener(\"mousemove\", onMove);\n            window.removeEventListener(\"mouseup\", onUp);\n        };\n        window.addEventListener(\"mousemove\", onMove);\n        window.addEventListener(\"mouseup\", onUp);\n    }, [\n        leftWidth\n    ]);\n    const startRightResize = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        e.preventDefault();\n        const startX = e.clientX;\n        const startW = rightWidth;\n        const onMove = (ev)=>{\n            const dx = ev.clientX - startX;\n            const next = Math.max(220, Math.min(600, startW - dx));\n            setRightWidth(next);\n        };\n        const onUp = ()=>{\n            window.removeEventListener(\"mousemove\", onMove);\n            window.removeEventListener(\"mouseup\", onUp);\n        };\n        window.addEventListener(\"mousemove\", onMove);\n        window.addEventListener(\"mouseup\", onUp);\n    }, [\n        rightWidth\n    ]);\n    // Persist edits (debounced)\n    const scheduleSave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id, t, c)=>{\n        if (!id) return;\n        if (saveTimer.current) clearTimeout(saveTimer.current);\n        saveTimer.current = setTimeout(async ()=>{\n            setSaving(true);\n            try {\n                await api.updateChapter(projectId, id, {\n                    title: t,\n                    content: c\n                });\n                setChapters((prev)=>prev.map((ch)=>ch.id === id ? {\n                            ...ch,\n                            title: t,\n                            content: c\n                        } : ch));\n            } finally{\n                setSaving(false);\n            }\n        }, 500);\n    }, [\n        api,\n        projectId\n    ]);\n    // Active change handlers\n    const onTitleChange = (v)=>{\n        if (!activeId) return;\n        setTitle(v);\n        scheduleSave(activeId, v, content);\n    };\n    const onContentChange = (v)=>{\n        if (!activeId) return;\n        setContent(v);\n        scheduleSave(activeId, title, v);\n    };\n    const onNewChapter = async ()=>{\n        try {\n            const res = await api.createChapter(projectId, {\n                title: \"Untitled Chapter\"\n            });\n            const createdAt = res.createdAt;\n            setChapters((prev)=>sortChapters([\n                    ...prev,\n                    {\n                        id: res.id,\n                        title: res.title,\n                        content: \"\",\n                        createdAt\n                    }\n                ]));\n            openTab(res.id);\n        } catch  {}\n    };\n    const onDeleteChapter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id)=>{\n        try {\n            // eslint-disable-next-line no-alert\n            if (!confirm(\"Delete this chapter permanently?\")) return;\n            setDeletingId(id);\n            await api.deleteChapter(projectId, id);\n            setChapters((prev)=>prev.filter((c)=>c.id !== id));\n            setTabs((prev)=>prev.filter((t)=>t !== id));\n            setActiveId((curr)=>curr === id ? null : curr);\n        } catch (e) {\n            const msg = e instanceof Error ? e.message : \"Failed to delete\";\n            setErrorCh(msg);\n        } finally{\n            setDeletingId(null);\n        }\n    }, [\n        api,\n        projectId\n    ]);\n    const activeChapter = chapters.find((c)=>c.id === activeId) || null;\n    const gridCols = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const cols = [];\n        if (!leftCollapsed) {\n            cols.push(`${leftWidth}px`);\n            cols.push(\"4px\");\n        }\n        cols.push(\"1fr\");\n        if (rightOpen) {\n            cols.push(\"4px\");\n            cols.push(`${rightWidth}px`);\n        }\n        return cols.join(\" \");\n    }, [\n        leftCollapsed,\n        rightOpen,\n        leftWidth,\n        rightWidth\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen w-screen bg-bg-primary text-text-primary grid grid-rows-[auto_1fr] relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-12 border-b border-border-default bg-bg-primary flex items-center relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 min-w-0 flex items-stretch gap-1 px-2 overflow-x-auto\",\n                        children: tabs.map((id)=>{\n                            const ch = chapters.find((c)=>c.id === id);\n                            const active = id === activeId;\n                            const label = id === SETTINGS_TAB_ID ? \"Settings\" : id === CHARACTERS_TAB_ID ? \"Characters\" : ch?.title || \"Untitled\";\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                draggable: true,\n                                onDragStart: (e)=>onDragStart(e, id),\n                                onDragOver: (e)=>e.preventDefault(),\n                                onDrop: (e)=>onDrop(e, id),\n                                onMouseDown: (e)=>{\n                                    if (e.button === 1) {\n                                        e.preventDefault();\n                                        closeTab(id);\n                                    }\n                                },\n                                className: `group flex items-center gap-2 px-4 h-10 rounded-t-md transition-all duration-150 ${active ? \"bg-bg-elevated text-text-primary\" : \"text-text-tertiary hover:text-text-secondary hover:bg-bg-hover\"}`,\n                                onClick: ()=>setActiveId(id),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm truncate max-w-[160px]\",\n                                        children: label\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 500,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity duration-150\",\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            closeTab(id);\n                                        },\n                                        children: \"\\xd7\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 501,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, id, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 490,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 484,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 flex items-center justify-center pointer-events-none\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm font-semibold text-text-primary truncate max-w-[60%] tracking-elegant\",\n                            children: projectTitle || \"Project\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 507,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 506,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute right-2 top-1 z-10 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"text-xs px-3 py-1.5 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150\",\n                                onClick: ()=>setSettingsMenuOpen((v)=>!v),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"sr-only\",\n                                        children: \"Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 514,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        className: \"w-4 h-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 515,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 510,\n                                columnNumber: 11\n                            }, this),\n                            settingsMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute right-0 top-10 z-20 w-48 rounded-lg border border-border-default bg-bg-elevated shadow-elevation\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            // Open settings as a central tab\n                                            if (!tabs.includes(SETTINGS_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    SETTINGS_TAB_ID\n                                                ]);\n                                            setActiveId(SETTINGS_TAB_ID);\n                                            setRenameTitle(projectTitle || \"\");\n                                            setRenameDesc(projectDescription || \"\");\n                                            setRenameError(null);\n                                        },\n                                        children: \"Project Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 519,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            if (!tabs.includes(WORLD_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    WORLD_TAB_ID\n                                                ]);\n                                            setActiveId(WORLD_TAB_ID);\n                                        },\n                                        children: \"World Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 531,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            if (!tabs.includes(CHARACTERS_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    CHARACTERS_TAB_ID\n                                                ]);\n                                            setActiveId(CHARACTERS_TAB_ID);\n                                        },\n                                        children: \"Characters\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 539,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 518,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 509,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 483,\n                columnNumber: 7\n            }, this),\n            leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"absolute left-2 top-14 z-10 text-xs px-3 py-2 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150 flex items-center gap-1 shadow-elevation\",\n                onClick: ()=>setLeftCollapsed(false),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        className: \"w-4 h-4\",\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 557,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: \"Chapters\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 558,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 553,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid min-h-0\",\n                style: {\n                    gridTemplateColumns: gridCols\n                },\n                children: [\n                    !leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"bg-bg-primary min-h-0 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-5 py-4 text-xs font-semibold tracking-[0.05em] uppercase flex items-center justify-between text-text-secondary\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"CHAPTERS\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 567,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                        onClick: ()=>setLeftCollapsed(true),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-4 h-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 569,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"sr-only\",\n                                                children: \"Collapse\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 570,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 568,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 566,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto px-4\",\n                                children: [\n                                    loadingCh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-text-secondary px-2 py-2\",\n                                        children: \"Loading\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 574,\n                                        columnNumber: 27\n                                    }, this),\n                                    errorCh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-red-400 px-2 py-2 bg-red-950/20 rounded-md border border-red-500/20\",\n                                        children: errorCh\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 575,\n                                        columnNumber: 25\n                                    }, this),\n                                    chapters.map((c, idx)=>{\n                                        const wordCount = c.content ? c.content.trim().split(/\\s+/).filter(Boolean).length : 0;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `group w-full flex items-start justify-between gap-2 px-3 py-3 rounded-lg mb-2 transition-all duration-150 ${activeId === c.id ? \"bg-bg-elevated border-l-3 border-accent\" : \"hover:bg-bg-hover\"}`,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"flex-1 text-left\",\n                                                    onClick: ()=>openTab(c.id),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs uppercase text-text-tertiary mb-1\",\n                                                            children: [\n                                                                \"Chapter \",\n                                                                idx + 1\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 584,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: `text-sm font-medium mb-1 ${activeId === c.id ? \"text-text-primary\" : \"text-text-secondary\"}`,\n                                                            children: c.title || \"Untitled\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 585,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: [\n                                                                wordCount,\n                                                                \" words\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 586,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 580,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: `opacity-0 group-hover:opacity-100 transition-opacity duration-150 ${deletingId === c.id ? \"text-red-400 opacity-60 cursor-not-allowed\" : \"text-text-tertiary hover:text-red-400\"}`,\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        if (deletingId) return;\n                                                        void onDeleteChapter(c.id);\n                                                    },\n                                                    title: \"Delete chapter\",\n                                                    disabled: deletingId === c.id,\n                                                    children: [\n                                                        deletingId === c.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                            className: \"w-4 h-4 animate-spin\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 594,\n                                                            columnNumber: 42\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                            className: \"w-4 h-4\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 594,\n                                                            columnNumber: 108\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"sr-only\",\n                                                            children: \"Delete\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 595,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 588,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, c.id, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 579,\n                                            columnNumber: 15\n                                        }, this);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 573,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4 border-t border-border-default\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full rounded-lg bg-bg-elevated border border-border-default hover:border-accent hover:bg-bg-hover text-text-secondary hover:text-text-primary text-sm px-4 py-3 flex items-center justify-center gap-2 transition-all duration-150 hover:-translate-y-0.5\",\n                                    onClick: onNewChapter,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            className: \"w-4 h-4\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 602,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"New Chapter\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 603,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 601,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 600,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 565,\n                        columnNumber: 9\n                    }, this),\n                    !leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        role: \"separator\",\n                        \"aria-orientation\": \"vertical\",\n                        onMouseDown: startLeftResize,\n                        className: \"cursor-col-resize w-1 bg-transparent hover:bg-bg-hover\",\n                        style: {\n                            userSelect: \"none\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 609,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"min-h-0 overflow-hidden bg-bg-primary flex flex-col\",\n                        children: activeId === SETTINGS_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full grid grid-rows-[auto_1fr_auto] bg-bg-elevated\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-b border-border-default px-6 py-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-base font-semibold text-text-primary tracking-elegant\",\n                                        children: \"Project Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 623,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 622,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-h-0 overflow-y-auto px-6 py-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid gap-4 max-w-2xl\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Title\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 628,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: renameTitle,\n                                                        onChange: (e)=>setRenameTitle(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 629,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 627,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Description\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 636,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        value: renameDesc,\n                                                        onChange: (e)=>setRenameDesc(e.target.value),\n                                                        rows: 3,\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150 text-sm\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 637,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 635,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Mode\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 645,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        value: projMode,\n                                                        onChange: (e)=>setProjMode(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent transition-colors duration-150\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"\",\n                                                                children: \"Select\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 651,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"novel\",\n                                                                children: \"Novel\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 652,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"manhwa\",\n                                                                children: \"Manhwa\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 653,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 646,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 644,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Genre\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 657,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: projGenre,\n                                                        onChange: (e)=>setProjGenre(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 658,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 656,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Core Conflict\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 666,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: projCoreConflict,\n                                                        onChange: (e)=>setProjCoreConflict(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 667,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 665,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Settings JSON\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 674,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        value: projSettingsJson,\n                                                        onChange: (e)=>setProjSettingsJson(e.target.value),\n                                                        rows: 10,\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150 font-mono text-xs\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 675,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 673,\n                                                columnNumber: 19\n                                            }, this),\n                                            renameError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-red-400 p-3 rounded-lg bg-red-950/20 border border-red-500/20\",\n                                                children: renameError\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 682,\n                                                columnNumber: 35\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 626,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 625,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-14 px-6 flex items-center justify-end gap-3 border-t border-border-default bg-bg-primary\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setActiveId(null),\n                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                            children: \"Close\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 686,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            disabled: savingRename,\n                                            onClick: async ()=>{\n                                                setSavingRename(true);\n                                                setRenameError(null);\n                                                try {\n                                                    const updateBody = {};\n                                                    const t = renameTitle.trim();\n                                                    if (t && t !== projectTitle) updateBody.title = t;\n                                                    if (renameDesc !== projectDescription) updateBody.description = renameDesc;\n                                                    if (Object.keys(updateBody).length > 0) {\n                                                        const updated = await api.updateProject(projectId, updateBody);\n                                                        setProjectTitle(updated?.title || t || projectTitle);\n                                                        setProjectDescription(updated?.description ?? renameDesc ?? projectDescription);\n                                                    }\n                                                    const changes = {};\n                                                    if (projMode) changes.mode = projMode;\n                                                    if (projGenre) changes.genre = projGenre;\n                                                    if (projCoreConflict) changes.coreConflict = projCoreConflict;\n                                                    if (projSettingsJson) {\n                                                        try {\n                                                            changes.settingsJson = JSON.parse(projSettingsJson);\n                                                        } catch  {\n                                                            changes.settingsJson = projSettingsJson;\n                                                        }\n                                                    }\n                                                    if (Object.keys(changes).length > 0) {\n                                                        await api.updateProjectSettings(projectId, changes);\n                                                        if (false) {}\n                                                        // Toast: Settings saved\n                                                        if (toastTimer.current) clearTimeout(toastTimer.current);\n                                                        setToastMsg(\"Settings saved\");\n                                                        toastTimer.current = setTimeout(()=>setToastMsg(\"\"), 3000);\n                                                    }\n                                                } catch (e) {\n                                                    setRenameError(e?.message || \"Failed to save\");\n                                                } finally{\n                                                    setSavingRename(false);\n                                                }\n                                            },\n                                            className: \"px-4 py-2 rounded-md bg-accent hover:bg-accent-hover disabled:opacity-50 text-white transition-all duration-150\",\n                                            children: savingRename ? \"Saving\" : \"Save Settings\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 687,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 685,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 621,\n                            columnNumber: 13\n                        }, this) : activeId === CHARACTERS_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_workspace_CharacterManager__WEBPACK_IMPORTED_MODULE_5__.CharacterManager, {\n                                projectId: projectId,\n                                requireImage: projMode === \"manhwa\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 733,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 732,\n                            columnNumber: 13\n                        }, this) : activeId === WORLD_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_workspace_WorldSettingsManager__WEBPACK_IMPORTED_MODULE_6__.WorldSettingsManager, {\n                                projectId: projectId\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 737,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 736,\n                            columnNumber: 13\n                        }, this) : activeId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-h-0 overflow-y-auto bg-bg-elevated flex justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full max-w-[800px] px-12 py-16\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: title,\n                                                onChange: (e)=>onTitleChange(e.target.value),\n                                                placeholder: \"Chapter Title\",\n                                                className: \"w-full bg-transparent border-none text-[32px] font-bold text-text-primary placeholder:text-text-tertiary outline-none mb-8 tracking-tight\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 745,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                contentEditable: true,\n                                                suppressContentEditableWarning: true,\n                                                onInput: (e)=>onContentChange(e.currentTarget.textContent || \"\"),\n                                                className: \"w-full min-h-[400px] text-lg leading-[1.8] text-text-primary outline-none\",\n                                                style: {\n                                                    whiteSpace: \"pre-wrap\"\n                                                },\n                                                children: content\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 752,\n                                                columnNumber: 19\n                                            }, this),\n                                            !content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-lg text-text-tertiary pointer-events-none -mt-[400px] leading-[1.8]\",\n                                                children: \"Start writing your story...\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 762,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 743,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 742,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-12 bg-bg-primary border-t border-border-default px-6 flex items-center justify-between text-[13px] text-text-tertiary\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-6\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: `w-1.5 h-1.5 rounded-full ${saving ? \"bg-warning animate-pulse\" : \"bg-success\"}`\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 770,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: saving ? \"Saving\" : \"Saved\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 771,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 769,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        content.trim().split(/\\s+/).filter(Boolean).length,\n                                                        \" words\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 773,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        content.length,\n                                                        \" characters\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 774,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        Math.ceil(content.trim().split(/\\s+/).filter(Boolean).length / 200),\n                                                        \" min read\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 775,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 768,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: activeChapter?.createdAt && `Last edited ${new Date(activeChapter.createdAt).toLocaleString()}`\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 777,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 767,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 740,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated flex items-center justify-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center max-w-md\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-base font-semibold text-text-primary mb-2\",\n                                        children: \"No Chapter Selected\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 785,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-text-secondary\",\n                                        children: \"Open a chapter from the left sidebar to start editing.\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 786,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 784,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 783,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 619,\n                        columnNumber: 9\n                    }, this),\n                    rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        role: \"separator\",\n                        \"aria-orientation\": \"vertical\",\n                        onMouseDown: startRightResize,\n                        className: \"cursor-col-resize w-1 bg-transparent hover:bg-bg-hover\",\n                        style: {\n                            userSelect: \"none\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 794,\n                        columnNumber: 9\n                    }, this),\n                    rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"bg-bg-primary min-h-0 flex flex-col relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-5 py-4 text-xs font-semibold tracking-[0.05em] uppercase flex items-center justify-between text-text-secondary\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"flex items-center gap-2 text-text-secondary hover:text-text-primary\",\n                                        onClick: ()=>setChatMenuOpen((v)=>!v),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"truncate max-w-[140px] text-text-primary normal-case text-sm font-medium\",\n                                                children: chats.find((c)=>c.id === activeChatId)?.title || \"Select chat\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 806,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                className: `w-3.5 h-3.5 transition-transform ${chatMenuOpen ? \"rotate-180\" : \"\"}`,\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 807,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 805,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                                onClick: ()=>{\n                                                    setNewChatOpen(true);\n                                                    setChatMenuOpen(true);\n                                                },\n                                                title: \"New Chat\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"w-4 h-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 811,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 810,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                                onClick: ()=>setRightOpen(false),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 814,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"sr-only\",\n                                                        children: \"Collapse\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 815,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 813,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 809,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 804,\n                                columnNumber: 11\n                            }, this),\n                            chatMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute left-3 right-3 top-14 z-20 rounded-lg border border-border-default bg-bg-elevated shadow-elevation\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 border-b border-border-default flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-semibold text-text-primary\",\n                                                children: \"Chats\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 822,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-text-primary\",\n                                                onClick: ()=>setChatMenuOpen(false),\n                                                children: \"\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 823,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 821,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 space-y-3\",\n                                        children: [\n                                            newChatOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border border-border-default rounded-lg p-3 bg-bg-primary\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary mb-2\",\n                                                        children: \"Create a new chat\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 828,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2 mb-2\",\n                                                        children: [\n                                                            \"plot\",\n                                                            \"character\",\n                                                            \"world\"\n                                                        ].map((t)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: `text-xs px-3 py-1.5 rounded-md border cursor-pointer ${newChatType === t ? \"border-accent text-accent\" : \"border-border-default text-text-secondary hover:text-text-primary\"}`,\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"radio\",\n                                                                        name: \"chat-type\",\n                                                                        className: \"hidden\",\n                                                                        checked: newChatType === t,\n                                                                        onChange: ()=>setNewChatType(t)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                        lineNumber: 832,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    t\n                                                                ]\n                                                            }, t, true, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 831,\n                                                                columnNumber: 25\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 829,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: newChatTitle,\n                                                        onChange: (e)=>setNewChatTitle(e.target.value),\n                                                        placeholder: \"Title (optional)\",\n                                                        className: \"w-full bg-bg-elevated border border-border-default rounded-md px-3 py-2 text-text-primary outline-none focus:border-accent text-sm\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 836,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    createChatError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2 text-xs text-red-400\",\n                                                        children: createChatError\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 837,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-3 flex items-center justify-end gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"px-3 py-1.5 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover\",\n                                                                onClick: ()=>{\n                                                                    setNewChatOpen(false);\n                                                                    setNewChatTitle(\"\");\n                                                                    setCreateChatError(null);\n                                                                },\n                                                                children: \"Cancel\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 839,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"px-3 py-1.5 rounded-md bg-accent hover:bg-accent-hover text-white disabled:opacity-50\",\n                                                                disabled: creatingChat,\n                                                                onClick: async ()=>{\n                                                                    setCreatingChat(true);\n                                                                    setCreateChatError(null);\n                                                                    try {\n                                                                        const c = await api.createChat(projectId, {\n                                                                            type: newChatType,\n                                                                            title: newChatTitle || undefined\n                                                                        });\n                                                                        setChats((prev)=>[\n                                                                                ...prev,\n                                                                                c\n                                                                            ]);\n                                                                        setActiveChatId(c.id);\n                                                                        setNewChatOpen(false);\n                                                                        setNewChatTitle(\"\");\n                                                                        setChatMenuOpen(false);\n                                                                    } catch (e) {\n                                                                        setCreateChatError(e?.message || \"Failed to create chat\");\n                                                                    } finally{\n                                                                        setCreatingChat(false);\n                                                                    }\n                                                                },\n                                                                children: creatingChat ? \"Creating\" : \"Create\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 840,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 838,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 827,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"max-h-64 overflow-y-auto pr-1\",\n                                                children: [\n                                                    !chats.length && !newChatOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary px-2 py-2\",\n                                                        children: [\n                                                            \"No chats yet. \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"underline\",\n                                                                onClick: ()=>{\n                                                                    setNewChatType(\"plot\");\n                                                                    setNewChatOpen(true);\n                                                                },\n                                                                children: \"Create your first chat\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 858,\n                                                                columnNumber: 89\n                                                            }, this),\n                                                            \".\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 858,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    chats.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: `group w-full flex items-center justify-between gap-2 px-3 py-2 rounded-md mb-1 transition-all duration-150 ${activeChatId === c.id ? \"bg-bg-hover\" : \"hover:bg-bg-hover\"}`,\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"flex-1 text-left\",\n                                                                    onClick: ()=>{\n                                                                        setActiveChatId(c.id);\n                                                                        setChatMenuOpen(false);\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-[10px] uppercase text-text-tertiary mb-0.5\",\n                                                                            children: c.type\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 863,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: `text-sm font-medium ${activeChatId === c.id ? \"text-text-primary\" : \"text-text-secondary\"}`,\n                                                                            children: c.title\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 864,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                    lineNumber: 862,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: `opacity-0 group-hover:opacity-100 transition-opacity duration-150 text-text-tertiary hover:text-red-400`,\n                                                                    onClick: async (e)=>{\n                                                                        e.stopPropagation();\n                                                                        if (!confirm(\"Delete this chat?\")) return;\n                                                                        try {\n                                                                            await api.deleteChat(projectId, c.id);\n                                                                            setChats((prev)=>prev.filter((x)=>x.id !== c.id));\n                                                                            if (activeChatId === c.id) setActiveChatId(chats.find((x)=>x.id !== c.id)?.id || null);\n                                                                        } catch  {}\n                                                                    },\n                                                                    title: \"Delete chat\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                            className: \"w-4 h-4\",\n                                                                            \"aria-hidden\": \"true\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 871,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"sr-only\",\n                                                                            children: \"Delete\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 872,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                    lineNumber: 866,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, c.id, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 861,\n                                                            columnNumber: 21\n                                                        }, this))\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 856,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 825,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 820,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"min-h-0 flex-1 overflow-hidden border-t border-border-default\",\n                                children: activeChatId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_Chat__WEBPACK_IMPORTED_MODULE_4__.Chat, {\n                                    chatId: activeChatId,\n                                    projectId: projectId,\n                                    chatType: chats.find((c)=>c.id === activeChatId)?.type || \"plot\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 883,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full grid place-items-center text-xs text-text-tertiary\",\n                                    children: \"Open the chat menu to create or select a chat.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 889,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 881,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 803,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 563,\n                columnNumber: 7\n            }, this),\n            !rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"absolute right-2 top-14 z-10 text-xs px-3 py-2 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150 flex items-center gap-1 shadow-elevation\",\n                onClick: ()=>setRightOpen(true),\n                children: \"Open Chats\"\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 897,\n                columnNumber: 9\n            }, this),\n            settingsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 grid place-items-center bg-black/60 backdrop-blur-sm\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full max-w-md bg-bg-elevated border border-border-default rounded-xl p-6 shadow-elevation\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-text-primary\",\n                                    children: \"Project Settings\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 906,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setSettingsOpen(false),\n                                    className: \"text-text-tertiary hover:text-text-primary transition-colors duration-150\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 907,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 905,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"grid gap-1 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-text-tertiary\",\n                                            children: \"Title\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 911,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: renameTitle,\n                                            onChange: (e)=>setRenameTitle(e.target.value),\n                                            className: \"bg-bg-primary border border-border-default rounded-md px-3 py-2 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 912,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 910,\n                                    columnNumber: 15\n                                }, this),\n                                renameError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-red-400 p-3 rounded-lg bg-red-950/20 border border-red-500/20\",\n                                    children: renameError\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 918,\n                                    columnNumber: 31\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-end gap-2 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setSettingsOpen(false),\n                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 920,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            disabled: savingRename || !renameTitle.trim(),\n                                            onClick: async ()=>{\n                                                setSavingRename(true);\n                                                setRenameError(null);\n                                                try {\n                                                    const updated = await api.updateProject(projectId, {\n                                                        title: renameTitle.trim()\n                                                    });\n                                                    setProjectTitle(updated?.title || renameTitle.trim());\n                                                    setSettingsOpen(false);\n                                                } catch (e) {\n                                                    setRenameError(e?.message || \"Failed to save\");\n                                                } finally{\n                                                    setSavingRename(false);\n                                                }\n                                            },\n                                            className: \"px-4 py-2 rounded-md bg-accent hover:bg-accent-hover disabled:opacity-50 text-white transition-all duration-150\",\n                                            children: savingRename ? \"Saving\" : \"Save\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 921,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 919,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 909,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                    lineNumber: 904,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 903,\n                columnNumber: 9\n            }, this),\n            toastMsg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-4 right-4 z-50 animate-in slide-in-from-bottom-4 duration-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 rounded-lg bg-bg-elevated border border-border-default text-text-primary text-sm shadow-elevation\",\n                    children: toastMsg\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                    lineNumber: 948,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 947,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n        lineNumber: 481,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy93b3Jrc3BhY2UvV29ya3NwYWNlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFMEU7QUFDSjtBQUNoQztBQUNRO0FBQzZCO0FBQ1E7QUFDb0M7QUFVaEgsU0FBU2tCLFVBQVUsRUFBRUMsU0FBUyxFQUF5QjtJQUM1RCxNQUFNQyxXQUFXZixtRkFBV0E7SUFDNUIsTUFBTWdCLE1BQU1uQiw4Q0FBT0EsQ0FBQyxJQUFNSSxtREFBU0EsQ0FBQ2MsV0FBVztRQUFDQTtLQUFTO0lBRXpELE1BQU0sQ0FBQ0UsVUFBVUMsWUFBWSxHQUFHbkIsK0NBQVFBLENBQWdCLEVBQUU7SUFDMUQsTUFBTSxDQUFDb0IsV0FBV0MsYUFBYSxHQUFHckIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDc0IsU0FBU0MsV0FBVyxHQUFHdkIsK0NBQVFBLENBQWdCO0lBRXRELE1BQU0sQ0FBQ3dCLE1BQU1DLFFBQVEsR0FBR3pCLCtDQUFRQSxDQUFXLEVBQUU7SUFDN0MsTUFBTSxDQUFDMEIsVUFBVUMsWUFBWSxHQUFHM0IsK0NBQVFBLENBQWdCO0lBRXhELE1BQU0sQ0FBQzRCLE9BQU9DLFNBQVMsR0FBRzdCLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQzhCLFNBQVNDLFdBQVcsR0FBRy9CLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2dDLFFBQVFDLFVBQVUsR0FBR2pDLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU1rQyxZQUFZbkMsNkNBQU1BLENBQXVDO0lBQy9ELE1BQU0sQ0FBQ29DLGVBQWVDLGlCQUFpQixHQUFHcEMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDcUMsWUFBWUMsY0FBYyxHQUFHdEMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDdUMsWUFBWUMsY0FBYyxHQUFHeEMsK0NBQVFBLENBQWdCO0lBQzVELE1BQU0sQ0FBQ3lDLGNBQWNDLGdCQUFnQixHQUFHMUMsK0NBQVFBLENBQVM7SUFDekQs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UztnREFDUDlMLGdCQUFnQjtnREFDaEJFLGVBQWU7Z0RBQ2YsSUFBSTtvREFDRixNQUFNOEgsVUFBVSxNQUFNbkssSUFBSTRQLGFBQWEsQ0FBQzlQLFdBQVc7d0RBQUVhLE9BQU9tQixZQUFZMk0sSUFBSTtvREFBRztvREFDL0VoTixnQkFBZ0IwSSxTQUFTeEosU0FBU21CLFlBQVkyTSxJQUFJO29EQUNsRDVNLGdCQUFnQjtnREFDbEIsRUFBRSxPQUFPb0csR0FBUTtvREFDZjVGLGVBQWU0RixHQUFHQyxXQUFXO2dEQUMvQixTQUFVO29EQUNSL0YsZ0JBQWdCO2dEQUNsQjs0Q0FDRjs0Q0FDQXVMLFdBQVU7c0RBRVR4TCxlQUFlLFlBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBUXZDYywwQkFDQyw4REFBQ3lLO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs4QkFDWjFLOzs7Ozs7Ozs7Ozs7Ozs7OztBQU1iIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5rdmVyc2UtY2xpZW50Ly4vc3JjL2NvbXBvbmVudHMvd29ya3NwYWNlL1dvcmtzcGFjZS50c3g/NTg1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU3VwYWJhc2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL3Byb3ZpZGVycy9TdXBhYmFzZVByb3ZpZGVyXCI7XG5pbXBvcnQgeyBjcmVhdGVBcGkgfSBmcm9tIFwiQC9saWIvYXBpXCI7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSBcIkAvY29tcG9uZW50cy9jaGF0L0NoYXRcIjtcbmltcG9ydCB7IENoYXJhY3Rlck1hbmFnZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3dvcmtzcGFjZS9DaGFyYWN0ZXJNYW5hZ2VyXCI7XG5pbXBvcnQgeyBXb3JsZFNldHRpbmdzTWFuYWdlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvd29ya3NwYWNlL1dvcmxkU2V0dGluZ3NNYW5hZ2VyXCI7XG5pbXBvcnQgeyBTZXR0aW5ncyBhcyBJY29uU2V0dGluZ3MsIENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIFBsdXMsIFRyYXNoMiwgTG9hZGVyMiwgQ2hldnJvbkRvd24gfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbnR5cGUgQ2hhcHRlckl0ZW0gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGNvbnRlbnQ/OiBzdHJpbmcgfCBudWxsO1xuICBwYW5lbFNjcmlwdD86IGFueSB8IG51bGw7XG4gIGNyZWF0ZWRBdD86IHN0cmluZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBXb3Jrc3BhY2UoeyBwcm9qZWN0SWQgfTogeyBwcm9qZWN0SWQ6IHN0cmluZyB9KSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gdXNlU3VwYWJhc2UoKTtcbiAgY29uc3QgYXBpID0gdXNlTWVtbygoKSA9PiBjcmVhdGVBcGkoc3VwYWJhc2UpLCBbc3VwYWJhc2VdKTtcblxuICBjb25zdCBbY2hhcHRlcnMsIHNldENoYXB0ZXJzXSA9IHVzZVN0YXRlPENoYXB0ZXJJdGVtW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmdDaCwgc2V0TG9hZGluZ0NoXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3JDaCwgc2V0RXJyb3JDaF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbdGFicywgc2V0VGFic10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbYWN0aXZlSWQsIHNldEFjdGl2ZUlkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IFt0aXRsZSwgc2V0VGl0bGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjb250ZW50LCBzZXRDb250ZW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBzYXZlVGltZXIgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xlZnRDb2xsYXBzZWQsIHNldExlZnRDb2xsYXBzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWlNdXNlT3Blbiwgc2V0QWlNdXNlT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkZWxldGluZ0lkLCBzZXREZWxldGluZ0lkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcHJvamVjdFRpdGxlLCBzZXRQcm9qZWN0VGl0bGVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3Byb2plY3REZXNjcmlwdGlvbiwgc2V0UHJvamVjdERlc2NyaXB0aW9uXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtzZXR0aW5nc09wZW4sIHNldFNldHRpbmdzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZW5hbWVUaXRsZSwgc2V0UmVuYW1lVGl0bGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtyZW5hbWVEZXNjLCBzZXRSZW5hbWVEZXNjXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2F2aW5nUmVuYW1lLCBzZXRTYXZpbmdSZW5hbWVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVuYW1lRXJyb3IsIHNldFJlbmFtZUVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2V0dGluZ3NNZW51T3Blbiwgc2V0U2V0dGluZ3NNZW51T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcm9qTW9kZSwgc2V0UHJvak1vZGVdID0gdXNlU3RhdGU8J25vdmVsJyB8ICdtYW5od2EnIHwgJyc+KCcnKTtcbiAgY29uc3QgW3Byb2pHZW5yZSwgc2V0UHJvakdlbnJlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIC8vIFJlbW92ZWQgd29ybGROYW1lIGZpZWxkIGZyb20gUHJvamVjdFxuICBjb25zdCBbcHJvakNvcmVDb25mbGljdCwgc2V0UHJvakNvcmVDb25mbGljdF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbcHJvalNldHRpbmdzSnNvbiwgc2V0UHJvalNldHRpbmdzSnNvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbdG9hc3RNc2csIHNldFRvYXN0TXNnXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IHRvYXN0VGltZXIgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsPihudWxsKTtcblxuICBjb25zdCBTRVRUSU5HU19UQUJfSUQgPSAnX19zZXR0aW5nc19fJztcbiAgY29uc3QgQ0hBUkFDVEVSU19UQUJfSUQgPSAnX19jaGFyYWN0ZXJzX18nO1xuICBjb25zdCBXT1JMRF9UQUJfSUQgPSAnX193b3JsZF9fJztcblxuICAvLyBDaGF0cyBzaWRlYmFyIChyaWdodClcbiAgY29uc3QgW3JpZ2h0T3Blbiwgc2V0UmlnaHRPcGVuXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBjaGF0c0NhY2hlS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fY2hhdHNgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGNoYXRzQWN0aXZlS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fYWN0aXZlX2NoYXRgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGNoYXB0ZXJzQ2FjaGVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9jaGFwdGVyc2AsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgdGFic0NhY2hlS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fb3Blbl90YWJzYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBhY3RpdmVUYWJLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9hY3RpdmVfdGFiYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBsZWZ0Q29sbGFwc2VkS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fbGVmdF9jb2xsYXBzZWRgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IHJpZ2h0T3BlbktleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X3JpZ2h0X29wZW5gLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGxlZnRXaWR0aEtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X2xlZnRfd2lkdGhgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IHJpZ2h0V2lkdGhLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9yaWdodF93aWR0aGAsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgW2NoYXRzLCBzZXRDaGF0c10gPSB1c2VTdGF0ZTxBcnJheTx7IGlkOiBzdHJpbmc7IHR5cGU6ICdwbG90J3wnY2hhcmFjdGVyJ3wnd29ybGQnOyB0aXRsZTogc3RyaW5nIH0+PihbXSk7XG4gIGNvbnN0IFthY3RpdmVDaGF0SWQsIHNldEFjdGl2ZUNoYXRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2hhc0NoYXRzQ2FjaGUsIHNldEhhc0NoYXRzQ2FjaGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBjaGF0c1JlZiA9IHVzZVJlZihjaGF0cyk7XG4gIGNvbnN0IFtuZXdDaGF0VHlwZSwgc2V0TmV3Q2hhdFR5cGVdID0gdXNlU3RhdGU8J3Bsb3QnfCdjaGFyYWN0ZXInfCd3b3JsZCc+KCdwbG90Jyk7XG4gIGNvbnN0IFtuZXdDaGF0VGl0bGUsIHNldE5ld0NoYXRUaXRsZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdDaGF0T3Blbiwgc2V0TmV3Q2hhdE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlYXRpbmdDaGF0LCBzZXRDcmVhdGluZ0NoYXRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlYXRlQ2hhdEVycm9yLCBzZXRDcmVhdGVDaGF0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjaGF0TWVudU9wZW4sIHNldENoYXRNZW51T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtoYXNDaGFwdGVyc0NhY2hlLCBzZXRIYXNDaGFwdGVyc0NhY2hlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2xlZnRXaWR0aCwgc2V0TGVmdFdpZHRoXSA9IHVzZVN0YXRlPG51bWJlcj4oMjYwKTtcbiAgY29uc3QgW3JpZ2h0V2lkdGgsIHNldFJpZ2h0V2lkdGhdID0gdXNlU3RhdGU8bnVtYmVyPigyNjApO1xuXG4gIC8vIEh5ZHJhdGUgY2hhdHMgZnJvbSBsb2NhbFN0b3JhZ2UgYWZ0ZXIgbW91bnQgKHByZXZlbnRzIFNTUi9jbGllbnQgbWlzbWF0Y2gpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNoYXRzQ2FjaGVLZXkpO1xuICAgICAgICBpZiAocykge1xuICAgICAgICAgIGNvbnN0IGFyciA9IEpTT04ucGFyc2Uocyk7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICAgICAgc2V0Q2hhdHMoYXJyIGFzIGFueSk7XG4gICAgICAgICAgICBzZXRIYXNDaGF0c0NhY2hlKChhcnIgYXMgYW55W10pLmxlbmd0aCA+IDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNoYXRzQWN0aXZlS2V5KTtcbiAgICAgICAgaWYgKHYpIHNldEFjdGl2ZUNoYXRJZCh2KTtcbiAgICAgICAgLy8gSHlkcmF0ZSBjaGFwdGVyc1xuICAgICAgICBjb25zdCBjaHMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oY2hhcHRlcnNDYWNoZUtleSk7XG4gICAgICAgIGlmIChjaHMpIHtcbiAgICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKGNocyk7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICAgICAgc2V0Q2hhcHRlcnMoYXJyIGFzIGFueSk7XG4gICAgICAgICAgICBjb25zdCB2YWxpZCA9IChhcnIgYXMgYW55W10pLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBzZXRIYXNDaGFwdGVyc0NhY2hlKHZhbGlkKTtcbiAgICAgICAgICAgIGlmICh2YWxpZCkgc2V0TG9hZGluZ0NoKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSHlkcmF0ZSB0YWJzIGFuZCBhY3RpdmUgdGFiXG4gICAgICAgIGNvbnN0IHQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGFic0NhY2hlS2V5KTtcbiAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHNldFRhYnMoYXJyIGFzIGFueSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oYWN0aXZlVGFiS2V5KTtcbiAgICAgICAgaWYgKGF0KSBzZXRBY3RpdmVJZChhdCk7XG4gICAgICAgIC8vIEh5ZHJhdGUgVUkgdG9nZ2xlc1xuICAgICAgICBjb25zdCBsYyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShsZWZ0Q29sbGFwc2VkS2V5KTtcbiAgICAgICAgaWYgKGxjICE9PSBudWxsKSBzZXRMZWZ0Q29sbGFwc2VkKGxjID09PSAnMScpO1xuICAgICAgICBjb25zdCBybyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShyaWdodE9wZW5LZXkpO1xuICAgICAgICBpZiAocm8gIT09IG51bGwpIHNldFJpZ2h0T3BlbihybyA9PT0gJzEnKTtcbiAgICAgICAgY29uc3QgbHcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obGVmdFdpZHRoS2V5KTtcbiAgICAgICAgaWYgKGx3KSB7XG4gICAgICAgICAgY29uc3QgbiA9IHBhcnNlSW50KGx3LCAxMCk7XG4gICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4obikpIHNldExlZnRXaWR0aChNYXRoLm1heCgyMDAsIE1hdGgubWluKDYwMCwgbikpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBydyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShyaWdodFdpZHRoS2V5KTtcbiAgICAgICAgaWYgKHJ3KSB7XG4gICAgICAgICAgY29uc3QgbiA9IHBhcnNlSW50KHJ3LCAxMCk7XG4gICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4obikpIHNldFJpZ2h0V2lkdGgoTWF0aC5tYXgoMjIwLCBNYXRoLm1pbig2MDAsIG4pKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjaGF0c0NhY2hlS2V5LCBjaGF0c0FjdGl2ZUtleSwgY2hhcHRlcnNDYWNoZUtleSwgdGFic0NhY2hlS2V5LCBhY3RpdmVUYWJLZXksIGxlZnRDb2xsYXBzZWRLZXksIHJpZ2h0T3BlbktleV0pO1xuXG4gIC8vIEhlbHBlcjogc29ydCBjaGFwdGVycyBieSBjcmVhdGVkQXQgYXNjIChmYWxsYmFjayBieSB0aXRsZSlcbiAgY29uc3Qgc29ydENoYXB0ZXJzID0gdXNlQ2FsbGJhY2soKGFycjogQ2hhcHRlckl0ZW1bXSkgPT4ge1xuICAgIHJldHVybiBbLi4uYXJyXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCB0YSA9IGEuY3JlYXRlZEF0ID8gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKSA6IDA7XG4gICAgICBjb25zdCB0YiA9IGIuY3JlYXRlZEF0ID8gbmV3IERhdGUoYi5jcmVhdGVkQXQpLmdldFRpbWUoKSA6IDA7XG4gICAgICBpZiAodGEgIT09IHRiKSByZXR1cm4gdGEgLSB0YjtcbiAgICAgIHJldHVybiAoYS50aXRsZSB8fCAnJykubG9jYWxlQ29tcGFyZShiLnRpdGxlIHx8ICcnKTtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIC8vIExvYWQgY2hhcHRlcnMgZm9yIHRyZWVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChoYXNDaGFwdGVyc0NhY2hlKSB7IHJldHVybjsgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZ0NoKHRydWUpO1xuICAgICAgICBjb25zdCB7IGl0ZW1zIH0gPSBhd2FpdCBhcGkubGlzdENoYXB0ZXJzUGFnaW5hdGVkKHByb2plY3RJZCwgMCwgMTAwKTtcbiAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG4gICAgICAgIHNldENoYXB0ZXJzKHNvcnRDaGFwdGVycyhpdGVtcyBhcyBDaGFwdGVySXRlbVtdKSk7XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldEVycm9yQ2goZT8ubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBsb2FkIGNoYXB0ZXJzXCIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldExvYWRpbmdDaChmYWxzZSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkID0gZmFsc2U7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgc29ydENoYXB0ZXJzLCBoYXNDaGFwdGVyc0NhY2hlXSk7XG5cbiAgLy8gUmVmbGVjdCBzZXR0aW5ncyB1cGRhdGVzIHRyaWdnZXJlZCBmcm9tIENoYXQgb3IgZWxzZXdoZXJlIGltbWVkaWF0ZWx5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25TZXR0aW5ncyA9IChlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGRldGFpbCA9IGU/LmRldGFpbCB8fCB7fTtcbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBkZXRhaWwuY2hhbmdlcyB8fCB7fTtcbiAgICAgIGlmIChjaGFuZ2VzLnRpdGxlICE9PSB1bmRlZmluZWQpIHNldFByb2plY3RUaXRsZShjaGFuZ2VzLnRpdGxlIHx8ICcnKTtcbiAgICAgIGlmIChjaGFuZ2VzLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQpIHNldFByb2plY3REZXNjcmlwdGlvbihjaGFuZ2VzLmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgIGlmIChjaGFuZ2VzLm1vZGUpIHNldFByb2pNb2RlKGNoYW5nZXMubW9kZSk7XG4gICAgICBpZiAoY2hhbmdlcy5nZW5yZSAhPT0gdW5kZWZpbmVkKSBzZXRQcm9qR2VucmUoY2hhbmdlcy5nZW5yZSB8fCAnJyk7XG4gICAgICBpZiAoY2hhbmdlcy5jb3JlQ29uZmxpY3QgIT09IHVuZGVmaW5lZCkgc2V0UHJvakNvcmVDb25mbGljdChjaGFuZ2VzLmNvcmVDb25mbGljdCB8fCAnJyk7XG4gICAgICBpZiAoY2hhbmdlcy5zZXR0aW5nc0pzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnkgeyBzZXRQcm9qU2V0dGluZ3NKc29uKHR5cGVvZiBjaGFuZ2VzLnNldHRpbmdzSnNvbiA9PT0gJ3N0cmluZycgPyBjaGFuZ2VzLnNldHRpbmdzSnNvbiA6IEpTT04uc3RyaW5naWZ5KGNoYW5nZXMuc2V0dGluZ3NKc29uKSk7IH0gY2F0Y2ggeyBzZXRQcm9qU2V0dGluZ3NKc29uKCcnKTsgfVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb25Nb2RlID0gKGU6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbSA9IGU/LmRldGFpbD8ubW9kZTtcbiAgICAgIGlmIChtID09PSAnbm92ZWwnIHx8IG0gPT09ICdtYW5od2EnKSBzZXRQcm9qTW9kZShtKTtcbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2plY3Q6c2V0dGluZ3MtdXBkYXRlZCcsIG9uU2V0dGluZ3MgYXMgYW55KTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwcm9qZWN0Om1vZGUtdXBkYXRlZCcsIG9uTW9kZSBhcyBhbnkpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9qZWN0OnNldHRpbmdzLXVwZGF0ZWQnLCBvblNldHRpbmdzIGFzIGFueSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9qZWN0Om1vZGUtdXBkYXRlZCcsIG9uTW9kZSBhcyBhbnkpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBMaXN0ZW4gZm9yIGNoYXQgYWN0aW9ucyB0byBjcmVhdGUvb3BlbiBjaGFwdGVycyBpbiBlZGl0b3JcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVyID0gYXN5bmMgKGU6IGFueSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGV0YWlsID0gZT8uZGV0YWlsIHx8IHt9O1xuICAgICAgICBjb25zdCB0ID0gU3RyaW5nKGRldGFpbC50aXRsZSB8fCAnVW50aXRsZWQgQ2hhcHRlcicpO1xuICAgICAgICBjb25zdCBjID0gZGV0YWlsLmNvbnRlbnQgIT09IHVuZGVmaW5lZCA/IFN0cmluZyhkZXRhaWwuY29udGVudCkgOiAnJztcbiAgICAgICAgY29uc3QgcGFuZWxfc2NyaXB0ID0gZGV0YWlsLnBhbmVsX3NjcmlwdCA/PyB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5jcmVhdGVDaGFwdGVyKHByb2plY3RJZCwgcGFuZWxfc2NyaXB0ID8geyB0aXRsZTogdCwgcGFuZWxfc2NyaXB0IH0gOiB7IHRpdGxlOiB0LCBjb250ZW50OiBjIH0pO1xuICAgICAgICBjb25zdCBuZXdJZCA9IChyZXMgYXMgYW55KS5pZCBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IChyZXMgYXMgYW55KS5jcmVhdGVkQXQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICBzZXRDaGFwdGVycygocHJldikgPT4gc29ydENoYXB0ZXJzKFsuLi5wcmV2LCB7IGlkOiBuZXdJZCwgdGl0bGU6IChyZXMgYXMgYW55KS50aXRsZSwgY29udGVudDogcGFuZWxfc2NyaXB0ID8gJycgOiBjLCBjcmVhdGVkQXQgfV0pKTtcbiAgICAgICAgc2V0VGFicygocHJldikgPT4gKHByZXYuaW5jbHVkZXMobmV3SWQpID8gcHJldiA6IFsuLi5wcmV2LCBuZXdJZF0pKTtcbiAgICAgICAgc2V0QWN0aXZlSWQobmV3SWQpO1xuICAgICAgICBzZXRUaXRsZSgocmVzIGFzIGFueSkudGl0bGUpO1xuICAgICAgICBzZXRDb250ZW50KHBhbmVsX3NjcmlwdCA/ICcnIDogYyk7XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6Y3JlYXRlLWRyYWZ0JywgaGFuZGxlciBhcyBhbnkpO1xuICAgIHJldHVybiAoKSA9PiB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dvcmtzcGFjZTpjcmVhdGUtZHJhZnQnLCBoYW5kbGVyIGFzIGFueSk7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgc29ydENoYXB0ZXJzXSk7XG5cbiAgLy8gTGlzdGVuIGZvciBjaGF0LWRyaXZlbiBjaGFwdGVyIHVwZGF0ZXMgKHJld3JpdGUpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlciA9IGFzeW5jIChlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGRldGFpbCA9IGU/LmRldGFpbCB8fCB7fTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBTdHJpbmcoZGV0YWlsLmNvbnRlbnQgfHwgJycpO1xuICAgICAgbGV0IHRhcmdldElkOiBzdHJpbmcgfCBudWxsID0gZGV0YWlsLmlkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkKSB7XG4gICAgICAgIC8vIFJlc29sdmUgYnkgY2hhcHRlcl9udW1iZXIgKDEtYmFzZWQpIGFnYWluc3Qgc29ydGVkIG9yZGVyXG4gICAgICAgIGlmIChkZXRhaWwuY2hhcHRlcl9udW1iZXIgJiYgTnVtYmVyLmlzSW50ZWdlcihkZXRhaWwuY2hhcHRlcl9udW1iZXIpKSB7XG4gICAgICAgICAgY29uc3Qgc29ydGVkID0gc29ydENoYXB0ZXJzKGNoYXB0ZXJzKTtcbiAgICAgICAgICBjb25zdCBpZHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzb3J0ZWQubGVuZ3RoIC0gMSwgZGV0YWlsLmNoYXB0ZXJfbnVtYmVyIC0gMSkpO1xuICAgICAgICAgIHRhcmdldElkID0gc29ydGVkW2lkeF0/LmlkIHx8IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZGV0YWlsLnRpdGxlKSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBjaGFwdGVycy5maW5kKChjKSA9PiAoYy50aXRsZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gU3RyaW5nKGRldGFpbC50aXRsZSkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgdGFyZ2V0SWQgPSBtYXRjaD8uaWQgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF0YXJnZXRJZCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGFwaS51cGRhdGVDaGFwdGVyKHByb2plY3RJZCwgdGFyZ2V0SWQsIHsgY29udGVudCB9KTtcbiAgICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHByZXYubWFwKChjKSA9PiBjLmlkID09PSB0YXJnZXRJZCA/IHsgLi4uYywgY29udGVudCB9IDogYykpO1xuICAgICAgICAvLyBPcGVuIG9yIHJlZnJlc2ggYWN0aXZlIHRhYlxuICAgICAgICBpZiAoIXRhYnMuaW5jbHVkZXModGFyZ2V0SWQpKSBzZXRUYWJzKChwcmV2KSA9PiBbLi4ucHJldiwgdGFyZ2V0SWQhXSk7XG4gICAgICAgIHNldEFjdGl2ZUlkKHRhcmdldElkKTtcbiAgICAgICAgaWYgKGFjdGl2ZUlkID09PSB0YXJnZXRJZCkgc2V0Q29udGVudChjb250ZW50KTtcbiAgICAgIH0gY2F0Y2gge31cbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3dvcmtzcGFjZTp1cGRhdGUtY2hhcHRlcicsIGhhbmRsZXIgYXMgYW55KTtcbiAgICByZXR1cm4gKCkgPT4geyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6dXBkYXRlLWNoYXB0ZXInLCBoYW5kbGVyIGFzIGFueSk7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgY2hhcHRlcnMsIHRhYnMsIGFjdGl2ZUlkLCBzb3J0Q2hhcHRlcnNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcCA9IGF3YWl0IGFwaS5nZXRQcm9qZWN0KHByb2plY3RJZCk7XG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBzZXRQcm9qZWN0VGl0bGUocD8udGl0bGUgfHwgXCJcIik7XG4gICAgICAgIHNldFByb2plY3REZXNjcmlwdGlvbihwPy5kZXNjcmlwdGlvbiB8fCBcIlwiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAocD8ubW9kZSAmJiAocC5tb2RlID09PSAnbm92ZWwnIHx8IHAubW9kZSA9PT0gJ21hbmh3YScpKSBzZXRQcm9qTW9kZShwLm1vZGUpO1xuICAgICAgICAgIGlmICh0eXBlb2YgcD8uZ2VucmUgPT09ICdzdHJpbmcnKSBzZXRQcm9qR2VucmUocC5nZW5yZSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwPy5jb3JlQ29uZmxpY3QgPT09ICdzdHJpbmcnKSBzZXRQcm9qQ29yZUNvbmZsaWN0KHAuY29yZUNvbmZsaWN0KTtcbiAgICAgICAgICBpZiAocD8uc2V0dGluZ3NKc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNldFByb2pTZXR0aW5nc0pzb24odHlwZW9mIHAuc2V0dGluZ3NKc29uID09PSAnc3RyaW5nJyA/IHAuc2V0dGluZ3NKc29uIDogSlNPTi5zdHJpbmdpZnkocC5zZXR0aW5nc0pzb24pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH0gY2F0Y2gge31cbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7IG1vdW50ZWQgPSBmYWxzZTsgfTtcbiAgfSwgW2FwaSwgcHJvamVjdElkXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBQcm9qZWN0IFNldHRpbmdzIGZvcm0gZmllbGRzIHdoZW4gdGhlIHRhYiBvcGVucyBvciBwcm9qZWN0IGZpZWxkcyBoeWRyYXRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZUlkID09PSBTRVRUSU5HU19UQUJfSUQpIHtcbiAgICAgIGlmICghcmVuYW1lVGl0bGUgJiYgcHJvamVjdFRpdGxlKSBzZXRSZW5hbWVUaXRsZShwcm9qZWN0VGl0bGUpO1xuICAgICAgaWYgKCFyZW5hbWVEZXNjICYmIChwcm9qZWN0RGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkpIHNldFJlbmFtZURlc2MocHJvamVjdERlc2NyaXB0aW9uKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbYWN0aXZlSWQsIHByb2plY3RUaXRsZSwgcHJvamVjdERlc2NyaXB0aW9uXSk7XG5cbiAgLy8gTG9hZCBjaGF0cyAoaHlkcmF0ZSBmcm9tIGNhY2hlIGZpcnN0LCB0aGVuIHJldmFsaWRhdGUpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoaGFzQ2hhdHNDYWNoZSkgeyByZXR1cm47IH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHhzID0gYXdhaXQgYXBpLmxpc3RDaGF0cyhwcm9qZWN0SWQpO1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV4dCA9IHhzIHx8IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChoYXNDaGF0c0NhY2hlICYmIEpTT04uc3RyaW5naWZ5KG5leHQpID09PSBKU09OLnN0cmluZ2lmeShjaGF0c1JlZi5jdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICBzZXRDaGF0cyhuZXh0KTtcbiAgICAgICAgaWYgKCFhY3RpdmVDaGF0SWQpIHtcbiAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCkgc2V0QWN0aXZlQ2hhdElkKG5leHRbMF0uaWQpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGF0IGxlYXN0IG9uZSBwbG90IGNoYXQgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXQocHJvamVjdElkLCB7IHR5cGU6ICdwbG90JyB9KTtcbiAgICAgICAgICAgIHNldENoYXRzKFtjcmVhdGVkXSk7XG4gICAgICAgICAgICBzZXRBY3RpdmVDaGF0SWQoY3JlYXRlZC5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkID0gZmFsc2U7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgaGFzQ2hhdHNDYWNoZSwgYWN0aXZlQ2hhdElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgY2hhdHNSZWYuY3VycmVudCA9IGNoYXRzOyB9LCBbY2hhdHNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShjaGF0c0NhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShjaGF0cykpOyB9IGNhdGNoIHt9XG4gICAgc2V0SGFzQ2hhdHNDYWNoZShBcnJheS5pc0FycmF5KGNoYXRzKSAmJiBjaGF0cy5sZW5ndGggPiAwKTtcbiAgfSwgW2NoYXRzLCBjaGF0c0NhY2hlS2V5XSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHsgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIGFjdGl2ZUNoYXRJZCkgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGNoYXRzQWN0aXZlS2V5LCBhY3RpdmVDaGF0SWQpOyB9IGNhdGNoIHt9XG4gIH0sIFthY3RpdmVDaGF0SWQsIGNoYXRzQWN0aXZlS2V5XSk7XG4gIC8vIFBlcnNpc3QgY2hhcHRlcnMgY2FjaGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShjaGFwdGVyc0NhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShjaGFwdGVycykpOyB9IGNhdGNoIHt9XG4gICAgc2V0SGFzQ2hhcHRlcnNDYWNoZShBcnJheS5pc0FycmF5KGNoYXB0ZXJzKSAmJiBjaGFwdGVycy5sZW5ndGggPiAwKTtcbiAgfSwgW2NoYXB0ZXJzLCBjaGFwdGVyc0NhY2hlS2V5XSk7XG4gIC8vIFBlcnNpc3QgdGFicyBhbmQgYWN0aXZlIHRhYlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRhYnNDYWNoZUtleSwgSlNPTi5zdHJpbmdpZnkodGFicykpOyB9IGNhdGNoIHt9XG4gIH0sIFt0YWJzLCB0YWJzQ2FjaGVLZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgYWN0aXZlSWQpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShhY3RpdmVUYWJLZXksIGFjdGl2ZUlkKTsgfSBjYXRjaCB7fVxuICB9LCBbYWN0aXZlSWQsIGFjdGl2ZVRhYktleV0pO1xuICAvLyBQZXJzaXN0IFVJIHRvZ2dsZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsZWZ0Q29sbGFwc2VkS2V5LCBsZWZ0Q29sbGFwc2VkID8gJzEnIDogJzAnKTsgfSBjYXRjaCB7fVxuICB9LCBbbGVmdENvbGxhcHNlZCwgbGVmdENvbGxhcHNlZEtleV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHJpZ2h0T3BlbktleSwgcmlnaHRPcGVuID8gJzEnIDogJzAnKTsgfSBjYXRjaCB7fVxuICB9LCBbcmlnaHRPcGVuLCByaWdodE9wZW5LZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsZWZ0V2lkdGhLZXksIFN0cmluZyhsZWZ0V2lkdGgpKTsgfSBjYXRjaCB7fVxuICB9LCBbbGVmdFdpZHRoLCBsZWZ0V2lkdGhLZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShyaWdodFdpZHRoS2V5LCBTdHJpbmcocmlnaHRXaWR0aCkpOyB9IGNhdGNoIHt9XG4gIH0sIFtyaWdodFdpZHRoLCByaWdodFdpZHRoS2V5XSk7XG5cbiAgY29uc3Qgb3BlblRhYiA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0VGFicygocHJldikgPT4gKHByZXYuaW5jbHVkZXMoaWQpID8gcHJldiA6IFsuLi5wcmV2LCBpZF0pKTtcbiAgICBzZXRBY3RpdmVJZChpZCk7XG4gICAgY29uc3QgY2ggPSBjaGFwdGVycy5maW5kKChjKSA9PiBjLmlkID09PSBpZCk7XG4gICAgc2V0VGl0bGUoY2g/LnRpdGxlIHx8IFwiXCIpO1xuICAgIHNldENvbnRlbnQoKGNoPy5jb250ZW50IHx8IFwiXCIpIGFzIHN0cmluZyk7XG4gIH0sIFtjaGFwdGVyc10pO1xuXG4gIGNvbnN0IGNsb3NlVGFiID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRUYWJzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigodCkgPT4gdCAhPT0gaWQpKTtcbiAgICBzZXRBY3RpdmVJZCgoY3VycikgPT4ge1xuICAgICAgaWYgKGN1cnIgIT09IGlkKSByZXR1cm4gY3VycjtcbiAgICAgIGNvbnN0IGlkeCA9IHRhYnMuaW5kZXhPZihpZCk7XG4gICAgICBjb25zdCBuZXh0ID0gdGFic1tpZHggKyAxXSB8fCB0YWJzW2lkeCAtIDFdIHx8IG51bGw7XG4gICAgICByZXR1cm4gbmV4dCB8fCBudWxsO1xuICAgIH0pO1xuICB9LCBbdGFic10pO1xuXG4gIC8vIEh5ZHJhdGUgZWRpdG9yIGZpZWxkcyB3aGVuIGFjdGl2ZUlkIGFuZCBjaGFwdGVycyBhcmUgcmVzdG9yZWQgZnJvbSBjYWNoZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlSWQpIHJldHVybjtcbiAgICBpZiAoYWN0aXZlSWQgPT09IFNFVFRJTkdTX1RBQl9JRCB8fCBhY3RpdmVJZCA9PT0gQ0hBUkFDVEVSU19UQUJfSUQgfHwgYWN0aXZlSWQgPT09IFdPUkxEX1RBQl9JRCkgcmV0dXJuO1xuICAgIGNvbnN0IGNoID0gY2hhcHRlcnMuZmluZCgoYykgPT4gYy5pZCA9PT0gYWN0aXZlSWQpO1xuICAgIGlmICghY2gpIHJldHVybjtcbiAgICBzZXRUaXRsZShjaC50aXRsZSB8fCBcIlwiKTtcbiAgICBzZXRDb250ZW50KChjaC5jb250ZW50IHx8IFwiXCIpIGFzIHN0cmluZyk7XG4gIH0sIFthY3RpdmVJZCwgY2hhcHRlcnNdKTtcblxuICBjb25zdCBvbkRyYWdTdGFydCA9IChlOiBSZWFjdC5EcmFnRXZlbnQ8SFRNTERpdkVsZW1lbnQ+LCBpZDogc3RyaW5nKSA9PiB7XG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvdGFiXCIsIGlkKTtcbiAgfTtcbiAgY29uc3Qgb25Ecm9wID0gKGU6IFJlYWN0LkRyYWdFdmVudDxIVE1MRGl2RWxlbWVudD4sIHRhcmdldElkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBzcmNJZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L3RhYlwiKTtcbiAgICBpZiAoIXNyY0lkIHx8IHNyY0lkID09PSB0YXJnZXRJZCkgcmV0dXJuO1xuICAgIHNldFRhYnMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IGFyciA9IFsuLi5wcmV2XTtcbiAgICAgIGNvbnN0IHNpID0gYXJyLmluZGV4T2Yoc3JjSWQpO1xuICAgICAgY29uc3QgdGkgPSBhcnIuaW5kZXhPZih0YXJnZXRJZCk7XG4gICAgICBpZiAoc2kgPCAwIHx8IHRpIDwgMCkgcmV0dXJuIHByZXY7XG4gICAgICBhcnIuc3BsaWNlKHRpLCAwLCBhcnIuc3BsaWNlKHNpLCAxKVswXSk7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0TGVmdFJlc2l6ZSA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7XG4gICAgY29uc3Qgc3RhcnRXID0gbGVmdFdpZHRoO1xuICAgIGNvbnN0IG9uTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgZHggPSBldi5jbGllbnRYIC0gc3RhcnRYO1xuICAgICAgY29uc3QgbmV4dCA9IE1hdGgubWF4KDIwMCwgTWF0aC5taW4oNjAwLCBzdGFydFcgKyBkeCkpO1xuICAgICAgc2V0TGVmdFdpZHRoKG5leHQpO1xuICAgIH07XG4gICAgY29uc3Qgb25VcCA9ICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25VcCk7XG4gIH0sIFtsZWZ0V2lkdGhdKTtcblxuICBjb25zdCBzdGFydFJpZ2h0UmVzaXplID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHN0YXJ0WCA9IGUuY2xpZW50WDtcbiAgICBjb25zdCBzdGFydFcgPSByaWdodFdpZHRoO1xuICAgIGNvbnN0IG9uTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgZHggPSBldi5jbGllbnRYIC0gc3RhcnRYO1xuICAgICAgY29uc3QgbmV4dCA9IE1hdGgubWF4KDIyMCwgTWF0aC5taW4oNjAwLCBzdGFydFcgLSBkeCkpO1xuICAgICAgc2V0UmlnaHRXaWR0aChuZXh0KTtcbiAgICB9O1xuICAgIGNvbnN0IG9uVXAgPSAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25VcCk7XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uVXApO1xuICB9LCBbcmlnaHRXaWR0aF0pO1xuXG4gIC8vIFBlcnNpc3QgZWRpdHMgKGRlYm91bmNlZClcbiAgY29uc3Qgc2NoZWR1bGVTYXZlID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcsIHQ6IHN0cmluZywgYzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFpZCkgcmV0dXJuO1xuICAgIGlmIChzYXZlVGltZXIuY3VycmVudCkgY2xlYXJUaW1lb3V0KHNhdmVUaW1lci5jdXJyZW50KTtcbiAgICBzYXZlVGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZUNoYXB0ZXIocHJvamVjdElkLCBpZCwgeyB0aXRsZTogdCwgY29udGVudDogYyB9KTtcbiAgICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHByZXYubWFwKChjaCkgPT4gY2guaWQgPT09IGlkID8geyAuLi5jaCwgdGl0bGU6IHQsIGNvbnRlbnQ6IGMgfSA6IGNoKSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG4gIH0sIFthcGksIHByb2plY3RJZF0pO1xuXG4gIC8vIEFjdGl2ZSBjaGFuZ2UgaGFuZGxlcnNcbiAgY29uc3Qgb25UaXRsZUNoYW5nZSA9ICh2OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWFjdGl2ZUlkKSByZXR1cm47XG4gICAgc2V0VGl0bGUodik7XG4gICAgc2NoZWR1bGVTYXZlKGFjdGl2ZUlkLCB2LCBjb250ZW50KTtcbiAgfTtcbiAgY29uc3Qgb25Db250ZW50Q2hhbmdlID0gKHY6IHN0cmluZykgPT4ge1xuICAgIGlmICghYWN0aXZlSWQpIHJldHVybjtcbiAgICBzZXRDb250ZW50KHYpO1xuICAgIHNjaGVkdWxlU2F2ZShhY3RpdmVJZCwgdGl0bGUsIHYpO1xuICB9O1xuXG4gIGNvbnN0IG9uTmV3Q2hhcHRlciA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXB0ZXIocHJvamVjdElkLCB7IHRpdGxlOiBcIlVudGl0bGVkIENoYXB0ZXJcIiB9KTtcbiAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IChyZXMgYXMgYW55KS5jcmVhdGVkQXQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHNvcnRDaGFwdGVycyhbLi4ucHJldiwgeyBpZDogKHJlcyBhcyBhbnkpLmlkLCB0aXRsZTogKHJlcyBhcyBhbnkpLnRpdGxlLCBjb250ZW50OiBcIlwiLCBjcmVhdGVkQXQgfV0pKTtcbiAgICAgIG9wZW5UYWIoKHJlcyBhcyBhbnkpLmlkKTtcbiAgICB9IGNhdGNoIHt9XG4gIH07XG5cbiAgY29uc3Qgb25EZWxldGVDaGFwdGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgICBpZiAoIWNvbmZpcm0oJ0RlbGV0ZSB0aGlzIGNoYXB0ZXIgcGVybWFuZW50bHk/JykpIHJldHVybjtcbiAgICAgIHNldERlbGV0aW5nSWQoaWQpO1xuICAgICAgYXdhaXQgYXBpLmRlbGV0ZUNoYXB0ZXIocHJvamVjdElkLCBpZCk7XG4gICAgICBzZXRDaGFwdGVycygocHJldikgPT4gcHJldi5maWx0ZXIoKGMpID0+IGMuaWQgIT09IGlkKSk7XG4gICAgICBzZXRUYWJzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigodCkgPT4gdCAhPT0gaWQpKTtcbiAgICAgIHNldEFjdGl2ZUlkKChjdXJyKSA9PiAoY3VyciA9PT0gaWQgPyBudWxsIDogY3VycikpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnN0IG1zZyA9IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6ICdGYWlsZWQgdG8gZGVsZXRlJztcbiAgICAgIHNldEVycm9yQ2gobXNnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0RGVsZXRpbmdJZChudWxsKTtcbiAgICB9XG4gIH0sIFthcGksIHByb2plY3RJZF0pO1xuXG4gIGNvbnN0IGFjdGl2ZUNoYXB0ZXIgPSBjaGFwdGVycy5maW5kKChjKSA9PiBjLmlkID09PSBhY3RpdmVJZCkgfHwgbnVsbDtcblxuICBjb25zdCBncmlkQ29scyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGNvbHM6IHN0cmluZ1tdID0gW107XG4gICAgaWYgKCFsZWZ0Q29sbGFwc2VkKSB7IGNvbHMucHVzaChgJHtsZWZ0V2lkdGh9cHhgKTsgY29scy5wdXNoKCc0cHgnKTsgfVxuICAgIGNvbHMucHVzaCgnMWZyJyk7XG4gICAgaWYgKHJpZ2h0T3BlbikgeyBjb2xzLnB1c2goJzRweCcpOyBjb2xzLnB1c2goYCR7cmlnaHRXaWR0aH1weGApOyB9XG4gICAgcmV0dXJuIGNvbHMuam9pbignICcpO1xuICB9LCBbbGVmdENvbGxhcHNlZCwgcmlnaHRPcGVuLCBsZWZ0V2lkdGgsIHJpZ2h0V2lkdGhdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1zY3JlZW4gdy1zY3JlZW4gYmctYmctcHJpbWFyeSB0ZXh0LXRleHQtcHJpbWFyeSBncmlkIGdyaWQtcm93cy1bYXV0b18xZnJdIHJlbGF0aXZlXCI+XG4gICAgICB7LyogVG9wIFRhYnMgQmFyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEyIGJvcmRlci1iIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1wcmltYXJ5IGZsZXggaXRlbXMtY2VudGVyIHJlbGF0aXZlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTAgZmxleCBpdGVtcy1zdHJldGNoIGdhcC0xIHB4LTIgb3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAge3RhYnMubWFwKChpZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2ggPSBjaGFwdGVycy5maW5kKChjKSA9PiBjLmlkID09PSBpZCk7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmUgPSBpZCA9PT0gYWN0aXZlSWQ7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGlkID09PSBTRVRUSU5HU19UQUJfSUQgPyAnU2V0dGluZ3MnIDogKGlkID09PSBDSEFSQUNURVJTX1RBQl9JRCA/ICdDaGFyYWN0ZXJzJyA6IChjaD8udGl0bGUgfHwgJ1VudGl0bGVkJykpO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17aWR9XG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiBvbkRyYWdTdGFydChlLCBpZCl9XG4gICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICAgICAgICBvbkRyb3A9eyhlKSA9PiBvbkRyb3AoZSwgaWQpfVxuICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4geyBpZiAoZS5idXR0b24gPT09IDEpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBjbG9zZVRhYihpZCk7IH0gfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bncm91cCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IGgtMTAgcm91bmRlZC10LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCAke2FjdGl2ZSA/ICdiZy1iZy1lbGV2YXRlZCB0ZXh0LXRleHQtcHJpbWFyeScgOiAndGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXInfWB9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlSWQoaWQpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0cnVuY2F0ZSBtYXgtdy1bMTYwcHhdXCI+e2xhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIm9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCBob3Zlcjp0ZXh0LXJlZC00MDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTE1MFwiIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGNsb3NlVGFiKGlkKTsgfX0+w5c8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXRleHQtcHJpbWFyeSB0cnVuY2F0ZSBtYXgtdy1bNjAlXSB0cmFja2luZy1lbGVnYW50XCI+e3Byb2plY3RUaXRsZSB8fCAnUHJvamVjdCd9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTIgdG9wLTEgei0xMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMyBweS0xLjUgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLWVsZXZhdGVkIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC1hY2NlbnQgaG92ZXI6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2V0dGluZ3NNZW51T3BlbigodikgPT4gIXYpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5TZXR0aW5nczwvc3Bhbj5cbiAgICAgICAgICAgIDxJY29uU2V0dGluZ3MgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAge3NldHRpbmdzTWVudU9wZW4gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0wIHRvcC0xMCB6LTIwIHctNDggcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLWVsZXZhdGVkIHNoYWRvdy1lbGV2YXRpb25cIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yIHRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlciBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFNldHRpbmdzTWVudU9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgLy8gT3BlbiBzZXR0aW5ncyBhcyBhIGNlbnRyYWwgdGFiXG4gICAgICAgICAgICAgICAgICBpZiAoIXRhYnMuaW5jbHVkZXMoU0VUVElOR1NfVEFCX0lEKSkgc2V0VGFicygocHJldikgPT4gWy4uLnByZXYsIFNFVFRJTkdTX1RBQl9JRF0pO1xuICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlSWQoU0VUVElOR1NfVEFCX0lEKTtcbiAgICAgICAgICAgICAgICAgIHNldFJlbmFtZVRpdGxlKHByb2plY3RUaXRsZSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICBzZXRSZW5hbWVEZXNjKHByb2plY3REZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICBzZXRSZW5hbWVFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+UHJvamVjdCBTZXR0aW5nczwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyIGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2V0dGluZ3NNZW51T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIXRhYnMuaW5jbHVkZXMoV09STERfVEFCX0lEKSkgc2V0VGFicygocHJldikgPT4gWy4uLnByZXYsIFdPUkxEX1RBQl9JRF0pO1xuICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlSWQoV09STERfVEFCX0lEKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+V29ybGQgU2V0dGluZ3M8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yIHRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlciBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFNldHRpbmdzTWVudU9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgaWYgKCF0YWJzLmluY2x1ZGVzKENIQVJBQ1RFUlNfVEFCX0lEKSkgc2V0VGFicygocHJldikgPT4gWy4uLnByZXYsIENIQVJBQ1RFUlNfVEFCX0lEXSk7XG4gICAgICAgICAgICAgICAgICBzZXRBY3RpdmVJZChDSEFSQUNURVJTX1RBQl9JRCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPkNoYXJhY3RlcnM8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtsZWZ0Q29sbGFwc2VkICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMiB0b3AtMTQgei0xMCB0ZXh0LXhzIHB4LTMgcHktMiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctZWxldmF0ZWQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LWFjY2VudCBob3Zlcjpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBzaGFkb3ctZWxldmF0aW9uXCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRMZWZ0Q29sbGFwc2VkKGZhbHNlKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgPHNwYW4+Q2hhcHRlcnM8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cblxuICAgICAgey8qIExheW91dDogTGVmdCBzaWRlYmFyICsgTWFpbiBlZGl0b3IgKyBSaWdodCBzaWRlYmFyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIG1pbi1oLTBcIiBzdHlsZT17eyBncmlkVGVtcGxhdGVDb2x1bW5zOiBncmlkQ29scyB9fT5cbiAgICAgICAgeyFsZWZ0Q29sbGFwc2VkICYmIChcbiAgICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cImJnLWJnLXByaW1hcnkgbWluLWgtMCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC01IHB5LTQgdGV4dC14cyBmb250LXNlbWlib2xkIHRyYWNraW5nLVswLjA1ZW1dIHVwcGVyY2FzZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC10ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgPHNwYW4+Q0hBUFRFUlM8L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LWFjY2VudCByb3VuZGVkIHAtMSBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIiBvbkNsaWNrPXsoKSA9PiBzZXRMZWZ0Q29sbGFwc2VkKHRydWUpfT5cbiAgICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+Q29sbGFwc2U8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcHgtNFwiPlxuICAgICAgICAgICAge2xvYWRpbmdDaCAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXNlY29uZGFyeSBweC0yIHB5LTJcIj5Mb2FkaW5n4oCmPC9kaXY+fVxuICAgICAgICAgICAge2Vycm9yQ2ggJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTQwMCBweC0yIHB5LTIgYmctcmVkLTk1MC8yMCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMFwiPntlcnJvckNofTwvZGl2Pn1cbiAgICAgICAgICAgIHtjaGFwdGVycy5tYXAoKGMsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB3b3JkQ291bnQgPSBjLmNvbnRlbnQgPyBjLmNvbnRlbnQudHJpbSgpLnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtjLmlkfSBjbGFzc05hbWU9e2Bncm91cCB3LWZ1bGwgZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcHgtMyBweS0zIHJvdW5kZWQtbGcgbWItMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgJHthY3RpdmVJZCA9PT0gYy5pZCA/ICdiZy1iZy1lbGV2YXRlZCBib3JkZXItbC0zIGJvcmRlci1hY2NlbnQnIDogJ2hvdmVyOmJnLWJnLWhvdmVyJ31gfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9wZW5UYWIoYy5pZCl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0ZXh0LXRleHQtdGVydGlhcnkgbWItMVwiPkNoYXB0ZXIge2lkeCArIDF9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1tZWRpdW0gbWItMSAke2FjdGl2ZUlkID09PSBjLmlkID8gJ3RleHQtdGV4dC1wcmltYXJ5JyA6ICd0ZXh0LXRleHQtc2Vjb25kYXJ5J31gfT57Yy50aXRsZSB8fCAnVW50aXRsZWQnfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPnt3b3JkQ291bnR9IHdvcmRzPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0xNTAgJHtkZWxldGluZ0lkID09PSBjLmlkID8gJ3RleHQtcmVkLTQwMCBvcGFjaXR5LTYwIGN1cnNvci1ub3QtYWxsb3dlZCcgOiAndGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtcmVkLTQwMCd9YH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGlmIChkZWxldGluZ0lkKSByZXR1cm47IHZvaWQgb25EZWxldGVDaGFwdGVyKGMuaWQpOyB9fVxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUgY2hhcHRlclwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGVsZXRpbmdJZCA9PT0gYy5pZH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7ZGVsZXRpbmdJZCA9PT0gYy5pZCA/IDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgYW5pbWF0ZS1zcGluXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz4gOiA8VHJhc2gyIGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPn1cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5EZWxldGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTt9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItYm9yZGVyLWRlZmF1bHRcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQtbGcgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBob3Zlcjpib3JkZXItYWNjZW50IGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBweC00IHB5LTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIGhvdmVyOi10cmFuc2xhdGUteS0wLjVcIiBvbkNsaWNrPXtvbk5ld0NoYXB0ZXJ9PlxuICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4+TmV3IENoYXB0ZXI8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgKX1cbiAgICAgICAgeyFsZWZ0Q29sbGFwc2VkICYmIChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICByb2xlPVwic2VwYXJhdG9yXCJcbiAgICAgICAgICAgIGFyaWEtb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICBvbk1vdXNlRG93bj17c3RhcnRMZWZ0UmVzaXplfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3Vyc29yLWNvbC1yZXNpemUgdy0xIGJnLXRyYW5zcGFyZW50IGhvdmVyOmJnLWJnLWhvdmVyXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHVzZXJTZWxlY3Q6ICdub25lJyB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIENlbnRlcjogRWRpdG9yICovfVxuICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJtaW4taC0wIG92ZXJmbG93LWhpZGRlbiBiZy1iZy1wcmltYXJ5IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICB7YWN0aXZlSWQgPT09IFNFVFRJTkdTX1RBQl9JRCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGdyaWQgZ3JpZC1yb3dzLVthdXRvXzFmcl9hdXRvXSBiZy1iZy1lbGV2YXRlZFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ib3JkZXItZGVmYXVsdCBweC02IHB5LTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5IHRyYWNraW5nLWVsZWdhbnRcIj5Qcm9qZWN0IFNldHRpbmdzPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLTAgb3ZlcmZsb3cteS1hdXRvIHB4LTYgcHktNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNCBtYXgtdy0yeGxcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5UaXRsZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JlbmFtZVRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVuYW1lVGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+RGVzY3JpcHRpb248L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZW5hbWVEZXNjfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVuYW1lRGVzYyhlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LXRlcnRpYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+TW9kZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9qTW9kZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByb2pNb2RlKGUudGFyZ2V0LnZhbHVlIGFzIGFueSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN04oCmPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5vdmVsXCI+Tm92ZWw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWFuaHdhXCI+TWFuaHdhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5HZW5yZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb2pHZW5yZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByb2pHZW5yZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIHsvKiBXb3JsZCBOYW1lIHJlbW92ZWQgKi99XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+Q29yZSBDb25mbGljdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb2pDb3JlQ29uZmxpY3R9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9qQ29yZUNvbmZsaWN0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LXRlcnRpYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlNldHRpbmdzIEpTT048L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9qU2V0dGluZ3NKc29ufVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJvalNldHRpbmdzSnNvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgcm93cz17MTB9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTAgZm9udC1tb25vIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIHtyZW5hbWVFcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNDAwIHAtMyByb3VuZGVkLWxnIGJnLXJlZC05NTAvMjAgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzIwXCI+e3JlbmFtZUVycm9yfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xNCBweC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zIGJvcmRlci10IGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1wcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVJZChudWxsKX0gY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiPkNsb3NlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ1JlbmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2F2aW5nUmVuYW1lKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRSZW5hbWVFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVCb2R5OiBhbnkgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gcmVuYW1lVGl0bGUudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIHQgIT09IHByb2plY3RUaXRsZSkgdXBkYXRlQm9keS50aXRsZSA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbmFtZURlc2MgIT09IHByb2plY3REZXNjcmlwdGlvbikgdXBkYXRlQm9keS5kZXNjcmlwdGlvbiA9IHJlbmFtZURlc2M7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHVwZGF0ZUJvZHkpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBhcGkudXBkYXRlUHJvamVjdChwcm9qZWN0SWQsIHVwZGF0ZUJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvamVjdFRpdGxlKHVwZGF0ZWQ/LnRpdGxlIHx8IHQgfHwgcHJvamVjdFRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb2plY3REZXNjcmlwdGlvbih1cGRhdGVkPy5kZXNjcmlwdGlvbiA/PyByZW5hbWVEZXNjID8/IHByb2plY3REZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXM6IGFueSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qTW9kZSkgY2hhbmdlcy5tb2RlID0gcHJvak1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pHZW5yZSkgY2hhbmdlcy5nZW5yZSA9IHByb2pHZW5yZTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvakNvcmVDb25mbGljdCkgY2hhbmdlcy5jb3JlQ29uZmxpY3QgPSBwcm9qQ29yZUNvbmZsaWN0O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qU2V0dGluZ3NKc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyBjaGFuZ2VzLnNldHRpbmdzSnNvbiA9IEpTT04ucGFyc2UocHJvalNldHRpbmdzSnNvbik7IH0gY2F0Y2ggeyBjaGFuZ2VzLnNldHRpbmdzSnNvbiA9IHByb2pTZXR0aW5nc0pzb247IH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoYW5nZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFwaS51cGRhdGVQcm9qZWN0U2V0dGluZ3MocHJvamVjdElkLCBjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Byb2plY3Q6c2V0dGluZ3MtdXBkYXRlZCcsIHsgZGV0YWlsOiB7IHByb2plY3RJZCwgY2hhbmdlcyB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvYXN0OiBTZXR0aW5ncyBzYXZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvYXN0VGltZXIuY3VycmVudCkgY2xlYXJUaW1lb3V0KHRvYXN0VGltZXIuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdE1zZygnU2V0dGluZ3Mgc2F2ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0VGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4gc2V0VG9hc3RNc2coJycpLCAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFJlbmFtZUVycm9yKGU/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzYXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2F2aW5nUmVuYW1lKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLW1kIGJnLWFjY2VudCBob3ZlcjpiZy1hY2NlbnQtaG92ZXIgZGlzYWJsZWQ6b3BhY2l0eS01MCB0ZXh0LXdoaXRlIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3NhdmluZ1JlbmFtZSA/ICdTYXZpbmfigKYnIDogJ1NhdmUgU2V0dGluZ3MnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBhY3RpdmVJZCA9PT0gQ0hBUkFDVEVSU19UQUJfSUQgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBiZy1iZy1lbGV2YXRlZFwiPlxuICAgICAgICAgICAgICA8Q2hhcmFjdGVyTWFuYWdlciBwcm9qZWN0SWQ9e3Byb2plY3RJZH0gcmVxdWlyZUltYWdlPXtwcm9qTW9kZSA9PT0gJ21hbmh3YSd9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogYWN0aXZlSWQgPT09IFdPUkxEX1RBQl9JRCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGJnLWJnLWVsZXZhdGVkXCI+XG4gICAgICAgICAgICAgIDxXb3JsZFNldHRpbmdzTWFuYWdlciBwcm9qZWN0SWQ9e3Byb2plY3RJZH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBhY3RpdmVJZCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgey8qIEVkaXRvciBDYW52YXMgLSBFbGV2YXRlZCBTdXJmYWNlICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4taC0wIG92ZXJmbG93LXktYXV0byBiZy1iZy1lbGV2YXRlZCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctWzgwMHB4XSBweC0xMiBweS0xNlwiPlxuICAgICAgICAgICAgICAgICAgey8qIENoYXB0ZXIgVGl0bGUgSW5wdXQgKi99XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uVGl0bGVDaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNoYXB0ZXIgVGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctdHJhbnNwYXJlbnQgYm9yZGVyLW5vbmUgdGV4dC1bMzJweF0gZm9udC1ib2xkIHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgbWItOCB0cmFja2luZy10aWdodFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgey8qIENoYXB0ZXIgQ29udGVudCAtIENvbnRlbnRlZGl0YWJsZSAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEVkaXRhYmxlXG4gICAgICAgICAgICAgICAgICAgIHN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1xuICAgICAgICAgICAgICAgICAgICBvbklucHV0PXsoZSkgPT4gb25Db250ZW50Q2hhbmdlKGUuY3VycmVudFRhcmdldC50ZXh0Q29udGVudCB8fCAnJyl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBtaW4taC1bNDAwcHhdIHRleHQtbGcgbGVhZGluZy1bMS44XSB0ZXh0LXRleHQtcHJpbWFyeSBvdXRsaW5lLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtjb250ZW50fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7IWNvbnRlbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGcgdGV4dC10ZXh0LXRlcnRpYXJ5IHBvaW50ZXItZXZlbnRzLW5vbmUgLW10LVs0MDBweF0gbGVhZGluZy1bMS44XVwiPlN0YXJ0IHdyaXRpbmcgeW91ciBzdG9yeS4uLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHsvKiBTdGF0dXMgQmFyICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTIgYmctYmctcHJpbWFyeSBib3JkZXItdCBib3JkZXItYm9yZGVyLWRlZmF1bHQgcHgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1bMTNweF0gdGV4dC10ZXh0LXRlcnRpYXJ5XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMS41IGgtMS41IHJvdW5kZWQtZnVsbCAke3NhdmluZyA/ICdiZy13YXJuaW5nIGFuaW1hdGUtcHVsc2UnIDogJ2JnLXN1Y2Nlc3MnfWB9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPntzYXZpbmcgPyAnU2F2aW5n4oCmJyA6ICdTYXZlZCd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2Pntjb250ZW50LnRyaW0oKS5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKS5sZW5ndGh9IHdvcmRzPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2Pntjb250ZW50Lmxlbmd0aH0gY2hhcmFjdGVyczwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj57TWF0aC5jZWlsKGNvbnRlbnQudHJpbSgpLnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCAvIDIwMCl9IG1pbiByZWFkPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIHthY3RpdmVDaGFwdGVyPy5jcmVhdGVkQXQgJiYgYExhc3QgZWRpdGVkICR7bmV3IERhdGUoYWN0aXZlQ2hhcHRlci5jcmVhdGVkQXQpLnRvTG9jYWxlU3RyaW5nKCl9YH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgYmctYmctZWxldmF0ZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYXgtdy1tZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC10ZXh0LXByaW1hcnkgbWItMlwiPk5vIENoYXB0ZXIgU2VsZWN0ZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeVwiPk9wZW4gYSBjaGFwdGVyIGZyb20gdGhlIGxlZnQgc2lkZWJhciB0byBzdGFydCBlZGl0aW5nLjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvbWFpbj5cblxuICAgICAgICB7LyogUmlnaHQ6IENoYXRzIFNpZGViYXIgKi99XG4gICAgICAgIHtyaWdodE9wZW4gJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcm9sZT1cInNlcGFyYXRvclwiXG4gICAgICAgICAgYXJpYS1vcmllbnRhdGlvbj1cInZlcnRpY2FsXCJcbiAgICAgICAgICBvbk1vdXNlRG93bj17c3RhcnRSaWdodFJlc2l6ZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJjdXJzb3ItY29sLXJlc2l6ZSB3LTEgYmctdHJhbnNwYXJlbnQgaG92ZXI6YmctYmctaG92ZXJcIlxuICAgICAgICAgIHN0eWxlPXt7IHVzZXJTZWxlY3Q6ICdub25lJyB9fVxuICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICB7cmlnaHRPcGVuICYmIChcbiAgICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cImJnLWJnLXByaW1hcnkgbWluLWgtMCBmbGV4IGZsZXgtY29sIHJlbGF0aXZlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC01IHB5LTQgdGV4dC14cyBmb250LXNlbWlib2xkIHRyYWNraW5nLVswLjA1ZW1dIHVwcGVyY2FzZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC10ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5XCIgb25DbGljaz17KCkgPT4gc2V0Q2hhdE1lbnVPcGVuKCh2KT0+IXYpfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJ1bmNhdGUgbWF4LXctWzE0MHB4XSB0ZXh0LXRleHQtcHJpbWFyeSBub3JtYWwtY2FzZSB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+eyhjaGF0cy5maW5kKGM9PmMuaWQ9PT1hY3RpdmVDaGF0SWQpPy50aXRsZSkgfHwgJ1NlbGVjdCBjaGF0J308L3NwYW4+XG4gICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9e2B3LTMuNSBoLTMuNSB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke2NoYXRNZW51T3BlbiA/ICdyb3RhdGUtMTgwJyA6ICcnfWB9IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC1hY2NlbnQgcm91bmRlZCBwLTEgaG92ZXI6YmctYmctaG92ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCIgb25DbGljaz17KCkgPT4geyBzZXROZXdDaGF0T3Blbih0cnVlKTsgc2V0Q2hhdE1lbnVPcGVuKHRydWUpOyB9fSB0aXRsZT1cIk5ldyBDaGF0XCI+XG4gICAgICAgICAgICAgICAgPFBsdXMgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LWFjY2VudCByb3VuZGVkIHAtMSBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIiBvbkNsaWNrPXsoKSA9PiBzZXRSaWdodE9wZW4oZmFsc2UpfT5cbiAgICAgICAgICAgICAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5Db2xsYXBzZTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Y2hhdE1lbnVPcGVuICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHJpZ2h0LTMgdG9wLTE0IHotMjAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLWVsZXZhdGVkIHNoYWRvdy1lbGV2YXRpb25cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYm9yZGVyLWIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+Q2hhdHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeVwiIG9uQ2xpY2s9eygpPT4gc2V0Q2hhdE1lbnVPcGVuKGZhbHNlKX0+4pyVPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICB7bmV3Q2hhdE9wZW4gJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbGcgcC0zIGJnLWJnLXByaW1hcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSBtYi0yXCI+Q3JlYXRlIGEgbmV3IGNoYXQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgeyhbJ3Bsb3QnLCdjaGFyYWN0ZXInLCd3b3JsZCddIGFzIGNvbnN0KS5tYXAoKHQpPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGtleT17dH0gY2xhc3NOYW1lPXtgdGV4dC14cyBweC0zIHB5LTEuNSByb3VuZGVkLW1kIGJvcmRlciBjdXJzb3ItcG9pbnRlciAke25ld0NoYXRUeXBlPT09dCA/ICdib3JkZXItYWNjZW50IHRleHQtYWNjZW50JyA6ICdib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiY2hhdC10eXBlXCIgY2xhc3NOYW1lPVwiaGlkZGVuXCIgY2hlY2tlZD17bmV3Q2hhdFR5cGU9PT10fSBvbkNoYW5nZT17KCk9PnNldE5ld0NoYXRUeXBlKHQpfSAvPnt0fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17bmV3Q2hhdFRpdGxlfSBvbkNoYW5nZT17KGUpPT5zZXROZXdDaGF0VGl0bGUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIlRpdGxlIChvcHRpb25hbClcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTMgcHktMiB0ZXh0LXRleHQtcHJpbWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0ZXh0LXNtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAge2NyZWF0ZUNoYXRFcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXJlZC00MDBcIj57Y3JlYXRlQ2hhdEVycm9yfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJweC0zIHB5LTEuNSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlclwiIG9uQ2xpY2s9eygpPT57IHNldE5ld0NoYXRPcGVuKGZhbHNlKTsgc2V0TmV3Q2hhdFRpdGxlKCcnKTsgc2V0Q3JlYXRlQ2hhdEVycm9yKG51bGwpOyB9fT5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInB4LTMgcHktMS41IHJvdW5kZWQtbWQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciB0ZXh0LXdoaXRlIGRpc2FibGVkOm9wYWNpdHktNTBcIiBkaXNhYmxlZD17Y3JlYXRpbmdDaGF0fSBvbkNsaWNrPXthc3luYyAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlYXRpbmdDaGF0KHRydWUpOyBzZXRDcmVhdGVDaGF0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXQocHJvamVjdElkLCB7IHR5cGU6IG5ld0NoYXRUeXBlLCB0aXRsZTogbmV3Q2hhdFRpdGxlIHx8IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2hhdHMoKHByZXYpPT5bLi4ucHJldiwgY10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVDaGF0SWQoYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldE5ld0NoYXRPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TmV3Q2hhdFRpdGxlKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2hhdE1lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmVhdGVDaGF0RXJyb3IoZT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBjaGF0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgeyBzZXRDcmVhdGluZ0NoYXQoZmFsc2UpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgfX0+e2NyZWF0aW5nQ2hhdCA/ICdDcmVhdGluZ+KApicgOiAnQ3JlYXRlJ308L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtNjQgb3ZlcmZsb3cteS1hdXRvIHByLTFcIj5cbiAgICAgICAgICAgICAgICAgIHshY2hhdHMubGVuZ3RoICYmICFuZXdDaGF0T3BlbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgcHgtMiBweS0yXCI+Tm8gY2hhdHMgeWV0LiA8YnV0dG9uIGNsYXNzTmFtZT1cInVuZGVybGluZVwiIG9uQ2xpY2s9eygpPT57IHNldE5ld0NoYXRUeXBlKCdwbG90Jyk7IHNldE5ld0NoYXRPcGVuKHRydWUpOyB9fT5DcmVhdGUgeW91ciBmaXJzdCBjaGF0PC9idXR0b24+LjwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtjaGF0cy5tYXAoKGMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2MuaWR9IGNsYXNzTmFtZT17YGdyb3VwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcHgtMyBweS0yIHJvdW5kZWQtbWQgbWItMSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgJHthY3RpdmVDaGF0SWQ9PT1jLmlkID8gJ2JnLWJnLWhvdmVyJyA6ICdob3ZlcjpiZy1iZy1ob3Zlcid9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1sZWZ0XCIgb25DbGljaz17KCkgPT4geyBzZXRBY3RpdmVDaGF0SWQoYy5pZCk7IHNldENoYXRNZW51T3BlbihmYWxzZSk7IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdGV4dC10ZXh0LXRlcnRpYXJ5IG1iLTAuNVwiPntjLnR5cGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1tZWRpdW0gJHthY3RpdmVDaGF0SWQ9PT1jLmlkID8gJ3RleHQtdGV4dC1wcmltYXJ5JyA6ICd0ZXh0LXRleHQtc2Vjb25kYXJ5J31gfT57Yy50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTE1MCB0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC1yZWQtNDAwYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jIChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGlmICghY29uZmlybSgnRGVsZXRlIHRoaXMgY2hhdD8nKSkgcmV0dXJuOyB0cnkgeyBhd2FpdCBhcGkuZGVsZXRlQ2hhdChwcm9qZWN0SWQsIGMuaWQpOyBzZXRDaGF0cygocHJldik9PnByZXYuZmlsdGVyKHg9PnguaWQhPT1jLmlkKSk7IGlmIChhY3RpdmVDaGF0SWQ9PT1jLmlkKSBzZXRBY3RpdmVDaGF0SWQoY2hhdHMuZmluZCh4PT54LmlkIT09Yy5pZCk/LmlkIHx8IG51bGwpOyB9IGNhdGNoIHt9IH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBjaGF0XCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPkRlbGV0ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHsvKiBDaGF0IHZpZXcgZmlsbHMgdGhlIHNpZGViYXIgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC0wIGZsZXgtMSBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLXQgYm9yZGVyLWJvcmRlci1kZWZhdWx0XCI+XG4gICAgICAgICAgICB7YWN0aXZlQ2hhdElkID8gKFxuICAgICAgICAgICAgICA8Q2hhdFxuICAgICAgICAgICAgICAgIGNoYXRJZD17YWN0aXZlQ2hhdElkfVxuICAgICAgICAgICAgICAgIHByb2plY3RJZD17cHJvamVjdElkfVxuICAgICAgICAgICAgICAgIGNoYXRUeXBlPXsoY2hhdHMuZmluZChjID0+IGMuaWQgPT09IGFjdGl2ZUNoYXRJZCk/LnR5cGUpIHx8ICdwbG90J31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGdyaWQgcGxhY2UtaXRlbXMtY2VudGVyIHRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5XCI+T3BlbiB0aGUgY2hhdCBtZW51IHRvIGNyZWF0ZSBvciBzZWxlY3QgYSBjaGF0LjwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7IXJpZ2h0T3BlbiAmJiAoXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiB0b3AtMTQgei0xMCB0ZXh0LXhzIHB4LTMgcHktMiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctZWxldmF0ZWQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LWFjY2VudCBob3Zlcjpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBzaGFkb3ctZWxldmF0aW9uXCIgb25DbGljaz17KCkgPT4gc2V0UmlnaHRPcGVuKHRydWUpfT5PcGVuIENoYXRzPC9idXR0b24+XG4gICAgICApfVxuXG4gICAgICB7LyogTm8gbW9kYWw6IGRyb3Bkb3duIGlzIGFuY2hvcmVkIHRvIGhlYWRlciBpbnNpZGUgdGhlIHNpZGViYXIgKi99XG5cbiAgICAgIHtzZXR0aW5nc09wZW4gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBncmlkIHBsYWNlLWl0ZW1zLWNlbnRlciBiZy1ibGFjay82MCBiYWNrZHJvcC1ibHVyLXNtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctbWQgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLXhsIHAtNiBzaGFkb3ctZWxldmF0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC10ZXh0LXByaW1hcnlcIj5Qcm9qZWN0IFNldHRpbmdzPC9oMz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTZXR0aW5nc09wZW4oZmFsc2UpfSBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwXCI+4pyVPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtM1wiPlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMSB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnlcIj5UaXRsZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZW5hbWVUaXRsZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVuYW1lVGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtMyBweS0yIHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIHtyZW5hbWVFcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNDAwIHAtMyByb3VuZGVkLWxnIGJnLXJlZC05NTAvMjAgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzIwXCI+e3JlbmFtZUVycm9yfTwvZGl2Pn1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMiBtdC00XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTZXR0aW5nc09wZW4oZmFsc2UpfSBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ1JlbmFtZSB8fCAhcmVuYW1lVGl0bGUudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTYXZpbmdSZW5hbWUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlbmFtZUVycm9yKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBhcGkudXBkYXRlUHJvamVjdChwcm9qZWN0SWQsIHsgdGl0bGU6IHJlbmFtZVRpdGxlLnRyaW0oKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9qZWN0VGl0bGUodXBkYXRlZD8udGl0bGUgfHwgcmVuYW1lVGl0bGUudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTZXR0aW5nc09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRSZW5hbWVFcnJvcihlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2F2ZScpO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNhdmluZ1JlbmFtZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZC1tZCBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIGRpc2FibGVkOm9wYWNpdHktNTAgdGV4dC13aGl0ZSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtzYXZpbmdSZW5hbWUgPyAnU2F2aW5n4oCmJyA6ICdTYXZlJ31cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7dG9hc3RNc2cgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIHRvcC00IHJpZ2h0LTQgei01MCBhbmltYXRlLWluIHNsaWRlLWluLWZyb20tYm90dG9tLTQgZHVyYXRpb24tMjAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgcm91bmRlZC1sZyBiZy1iZy1lbGV2YXRlZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1wcmltYXJ5IHRleHQtc20gc2hhZG93LWVsZXZhdGlvblwiPlxuICAgICAgICAgICAge3RvYXN0TXNnfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VTdXBhYmFzZSIsImNyZWF0ZUFwaSIsIkNoYXQiLCJDaGFyYWN0ZXJNYW5hZ2VyIiwiV29ybGRTZXR0aW5nc01hbmFnZXIiLCJTZXR0aW5ncyIsIkljb25TZXR0aW5ncyIsIkNoZXZyb25MZWZ0IiwiQ2hldnJvblJpZ2h0IiwiUGx1cyIsIlRyYXNoMiIsIkxvYWRlcjIiLCJDaGV2cm9uRG93biIsIldvcmtzcGFjZSIsInByb2plY3RJZCIsInN1cGFiYXNlIiwiYXBpIiwiY2hhcHRlcnMiLCJzZXRDaGFwdGVycyIsImxvYWRpbmdDaCIsInNldExvYWRpbmdDaCIsImVycm9yQ2giLCJzZXRFcnJvckNoIiwidGFicyIsInNldFRhYnMiLCJhY3RpdmVJZCIsInNldEFjdGl2ZUlkIiwidGl0bGUiLCJzZXRUaXRsZSIsImNvbnRlbnQiLCJzZXRDb250ZW50Iiwic2F2aW5nIiwic2V0U2F2aW5nIiwic2F2ZVRpbWVyIiwibGVmdENvbGxhcHNlZCIsInNldExlZnRDb2xsYXBzZWQiLCJhaU11c2VPcGVuIiwic2V0QWlNdXNlT3BlbiIsImRlbGV0aW5nSWQiLCJzZXREZWxldGluZ0lkIiwicHJvamVjdFRpdGxlIiwic2V0UHJvamVjdFRpdGxlIiwicHJvamVjdERlc2NyaXB0aW9uIiwic2V0UHJvamVjdERlc2NyaXB0aW9uIiwic2V0dGluZ3NPcGVuIiwic2V0U2V0dGluZ3NPcGVuIiwicmVuYW1lVGl0bGUiLCJzZXRSZW5hbWVUaXRsZSIsInJlbmFtZURlc2MiLCJzZXRSZW5hbWVEZXNjIiwic2F2aW5nUmVuYW1lIiwic2V0U2F2aW5nUmVuYW1lIiwicmVuYW1lRXJyb3IiLCJzZXRSZW5hbWVFcnJvciIsInNldHRpbmdzTWVudU9wZW4iLCJzZXRTZXR0aW5nc01lbnVPcGVuIiwicHJvak1vZGUiLCJzZXRQcm9qTW9kZSIsInByb2pHZW5yZSIsInNldFByb2pHZW5yZSIsInByb2pDb3JlQ29uZmxpY3QiLCJzZXRQcm9qQ29yZUNvbmZsaWN0IiwicHJvalNldHRpbmdzSnNvbiIsInNldFByb2pTZXR0aW5nc0pzb24iLCJ0b2FzdE1zZyIsInNldFRvYXN0TXNnIiwidG9hc3RUaW1lciIsIlNFVFRJTkdTX1RBQl9JRCIsIkNIQVJBQ1RFUlNfVEFCX0lEIiwiV09STERfVEFCX0lEIiwicmlnaHRPcGVuIiwic2V0UmlnaHRPcGVuIiwiY2hhdHNDYWNoZUtleSIsImNoYXRzQWN0aXZlS2V5IiwiY2hhcHRlcnNDYWNoZUtleSIsInRhYnNDYWNoZUtleSIsImFjdGl2ZVRhYktleSIsImxlZnRDb2xsYXBzZWRLZXkiLCJyaWdodE9wZW5LZXkiLCJsZWZ0V2lkdGhLZXkiLCJyaWdodFdpZHRoS2V5IiwiY2hhdHMiLCJzZXRDaGF0cyIsImFjdGl2ZUNoYXRJZCIsInNldEFjdGl2ZUNoYXRJZCIsImhhc0NoYXRzQ2FjaGUiLCJzZXRIYXNDaGF0c0NhY2hlIiwiY2hhdHNSZWYiLCJuZXdDaGF0VHlwZSIsInNldE5ld0NoYXRUeXBlIiwibmV3Q2hhdFRpdGxlIiwic2V0TmV3Q2hhdFRpdGxlIiwibmV3Q2hhdE9wZW4iLCJzZXROZXdDaGF0T3BlbiIsImNyZWF0aW5nQ2hhdCIsInNldENyZWF0aW5nQ2hhdCIsImNyZWF0ZUNoYXRFcnJvciIsInNldENyZWF0ZUNoYXRFcnJvciIsImNoYXRNZW51T3BlbiIsInNldENoYXRNZW51T3BlbiIsImhhc0NoYXB0ZXJzQ2FjaGUiLCJzZXRIYXNDaGFwdGVyc0NhY2hlIiwibGVmdFdpZHRoIiwic2V0TGVmdFdpZHRoIiwicmlnaHRXaWR0aCIsInNldFJpZ2h0V2lkdGgiLCJzIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFyciIsIkpTT04iLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInYiLCJjaHMiLCJ2YWxpZCIsInQiLCJhdCIsImxjIiwicm8iLCJsdyIsIm4iLCJwYXJzZUludCIsIk51bWJlciIsImlzTmFOIiwiTWF0aCIsIm1heCIsIm1pbiIsInJ3Iiwic29ydENoYXB0ZXJzIiwic29ydCIsImEiLCJiIiwidGEiLCJjcmVhdGVkQXQiLCJEYXRlIiwiZ2V0VGltZSIsInRiIiwibG9jYWxlQ29tcGFyZSIsIm1vdW50ZWQiLCJpdGVtcyIsImxpc3RDaGFwdGVyc1BhZ2luYXRlZCIsImUiLCJtZXNzYWdlIiwib25TZXR0aW5ncyIsImRldGFpbCIsImNoYW5nZXMiLCJ1bmRlZmluZWQiLCJkZXNjcmlwdGlvbiIsIm1vZGUiLCJnZW5yZSIsImNvcmVDb25mbGljdCIsInNldHRpbmdzSnNvbiIsInN0cmluZ2lmeSIsIm9uTW9kZSIsIm0iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZXIiLCJTdHJpbmciLCJjIiwicGFuZWxfc2NyaXB0IiwicmVzIiwiY3JlYXRlQ2hhcHRlciIsIm5ld0lkIiwiaWQiLCJwcmV2IiwiaW5jbHVkZXMiLCJ0YXJnZXRJZCIsImNoYXB0ZXJfbnVtYmVyIiwiaXNJbnRlZ2VyIiwic29ydGVkIiwiaWR4IiwibWF0Y2giLCJmaW5kIiwidG9Mb3dlckNhc2UiLCJ1cGRhdGVkIiwidXBkYXRlQ2hhcHRlciIsIm1hcCIsInAiLCJnZXRQcm9qZWN0IiwieHMiLCJsaXN0Q2hhdHMiLCJuZXh0IiwiY3VycmVudCIsImNyZWF0ZWQiLCJjcmVhdGVDaGF0IiwidHlwZSIsInNldEl0ZW0iLCJvcGVuVGFiIiwiY2giLCJjbG9zZVRhYiIsImZpbHRlciIsImN1cnIiLCJpbmRleE9mIiwib25EcmFnU3RhcnQiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwib25Ecm9wIiwic3JjSWQiLCJnZXREYXRhIiwic2kiLCJ0aSIsInNwbGljZSIsInN0YXJ0TGVmdFJlc2l6ZSIsInByZXZlbnREZWZhdWx0Iiwic3RhcnRYIiwiY2xpZW50WCIsInN0YXJ0VyIsIm9uTW92ZSIsImV2IiwiZHgiLCJvblVwIiwic3RhcnRSaWdodFJlc2l6ZSIsInNjaGVkdWxlU2F2ZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvblRpdGxlQ2hhbmdlIiwib25Db250ZW50Q2hhbmdlIiwib25OZXdDaGFwdGVyIiwib25EZWxldGVDaGFwdGVyIiwiY29uZmlybSIsImRlbGV0ZUNoYXB0ZXIiLCJtc2ciLCJFcnJvciIsImFjdGl2ZUNoYXB0ZXIiLCJncmlkQ29scyIsImNvbHMiLCJwdXNoIiwiam9pbiIsImRpdiIsImNsYXNzTmFtZSIsImFjdGl2ZSIsImxhYmVsIiwiZHJhZ2dhYmxlIiwib25EcmFnT3ZlciIsIm9uTW91c2VEb3duIiwiYnV0dG9uIiwib25DbGljayIsInNwYW4iLCJzdG9wUHJvcGFnYXRpb24iLCJhcmlhLWhpZGRlbiIsInN0eWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsImFzaWRlIiwid29yZENvdW50IiwidHJpbSIsInNwbGl0IiwiQm9vbGVhbiIsImRpc2FibGVkIiwicm9sZSIsImFyaWEtb3JpZW50YXRpb24iLCJ1c2VyU2VsZWN0IiwibWFpbiIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInRleHRhcmVhIiwicm93cyIsInNlbGVjdCIsIm9wdGlvbiIsInVwZGF0ZUJvZHkiLCJPYmplY3QiLCJrZXlzIiwidXBkYXRlUHJvamVjdCIsInVwZGF0ZVByb2plY3RTZXR0aW5ncyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsInJlcXVpcmVJbWFnZSIsInBsYWNlaG9sZGVyIiwiY29udGVudEVkaXRhYmxlIiwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIiwib25JbnB1dCIsImN1cnJlbnRUYXJnZXQiLCJ0ZXh0Q29udGVudCIsIndoaXRlU3BhY2UiLCJjZWlsIiwidG9Mb2NhbGVTdHJpbmciLCJuYW1lIiwiY2hlY2tlZCIsImRlbGV0ZUNoYXQiLCJ4IiwiY2hhdElkIiwiY2hhdFR5cGUiLCJoMyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/workspace/Workspace.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/workspace/WorldSettingsManager.tsx":
/*!***********************************************************!*\
  !*** ./src/components/workspace/WorldSettingsManager.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WorldSettingsManager: () => (/* binding */ WorldSettingsManager)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(ssr)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* __next_internal_client_entry_do_not_use__ WorldSettingsManager auto */ \n\n\n\n\nfunction classNames(...xs) {\n    return xs.filter(Boolean).join(\" \");\n}\nfunction parseSupabasePublicUrl(url) {\n    try {\n        const idx = url.indexOf(\"/storage/v1/object/public/\");\n        if (idx === -1) return null;\n        const rest = url.slice(idx + \"/storage/v1/object/public/\".length);\n        const firstSlash = rest.indexOf(\"/\");\n        if (firstSlash === -1) return null;\n        const bucket = rest.slice(0, firstSlash);\n        const path = rest.slice(firstSlash + 1);\n        if (!bucket || !path) return null;\n        return {\n            bucket,\n            path\n        };\n    } catch  {\n        return null;\n    }\n}\nfunction WorldSettingsManager({ projectId }) {\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_3__.createApi)(supabase), [\n        supabase\n    ]);\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [filter, setFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deleting, setDeleting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [toast, setToast] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [form, setForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\"\n    });\n    const [traits, setTraits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [uploadStatus, setUploadStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const dropRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_world`, [\n        projectId\n    ]);\n    const activeKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>`inkverse_project_${projectId}_world_active`, [\n        projectId\n    ]);\n    const [hasCache, setHasCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const itemsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(items);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const s =  false ? 0 : null;\n            if (s) {\n                const arr = JSON.parse(s);\n                if (Array.isArray(arr)) {\n                    setItems(arr);\n                    const valid = arr.length > 0;\n                    setHasCache(valid);\n                    if (valid) setLoading(false);\n                }\n            }\n        } catch  {}\n    }, [\n        cacheKey\n    ]);\n    const notify = (msg)=>{\n        if (toastTimer.current) clearTimeout(toastTimer.current);\n        setToast(msg);\n        toastTimer.current = setTimeout(()=>setToast(\"\"), 2500);\n    };\n    const onUploadFiles = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (files)=>{\n        if (!files || files.length === 0) return;\n        setUploading(true);\n        setUploadStatus(\"uploading\");\n        const startImages = form.images || [];\n        const newUrls = [];\n        try {\n            const bucket = process.env.NEXT_PUBLIC_SUPABASE_WORLD_BUCKET || process.env.NEXT_PUBLIC_SUPABASE_IMAGE_BUCKET || process.env.NEXT_PUBLIC_SUPABASE_BUCKET || \"world-images\";\n            for (const file of files){\n                const ext = file.name.split(\".\").pop() || \"jpg\";\n                const path = `${projectId}/${Date.now()}-${Math.random().toString(36).slice(2)}.${ext}`;\n                try {\n                    console.debug(\"Supabase world upload start\", {\n                        bucket,\n                        path,\n                        file: {\n                            name: file.name,\n                            type: file.type,\n                            size: file.size\n                        }\n                    });\n                } catch  {}\n                const { error: upErr } = await supabase.storage.from(bucket).upload(path, file, {\n                    upsert: true,\n                    contentType: file.type\n                });\n                if (upErr) throw upErr;\n                const { data } = supabase.storage.from(bucket).getPublicUrl(path);\n                const url = data.publicUrl;\n                newUrls.push(url);\n                setForm((f)=>({\n                        ...f,\n                        images: [\n                            ...f.images || [],\n                            url\n                        ]\n                    }));\n                try {\n                    console.debug(\"Supabase world upload done\", {\n                        url\n                    });\n                } catch  {}\n            }\n            const nextImages = [\n                ...startImages,\n                ...newUrls\n            ];\n            if (activeId === \"__new__\") {\n                try {\n                    const name = form.name && form.name.trim() || \"Untitled World\";\n                    const payload = {\n                        name,\n                        summary: form.summary || undefined,\n                        traits,\n                        images: nextImages\n                    };\n                    try {\n                        console.debug(\"Auto-creating world after batch upload\", {\n                            name,\n                            imagesCount: nextImages.length\n                        });\n                    } catch  {}\n                    const created = await api.createWorldSetting(projectId, payload);\n                    setItems((prev)=>[\n                            ...prev,\n                            created\n                        ]);\n                    setActiveId(created.id);\n                    try {\n                        console.debug(\"Auto-created world\", {\n                            id: created.id\n                        });\n                    } catch  {}\n                } catch (e) {\n                    notify(e?.message || \"Failed to create world entry\");\n                    try {\n                        console.error(\"Auto-create world failed\", e);\n                    } catch  {}\n                }\n            } else if (activeId) {\n                try {\n                    try {\n                        console.debug(\"Persisting world images (batch)\", {\n                            wsId: activeId,\n                            count: nextImages.length\n                        });\n                    } catch  {}\n                    const res = await api.updateWorldSetting(projectId, activeId, {\n                        images: nextImages\n                    });\n                    setItems((prev)=>prev.map((x)=>x.id === res.id ? res : x));\n                    try {\n                        console.debug(\"Persisted world images ok\", {\n                            id: res.id\n                        });\n                    } catch  {}\n                } catch (e) {\n                    notify(e?.message || \"Failed to persist images\");\n                    try {\n                        console.error(\"Persisting world images failed\", e);\n                    } catch  {}\n                }\n            }\n            notify(\"Image(s) uploaded\");\n            setUploadStatus(\"uploaded\");\n            setTimeout(()=>{\n                try {\n                    setUploadStatus(\"idle\");\n                } catch  {}\n            }, 2000);\n        } catch (e) {\n            notify(e?.message || \"Upload failed\");\n            try {\n                console.error(\"World upload failed\", e);\n            } catch  {}\n            setUploadStatus(\"error\");\n        } finally{\n            setUploading(false);\n        }\n    }, [\n        projectId,\n        supabase,\n        activeId,\n        api,\n        form,\n        traits\n    ]);\n    // Drag & drop handlers\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = dropRef.current;\n        if (!el) return;\n        const onDrop = (e)=>{\n            e.preventDefault();\n            const files = Array.from(e.dataTransfer?.files || []);\n            if (files.length) {\n                (async ()=>{\n                    await onUploadFiles(files);\n                })();\n            }\n            el.classList.remove(\"ring-2\", \"ring-blue-500\");\n        };\n        const onDrag = (e)=>{\n            e.preventDefault();\n            el.classList.add(\"ring-2\", \"ring-blue-500\");\n        };\n        const onLeave = (e)=>{\n            e.preventDefault();\n            el.classList.remove(\"ring-2\", \"ring-blue-500\");\n        };\n        el.addEventListener(\"drop\", onDrop);\n        el.addEventListener(\"dragover\", onDrag);\n        el.addEventListener(\"dragleave\", onLeave);\n        return ()=>{\n            el.removeEventListener(\"drop\", onDrop);\n            el.removeEventListener(\"dragover\", onDrag);\n            el.removeEventListener(\"dragleave\", onLeave);\n        };\n    }, [\n        onUploadFiles\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasCache) {\n                return;\n            }\n            try {\n                if (!hasCache) setLoading(true);\n                const res = await api.listWorldSettings(projectId);\n                if (!mounted) return;\n                const next = res || [];\n                try {\n                    if (hasCache && JSON.stringify(next) === JSON.stringify(itemsRef.current)) {\n                        return;\n                    }\n                } catch  {}\n                setItems(next);\n            } catch (e) {\n                if (!mounted) return;\n                setError(e?.message || \"Failed to load world settings\");\n            } finally{\n                if (mounted) setLoading(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        hasCache\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (false) {}\n        } catch  {}\n    }, [\n        items,\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        itemsRef.current = items;\n    }, [\n        items\n    ]);\n    // Restore/persist last active selection\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const v =  false ? 0 : null;\n            if (v) setActiveId(v);\n        } catch  {}\n    }, [\n        activeKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (activeId && \"undefined\" !== \"undefined\") {}\n        } catch  {}\n    }, [\n        activeId,\n        activeKey\n    ]);\n    // Reflect chat-driven upserts instantly\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onUpsert(ev) {\n            const ce = ev;\n            const item = ce?.detail?.item;\n            if (!item || !item.id) return;\n            setItems((prev)=>{\n                const idx = prev.findIndex((x)=>x.id === item.id);\n                if (idx >= 0) {\n                    const next = [\n                        ...prev\n                    ];\n                    next[idx] = {\n                        ...next[idx],\n                        ...item\n                    };\n                    return next;\n                }\n                return [\n                    ...prev,\n                    item\n                ];\n            });\n            if (activeId === item.id) {\n                setForm({\n                    id: item.id,\n                    name: item.name,\n                    summary: item.summary || \"\",\n                    traits: item.traits || null,\n                    images: item.images || []\n                });\n                setTraits(item.traits || {});\n            }\n            notify(\"World entry updated via chat\");\n        }\n        window.addEventListener(\"workspace:world-upsert\", onUpsert);\n        return ()=>window.removeEventListener(\"workspace:world-upsert\", onUpsert);\n    }, [\n        activeId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeId) return;\n        if (activeId === \"__new__\") {\n            setForm({\n                name: \"\",\n                images: []\n            });\n            setTraits({});\n            return;\n        }\n        const it = items.find((x)=>x.id === activeId);\n        if (!it) return;\n        setForm({\n            id: it.id,\n            name: it.name,\n            summary: it.summary || \"\",\n            traits: it.traits || null,\n            images: it.images || []\n        });\n        setTraits(it.traits || {});\n    }, [\n        activeId,\n        items\n    ]);\n    const filtered = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const q = filter.trim().toLowerCase();\n        if (!q) return items;\n        return items.filter((x)=>(x.name || \"\").toLowerCase().includes(q));\n    }, [\n        items,\n        filter\n    ]);\n    // notify moved earlier so it's available to uploads\n    const onNew = ()=>{\n        setActiveId(\"__new__\");\n        setForm({\n            name: \"\",\n            images: []\n        });\n        setTraits({});\n    };\n    // Traits helpers\n    const clone = (o)=>JSON.parse(JSON.stringify(o ?? {}));\n    const setVal = (path, val)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < path.length - 1; i++)ref = ref[path[i]];\n            ref[path[path.length - 1]] = val;\n            return nxt;\n        });\n    };\n    const delKey = (pathToParent, key)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToParent.length; i++)ref = ref[pathToParent[i]];\n            if (Array.isArray(ref) && typeof key === \"number\") ref.splice(key, 1);\n            else if (ref && typeof ref === \"object\") delete ref[key];\n            return nxt;\n        });\n    };\n    const renameKey = (pathToParent, oldKey, newKey)=>{\n        if (!newKey) return;\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToParent.length; i++)ref = ref[pathToParent[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            if (oldKey === newKey) return nxt;\n            const val = ref[oldKey];\n            delete ref[oldKey];\n            ref[newKey] = val;\n            return nxt;\n        });\n    };\n    const addChild = (pathToObj, depth)=>{\n        if (depth >= 5) return;\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToObj.length; i++)ref = ref[pathToObj[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            let base = \"key\";\n            let i2 = 1;\n            let key = base;\n            while(Object.prototype.hasOwnProperty.call(ref, key)){\n                key = `${base}-${i2++}`;\n            }\n            ref[key] = \"\";\n            return nxt;\n        });\n    };\n    const addRootKey = ()=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let base = \"key\";\n            let i = 1;\n            let k = base;\n            while(Object.prototype.hasOwnProperty.call(nxt, k)){\n                k = `${base}-${i++}`;\n            }\n            nxt[k] = \"\";\n            return nxt;\n        });\n    };\n    const convertType = (path, parentPath, key, nextType, depth)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < parentPath.length; i++)ref = ref[parentPath[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            if (nextType === \"string\") ref[key] = \"\";\n            else if (nextType === \"object\") ref[key] = depth >= 5 ? \"\" : {};\n            else if (nextType === \"array\") ref[key] = [];\n            return nxt;\n        });\n    };\n    const addArrayItem = (pathToArr)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToArr.length; i++)ref = ref[pathToArr[i]];\n            if (Array.isArray(ref)) ref.push(\"\");\n            return nxt;\n        });\n    };\n    TraitObject._parent = {\n        setVal,\n        delKey,\n        renameKey,\n        addChild,\n        convertType,\n        addArrayItem\n    };\n    const onSave = async ()=>{\n        if (!form.name.trim()) {\n            notify(\"Name is required\");\n            return;\n        }\n        setSaving(true);\n        try {\n            const payload = {\n                name: form.name.trim(),\n                summary: form.summary || undefined,\n                traits,\n                images: form.images || []\n            };\n            if (activeId === \"__new__\") {\n                const res = await api.createWorldSetting(projectId, payload);\n                setItems((prev)=>[\n                        ...prev,\n                        res\n                    ]);\n                setActiveId(res.id);\n            } else if (activeId) {\n                const res = await api.updateWorldSetting(projectId, activeId, payload);\n                setItems((prev)=>prev.map((x)=>x.id === res.id ? res : x));\n            }\n            notify(\"Saved\");\n        } catch (e) {\n            notify(e?.message || \"Save failed\");\n        } finally{\n            setSaving(false);\n        }\n    };\n    const onDelete = async ()=>{\n        if (!activeId || activeId === \"__new__\") return;\n        // eslint-disable-next-line no-alert\n        if (!confirm(\"Delete this world entry?\")) return;\n        setDeleting(true);\n        try {\n            await api.deleteWorldSetting(projectId, activeId);\n            setItems((prev)=>prev.filter((x)=>x.id !== activeId));\n            setActiveId(null);\n            setForm({\n                name: \"\",\n                images: []\n            });\n            setTraits({});\n            notify(\"Deleted\");\n        } catch (e) {\n            notify(e?.message || \"Delete failed\");\n        } finally{\n            setDeleting(false);\n        }\n    };\n    const count = items.length;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full grid grid-rows-[auto_1fr]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-b border-border-default px-6 py-4 flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-base font-semibold text-text-primary\",\n                                children: \"World Settings\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 403,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs px-2 py-1 rounded-md border border-border-default text-text-secondary\",\n                                children: [\n                                    count,\n                                    \" Items\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 404,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 402,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onNew,\n                            className: \"rounded-lg bg-bg-elevated border border-border-default hover:border-accent hover:bg-bg-hover text-text-secondary hover:text-text-primary text-sm px-4 py-3 inline-flex items-center justify-center gap-2 transition-all duration-150 hover:-translate-y-0.5\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                    lineNumber: 408,\n                                    columnNumber: 13\n                                }, this),\n                                \"New Entry\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                            lineNumber: 407,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 406,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                lineNumber: 401,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-0 grid\",\n                style: {\n                    gridTemplateColumns: \"35% 65%\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"border-r border-border-default min-h-0 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-3\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: filter,\n                                            onChange: (e)=>setFilter(e.target.value),\n                                            placeholder: \"Search world settings\",\n                                            className: \"w-full bg-bg-primary border border-border-default rounded-md pl-9 pr-3 py-2.5 text-sm text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                            lineNumber: 418,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            className: \"w-4 h-4 absolute left-3 top-3 text-text-tertiary\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                            lineNumber: 419,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                    lineNumber: 417,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 416,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto px-3 pb-3\",\n                                children: [\n                                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-text-secondary px-2 py-2\",\n                                        children: \"Loading\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                        lineNumber: 423,\n                                        columnNumber: 25\n                                    }, this),\n                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-red-400 px-2 py-2 bg-red-950/20 rounded-md border border-red-500/20\",\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                        lineNumber: 424,\n                                        columnNumber: 23\n                                    }, this),\n                                    !loading && !filtered.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-10 text-center text-text-tertiary text-sm\",\n                                        children: \"No world settings yet. Create your first entry!\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                        lineNumber: 426,\n                                        columnNumber: 15\n                                    }, this),\n                                    filtered.map((w)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setActiveId(w.id),\n                                            className: classNames(\"w-full text-left px-3 py-3 rounded-md mb-2 transition-all\", activeId === w.id ? \"border-l-2 border-blue-500 bg-bg-elevated\" : \"hover:bg-bg-hover\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1 min-w-0\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm font-medium text-text-primary truncate\",\n                                                            children: w.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                            lineNumber: 432,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary truncate\",\n                                                            children: w.summary || \"\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                            lineNumber: 433,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                    lineNumber: 431,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 430,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, w.id, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                            lineNumber: 429,\n                                            columnNumber: 15\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 422,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 415,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"min-h-0 overflow-y-auto p-6\",\n                        \"aria-label\": \"World details\",\n                        children: activeId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-2xl mx-auto\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid gap-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: dropRef,\n                                        className: \"flex flex-col items-start mb-2 p-3 rounded-xl border border-border-default bg-bg-elevated w-full\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-text-tertiary mb-2\",\n                                                children: \"World Images\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 446,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"px-3 py-2 rounded-md border border-border-default bg-bg-primary text-text-secondary hover:text-text-primary inline-flex items-center gap-2 cursor-pointer\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                                className: \"w-4 h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                                lineNumber: 449,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            \"Upload Image\",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"file\",\n                                                                accept: \"image/*\",\n                                                                multiple: true,\n                                                                className: \"hidden\",\n                                                                onChange: (e)=>{\n                                                                    const files = Array.from(e.target.files || []);\n                                                                    if (files.length) {\n                                                                        (async ()=>{\n                                                                            await onUploadFiles(files);\n                                                                        })();\n                                                                    }\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                                lineNumber: 451,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 448,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary inline-flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                className: \"w-3 h-3 animate-spin\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                                lineNumber: 453,\n                                                                columnNumber: 110\n                                                            }, this),\n                                                            \" Uploading\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 453,\n                                                        columnNumber: 35\n                                                    }, this),\n                                                    uploadStatus === \"uploaded\" && !uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-green-400\",\n                                                        children: \"Uploaded\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 454,\n                                                        columnNumber: 67\n                                                    }, this),\n                                                    uploadStatus === \"error\" && !uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-red-400\",\n                                                        children: \"Upload failed\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 455,\n                                                        columnNumber: 64\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 447,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex gap-2 overflow-x-auto w-full pb-1\",\n                                                children: [\n                                                    (form.images || []).map((url, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"relative border border-border-default rounded-md overflow-hidden bg-bg-primary flex-none w-24 h-24\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                    src: url,\n                                                                    alt: \"world\",\n                                                                    className: \"w-full h-full object-cover\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                                    lineNumber: 460,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"absolute top-1 right-1 bg-black/60 text-white rounded p-1\",\n                                                                    title: \"Remove\",\n                                                                    onClick: async ()=>{\n                                                                        const removedUrl = (form.images || [])[idx];\n                                                                        const nextImages = (form.images || []).filter((_, i)=>i !== idx);\n                                                                        setForm((f)=>({\n                                                                                ...f,\n                                                                                images: nextImages\n                                                                            }));\n                                                                        if (activeId && activeId !== \"__new__\") {\n                                                                            try {\n                                                                                const res = await api.updateWorldSetting(projectId, activeId, {\n                                                                                    images: nextImages\n                                                                                });\n                                                                                setItems((prev)=>prev.map((x)=>x.id === res.id ? res : x));\n                                                                                notify(\"Image removed\");\n                                                                                try {\n                                                                                    const parsed = removedUrl ? parseSupabasePublicUrl(removedUrl) : null;\n                                                                                    if (parsed) {\n                                                                                        await supabase.storage.from(parsed.bucket).remove([\n                                                                                            parsed.path\n                                                                                        ]);\n                                                                                    }\n                                                                                } catch  {}\n                                                                            } catch (e) {\n                                                                                notify(e?.message || \"Failed to persist removal\");\n                                                                            }\n                                                                        }\n                                                                    },\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                                        lineNumber: 483,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                                    lineNumber: 461,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, idx, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                            lineNumber: 459,\n                                                            columnNumber: 23\n                                                        }, this)),\n                                                    !(form.images || []).length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary\",\n                                                        children: \"No images yet. Upload or drop here.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 488,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 457,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                        lineNumber: 445,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"grid gap-2 text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                children: \"Name\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 493,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: form.name,\n                                                onChange: (e)=>setForm((f)=>({\n                                                            ...f,\n                                                            name: e.target.value\n                                                        })),\n                                                className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 494,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                        lineNumber: 492,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"grid gap-2 text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                children: \"Summary\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 497,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                value: form.summary || \"\",\n                                                onChange: (e)=>setForm((f)=>({\n                                                            ...f,\n                                                            summary: e.target.value\n                                                        })),\n                                                rows: 5,\n                                                className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent text-sm\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 498,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[11px] text-text-tertiary\",\n                                                children: [\n                                                    (form.summary || \"\").length,\n                                                    \" characters\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 499,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                        lineNumber: 496,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid gap-2 text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Traits\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 504,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: addRootKey,\n                                                        className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                                className: \"w-3 h-3\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                                lineNumber: 505,\n                                                                columnNumber: 195\n                                                            }, this),\n                                                            \" Add key\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 505,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 503,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-1\",\n                                                children: [\n                                                    Object.keys(traits || {}).length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary\",\n                                                        children: \"No traits yet. Add a key.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 509,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitObject, {\n                                                        obj: traits,\n                                                        path: [],\n                                                        depth: 1\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 511,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 507,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                        lineNumber: 502,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between pt-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: onDelete,\n                                                disabled: !activeId || activeId === \"__new__\" || deleting,\n                                                className: \"text-red-400 hover:text-red-300 inline-flex items-center gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 517,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Delete Entry\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 516,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            setActiveId(null);\n                                                        },\n                                                        className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover\",\n                                                        children: \"Cancel\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 521,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: onSave,\n                                                        disabled: saving,\n                                                        className: \"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 text-white\",\n                                                        children: saving ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"inline-flex items-center gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                    className: \"w-4 h-4 animate-spin\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                                    lineNumber: 523,\n                                                                    columnNumber: 82\n                                                                }, this),\n                                                                \" Saving\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                            lineNumber: 523,\n                                                            columnNumber: 33\n                                                        }, this) : \"Save Entry\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                        lineNumber: 522,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                                lineNumber: 520,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                        lineNumber: 515,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 444,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                            lineNumber: 443,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-tertiary\",\n                            children: \"Select a world entry or create a new one.\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                            lineNumber: 530,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 441,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                lineNumber: 414,\n                columnNumber: 7\n            }, this),\n            toast && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-4 right-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 rounded-lg bg-bg-elevated border border-border-default text-text-primary text-sm shadow-elevation\",\n                    children: toast\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                    lineNumber: 537,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                lineNumber: 536,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n        lineNumber: 400,\n        columnNumber: 5\n    }, this);\n}\nfunction useWorldCtx() {\n    return {\n        setVal: ()=>{},\n        delKey: ()=>{},\n        renameKey: ()=>{},\n        addChild: ()=>{},\n        convertType: ()=>{},\n        addArrayItem: ()=>{}\n    };\n}\nfunction TraitObject({ obj, path, depth }) {\n    const parent = TraitObject._parent;\n    const ctx = parent || useWorldCtx();\n    TraitObject._parent = ctx;\n    const keys = Object.keys(obj || {});\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-2\",\n        children: keys.map((k)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitRow, {\n                k: k,\n                v: obj[k],\n                parentPath: path,\n                depth: depth,\n                ctx: ctx\n            }, k, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                lineNumber: 573,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n        lineNumber: 571,\n        columnNumber: 5\n    }, this);\n}\nfunction TraitRow({ k, v, parentPath, depth, ctx }) {\n    const isArray = Array.isArray(v);\n    const isObject = v && typeof v === \"object\" && !isArray;\n    const type = isArray ? \"array\" : isObject ? \"object\" : \"string\";\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(k);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setName(k);\n    }, [\n        k\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border border-border-default rounded-md p-2 bg-bg-elevated\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        value: name,\n                        onChange: (e)=>setName(e.target.value),\n                        onBlur: ()=>{\n                            if (name !== k && name.trim()) ctx.renameKey(parentPath, k, name.trim());\n                        },\n                        onKeyDown: (e)=>{\n                            if (e.key === \"Enter\") {\n                                e.target.blur();\n                            }\n                        },\n                        placeholder: \"key\",\n                        className: \"flex-none w-48 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 589,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        value: type,\n                        onChange: (e)=>ctx.convertType([\n                                ...parentPath,\n                                k\n                            ], parentPath, k, e.target.value, depth),\n                        className: \"flex-none w-28 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"string\",\n                                children: \"String\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 598,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"object\",\n                                disabled: depth >= 5,\n                                children: \"Object\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 599,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"array\",\n                                children: \"Array\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 600,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 597,\n                        columnNumber: 9\n                    }, this),\n                    type === \"string\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        value: String(v || \"\"),\n                        onChange: (e)=>ctx.setVal([\n                                ...parentPath,\n                                k\n                            ], e.target.value),\n                        placeholder: \"value\",\n                        className: \"flex-1 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 603,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.delKey(parentPath, k),\n                        className: \"text-text-tertiary hover:text-red-400 text-sm ml-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                            lineNumber: 605,\n                            columnNumber: 123\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 605,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                lineNumber: 588,\n                columnNumber: 7\n            }, this),\n            type === \"object\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 ml-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.addChild([\n                                ...parentPath,\n                                k\n                            ], depth + 1),\n                        disabled: depth >= 5,\n                        className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-3 h-3\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 609,\n                                columnNumber: 240\n                            }, this),\n                            \" Add child\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 609,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitObject, {\n                        obj: v,\n                        path: [\n                            ...parentPath,\n                            k\n                        ],\n                        depth: depth + 1\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 610,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                lineNumber: 608,\n                columnNumber: 9\n            }, this),\n            type === \"array\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 ml-4 space-y-2\",\n                children: [\n                    v.map((item, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-text-tertiary\",\n                                    children: [\n                                        \"[\",\n                                        idx,\n                                        \"]\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                    lineNumber: 617,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    value: item,\n                                    onChange: (e)=>ctx.setVal([\n                                            ...parentPath,\n                                            k,\n                                            idx\n                                        ], e.target.value),\n                                    placeholder: \"value\",\n                                    className: \"flex-1 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                    lineNumber: 618,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>ctx.delKey([\n                                            ...parentPath,\n                                            k\n                                        ], idx),\n                                    className: \"text-text-tertiary hover:text-red-400 text-sm\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                        lineNumber: 619,\n                                        columnNumber: 131\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                    lineNumber: 619,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, idx, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                            lineNumber: 616,\n                            columnNumber: 13\n                        }, this)),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.addArrayItem([\n                                ...parentPath,\n                                k\n                            ]),\n                        className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-3 h-3\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                                lineNumber: 622,\n                                columnNumber: 215\n                            }, this),\n                            \" Add item\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                        lineNumber: 622,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n                lineNumber: 614,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/WorldSettingsManager.tsx\",\n        lineNumber: 587,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy93b3Jrc3BhY2UvV29ybGRTZXR0aW5nc01hbmFnZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTBFO0FBQ0o7QUFDaEM7QUFDa0M7QUFFeEUsU0FBU2EsV0FBVyxHQUFHQyxFQUE0QztJQUNqRSxPQUFPQSxHQUFHQyxNQUFNLENBQUNDLFNBQVNDLElBQUksQ0FBQztBQUNqQztBQVlBLFNBQVNDLHVCQUF1QkMsR0FBVztJQUN6QyxJQUFJO1FBQ0YsTUFBTUMsTUFBTUQsSUFBSUUsT0FBTyxDQUFDO1FBQ3hCLElBQUlELFFBQVEsQ0FBQyxHQUFHLE9BQU87UUFDdkIsTUFBTUUsT0FBT0gsSUFBSUksS0FBSyxDQUFDSCxNQUFNLDZCQUE2QkksTUFBTTtRQUNoRSxNQUFNQyxhQUFhSCxLQUFLRCxPQUFPLENBQUM7UUFDaEMsSUFBSUksZUFBZSxDQUFDLEdBQUcsT0FBTztRQUM5QixNQUFNQyxTQUFTSixLQUFLQyxLQUFLLENBQUMsR0FBR0U7UUFDN0IsTUFBTUUsT0FBT0wsS0FBS0MsS0FBSyxDQUFDRSxhQUFhO1FBQ3JDLElBQUksQ0FBQ0MsVUFBVSxDQUFDQyxNQUFNLE9BQU87UUFDN0IsT0FBTztZQUFFRDtZQUFRQztRQUFLO0lBQ3hCLEVBQUUsT0FBTTtRQUNOLE9BQU87SUFDVDtBQUNGO0FBRU8sU0FBU0MscUJBQXFCLEVBQUVDLFNBQVMsRUFBeUI7SUFDdkUsTUFBTUMsV0FBV3pCLG1GQUFXQTtJQUM1QixNQUFNMEIsTUFBTTdCLDhDQUFPQSxDQUFDLElBQU1JLG1EQUFTQSxDQUFDd0IsV0FBVztRQUFDQTtLQUFTO0lBRXpELE1BQU0sQ0FBQ0UsT0FBT0MsU0FBUyxHQUFHN0IsK0NBQVFBLENBQWMsRUFBRTtJQUNsRCxNQUFNLENBQUM4QixTQUFTQyxXQUFXLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNnQyxPQUFPQyxTQUFTLEdBQUdqQywrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFB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QUFVOzs7Ozs7OENBQ3RILDhEQUFDQztvQ0FBT0MsU0FBUyxJQUFJOEIsSUFBSTlELE1BQU0sQ0FBQzsrQ0FBSW1COzRDQUFZRjt5Q0FBRSxFQUFFcks7b0NBQU1rTCxXQUFVOzhDQUFnRCw0RUFBQzFMLCtHQUFDQTt3Q0FBQzBMLFdBQVU7Ozs7Ozs7Ozs7OzsyQkFIekhsTDs7Ozs7a0NBTVosOERBQUNtTDt3QkFBT0MsU0FBUyxJQUFJOEIsSUFBSXpDLFlBQVksQ0FBQzttQ0FBSUY7Z0NBQVlGOzZCQUFFO3dCQUFHYSxXQUFVOzswQ0FBdUksOERBQUM5TCwrR0FBSUE7Z0NBQUM4TCxXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLbFAiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmt2ZXJzZS1jbGllbnQvLi9zcmMvY29tcG9uZW50cy93b3Jrc3BhY2UvV29ybGRTZXR0aW5nc01hbmFnZXIudHN4PzYzNjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVN1cGFiYXNlIH0gZnJvbSBcIkAvY29tcG9uZW50cy9wcm92aWRlcnMvU3VwYWJhc2VQcm92aWRlclwiO1xuaW1wb3J0IHsgY3JlYXRlQXBpIH0gZnJvbSBcIkAvbGliL2FwaVwiO1xuaW1wb3J0IHsgTG9hZGVyMiwgUGx1cywgU2VhcmNoLCBUcmFzaDIsIFVwbG9hZCwgWCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuZnVuY3Rpb24gY2xhc3NOYW1lcyguLi54czogQXJyYXk8c3RyaW5nIHwgZmFsc2UgfCBudWxsIHwgdW5kZWZpbmVkPikge1xuICByZXR1cm4geHMuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xufVxuXG50eXBlIFdvcmxkSXRlbSA9IHtcbiAgaWQ/OiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgc3VtbWFyeT86IHN0cmluZyB8IG51bGw7XG4gIHRyYWl0cz86IGFueSB8IG51bGw7XG4gIGltYWdlcz86IHN0cmluZ1tdIHwgbnVsbDtcbiAgY3JlYXRlZEF0Pzogc3RyaW5nO1xuICB1cGRhdGVkQXQ/OiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiBwYXJzZVN1cGFiYXNlUHVibGljVXJsKHVybDogc3RyaW5nKTogeyBidWNrZXQ6IHN0cmluZzsgcGF0aDogc3RyaW5nIH0gfCBudWxsIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpZHggPSB1cmwuaW5kZXhPZignL3N0b3JhZ2UvdjEvb2JqZWN0L3B1YmxpYy8nKTtcbiAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcmVzdCA9IHVybC5zbGljZShpZHggKyAnL3N0b3JhZ2UvdjEvb2JqZWN0L3B1YmxpYy8nLmxlbmd0aCk7XG4gICAgY29uc3QgZmlyc3RTbGFzaCA9IHJlc3QuaW5kZXhPZignLycpO1xuICAgIGlmIChmaXJzdFNsYXNoID09PSAtMSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgYnVja2V0ID0gcmVzdC5zbGljZSgwLCBmaXJzdFNsYXNoKTtcbiAgICBjb25zdCBwYXRoID0gcmVzdC5zbGljZShmaXJzdFNsYXNoICsgMSk7XG4gICAgaWYgKCFidWNrZXQgfHwgIXBhdGgpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7IGJ1Y2tldCwgcGF0aCB9O1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gV29ybGRTZXR0aW5nc01hbmFnZXIoeyBwcm9qZWN0SWQgfTogeyBwcm9qZWN0SWQ6IHN0cmluZyB9KSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gdXNlU3VwYWJhc2UoKTtcbiAgY29uc3QgYXBpID0gdXNlTWVtbygoKSA9PiBjcmVhdGVBcGkoc3VwYWJhc2UpLCBbc3VwYWJhc2VdKTtcblxuICBjb25zdCBbaXRlbXMsIHNldEl0ZW1zXSA9IHVzZVN0YXRlPFdvcmxkSXRlbVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZmlsdGVyLCBzZXRGaWx0ZXJdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthY3RpdmVJZCwgc2V0QWN0aXZlSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgXCJfX25ld19fXCIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RlbGV0aW5nLCBzZXREZWxldGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0b2FzdCwgc2V0VG9hc3RdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IHRvYXN0VGltZXIgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbZm9ybSwgc2V0Rm9ybV0gPSB1c2VTdGF0ZTxXb3JsZEl0ZW0+KHsgbmFtZTogXCJcIiB9KTtcbiAgY29uc3QgW3RyYWl0cywgc2V0VHJhaXRzXSA9IHVzZVN0YXRlPGFueT4oe30pO1xuICBjb25zdCBbdXBsb2FkaW5nLCBzZXRVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdXBsb2FkU3RhdHVzLCBzZXRVcGxvYWRTdGF0dXNdID0gdXNlU3RhdGU8J2lkbGUnfCd1cGxvYWRpbmcnfCd1cGxvYWRlZCd8J2Vycm9yJz4oJ2lkbGUnKTtcbiAgY29uc3QgZHJvcFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGNhY2hlS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fd29ybGRgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGFjdGl2ZUtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X3dvcmxkX2FjdGl2ZWAsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgW2hhc0NhY2hlLCBzZXRIYXNDYWNoZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGl0ZW1zUmVmID0gdXNlUmVmPFdvcmxkSXRlbVtdPihpdGVtcyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNhY2hlS2V5KSA6IG51bGw7XG4gICAgICBpZiAocykge1xuICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKHMpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICAgICAgc2V0SXRlbXMoYXJyIGFzIFdvcmxkSXRlbVtdKTtcbiAgICAgICAgICBjb25zdCB2YWxpZCA9IChhcnIgYXMgYW55W10pLmxlbmd0aCA+IDA7XG4gICAgICAgICAgc2V0SGFzQ2FjaGUodmFsaWQpO1xuICAgICAgICAgIGlmICh2YWxpZCkgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjYWNoZUtleV0pO1xuXG4gIGNvbnN0IG5vdGlmeSA9IChtc2c6IHN0cmluZykgPT4ge1xuICAgIGlmICh0b2FzdFRpbWVyLmN1cnJlbnQpIGNsZWFyVGltZW91dCh0b2FzdFRpbWVyLmN1cnJlbnQpO1xuICAgIHNldFRvYXN0KG1zZyk7XG4gICAgdG9hc3RUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdChcIlwiKSwgMjUwMCk7XG4gIH07XG5cbiAgY29uc3Qgb25VcGxvYWRGaWxlcyA9IHVzZUNhbGxiYWNrKGFzeW5jIChmaWxlczogRmlsZVtdKSA9PiB7XG4gICAgaWYgKCFmaWxlcyB8fCBmaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBzZXRVcGxvYWRpbmcodHJ1ZSk7XG4gICAgc2V0VXBsb2FkU3RhdHVzKCd1cGxvYWRpbmcnKTtcbiAgICBjb25zdCBzdGFydEltYWdlcyA9IChmb3JtLmltYWdlcyB8fCBbXSkgYXMgc3RyaW5nW107XG4gICAgY29uc3QgbmV3VXJsczogc3RyaW5nW10gPSBbXTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYnVja2V0ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfV09STERfQlVDS0VUXG4gICAgICAgIHx8IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0lNQUdFX0JVQ0tFVFxuICAgICAgICB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9CVUNLRVRcbiAgICAgICAgfHwgXCJ3b3JsZC1pbWFnZXNcIjtcbiAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoJy4nKS5wb3AoKSB8fCAnanBnJztcbiAgICAgICAgY29uc3QgcGF0aCA9IGAke3Byb2plY3RJZH0vJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpfS4ke2V4dH1gO1xuICAgICAgICB0cnkgeyBjb25zb2xlLmRlYnVnKCdTdXBhYmFzZSB3b3JsZCB1cGxvYWQgc3RhcnQnLCB7IGJ1Y2tldCwgcGF0aCwgZmlsZTogeyBuYW1lOiBmaWxlLm5hbWUsIHR5cGU6IGZpbGUudHlwZSwgc2l6ZTogZmlsZS5zaXplIH0gfSk7IH0gY2F0Y2gge31cbiAgICAgICAgY29uc3QgeyBlcnJvcjogdXBFcnIgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2UuZnJvbShidWNrZXQpLnVwbG9hZChwYXRoLCBmaWxlLCB7IHVwc2VydDogdHJ1ZSwgY29udGVudFR5cGU6IGZpbGUudHlwZSB9KTtcbiAgICAgICAgaWYgKHVwRXJyKSB0aHJvdyB1cEVycjtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBzdXBhYmFzZS5zdG9yYWdlLmZyb20oYnVja2V0KS5nZXRQdWJsaWNVcmwocGF0aCk7XG4gICAgICAgIGNvbnN0IHVybCA9IGRhdGEucHVibGljVXJsO1xuICAgICAgICBuZXdVcmxzLnB1c2godXJsKTtcbiAgICAgICAgc2V0Rm9ybSgoZikgPT4gKHsgLi4uZiwgaW1hZ2VzOiBbIC4uLihmLmltYWdlcyB8fCBbXSksIHVybCBdIH0pKTtcbiAgICAgICAgdHJ5IHsgY29uc29sZS5kZWJ1ZygnU3VwYWJhc2Ugd29ybGQgdXBsb2FkIGRvbmUnLCB7IHVybCB9KTsgfSBjYXRjaCB7fVxuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXh0SW1hZ2VzID0gWy4uLnN0YXJ0SW1hZ2VzLCAuLi5uZXdVcmxzXTtcbiAgICAgIGlmIChhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBuYW1lID0gKGZvcm0ubmFtZSAmJiBmb3JtLm5hbWUudHJpbSgpKSB8fCAnVW50aXRsZWQgV29ybGQnO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IG5hbWUsIHN1bW1hcnk6IGZvcm0uc3VtbWFyeSB8fCB1bmRlZmluZWQsIHRyYWl0cywgaW1hZ2VzOiBuZXh0SW1hZ2VzIH0gYXMgYW55O1xuICAgICAgICAgIHRyeSB7IGNvbnNvbGUuZGVidWcoJ0F1dG8tY3JlYXRpbmcgd29ybGQgYWZ0ZXIgYmF0Y2ggdXBsb2FkJywgeyBuYW1lLCBpbWFnZXNDb3VudDogbmV4dEltYWdlcy5sZW5ndGggfSk7IH0gY2F0Y2gge31cbiAgICAgICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgYXBpLmNyZWF0ZVdvcmxkU2V0dGluZyhwcm9qZWN0SWQsIHBheWxvYWQpO1xuICAgICAgICAgIHNldEl0ZW1zKChwcmV2KSA9PiBbLi4ucHJldiwgY3JlYXRlZF0pO1xuICAgICAgICAgIHNldEFjdGl2ZUlkKGNyZWF0ZWQuaWQpO1xuICAgICAgICAgIHRyeSB7IGNvbnNvbGUuZGVidWcoJ0F1dG8tY3JlYXRlZCB3b3JsZCcsIHsgaWQ6IGNyZWF0ZWQuaWQgfSk7IH0gY2F0Y2gge31cbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgbm90aWZ5KGU/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgd29ybGQgZW50cnknKTtcbiAgICAgICAgICB0cnkgeyBjb25zb2xlLmVycm9yKCdBdXRvLWNyZWF0ZSB3b3JsZCBmYWlsZWQnLCBlKTsgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUlkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdHJ5IHsgY29uc29sZS5kZWJ1ZygnUGVyc2lzdGluZyB3b3JsZCBpbWFnZXMgKGJhdGNoKScsIHsgd3NJZDogYWN0aXZlSWQsIGNvdW50OiBuZXh0SW1hZ2VzLmxlbmd0aCB9KTsgfSBjYXRjaCB7fVxuICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS51cGRhdGVXb3JsZFNldHRpbmcocHJvamVjdElkLCBhY3RpdmVJZCwgeyBpbWFnZXM6IG5leHRJbWFnZXMgfSk7XG4gICAgICAgICAgc2V0SXRlbXMoKHByZXYpID0+IHByZXYubWFwKCh4KSA9PiAoeC5pZCA9PT0gcmVzLmlkID8gcmVzIDogeCkpKTtcbiAgICAgICAgICB0cnkgeyBjb25zb2xlLmRlYnVnKCdQZXJzaXN0ZWQgd29ybGQgaW1hZ2VzIG9rJywgeyBpZDogcmVzLmlkIH0pOyB9IGNhdGNoIHt9XG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgIG5vdGlmeShlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gcGVyc2lzdCBpbWFnZXMnKTtcbiAgICAgICAgICB0cnkgeyBjb25zb2xlLmVycm9yKCdQZXJzaXN0aW5nIHdvcmxkIGltYWdlcyBmYWlsZWQnLCBlKTsgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub3RpZnkoJ0ltYWdlKHMpIHVwbG9hZGVkJyk7XG4gICAgICBzZXRVcGxvYWRTdGF0dXMoJ3VwbG9hZGVkJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdHJ5IHsgc2V0VXBsb2FkU3RhdHVzKCdpZGxlJyk7IH0gY2F0Y2gge30gfSwgMjAwMCk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBub3RpZnkoZT8ubWVzc2FnZSB8fCAnVXBsb2FkIGZhaWxlZCcpO1xuICAgICAgdHJ5IHsgY29uc29sZS5lcnJvcignV29ybGQgdXBsb2FkIGZhaWxlZCcsIGUpOyB9IGNhdGNoIHt9XG4gICAgICBzZXRVcGxvYWRTdGF0dXMoJ2Vycm9yJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFVwbG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbcHJvamVjdElkLCBzdXBhYmFzZSwgYWN0aXZlSWQsIGFwaSwgZm9ybSwgdHJhaXRzXSk7XG5cbiAgLy8gRHJhZyAmIGRyb3AgaGFuZGxlcnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlbCA9IGRyb3BSZWYuY3VycmVudDtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgY29uc3Qgb25Ecm9wID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUuZGF0YVRyYW5zZmVyPy5maWxlcyB8fCBbXSk7XG4gICAgICBpZiAoZmlsZXMubGVuZ3RoKSB7IChhc3luYyAoKSA9PiB7IGF3YWl0IG9uVXBsb2FkRmlsZXMoZmlsZXMgYXMgRmlsZVtdKTsgfSkoKTsgfVxuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShcInJpbmctMlwiLCBcInJpbmctYmx1ZS01MDBcIik7XG4gICAgfTtcbiAgICBjb25zdCBvbkRyYWcgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKFwicmluZy0yXCIsIFwicmluZy1ibHVlLTUwMFwiKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uTGVhdmUgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFwicmluZy0yXCIsIFwicmluZy1ibHVlLTUwMFwiKTtcbiAgICB9O1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIG9uRHJvcCBhcyBhbnkpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBvbkRyYWcgYXMgYW55KTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsIG9uTGVhdmUgYXMgYW55KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgb25Ecm9wIGFzIGFueSk7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgb25EcmFnIGFzIGFueSk7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsIG9uTGVhdmUgYXMgYW55KTtcbiAgICB9O1xuICB9LCBbb25VcGxvYWRGaWxlc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoaGFzQ2FjaGUpIHsgcmV0dXJuOyB9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWhhc0NhY2hlKSBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkubGlzdFdvcmxkU2V0dGluZ3MocHJvamVjdElkKTtcbiAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG5leHQgPSByZXMgfHwgW107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGhhc0NhY2hlICYmIEpTT04uc3RyaW5naWZ5KG5leHQpID09PSBKU09OLnN0cmluZ2lmeShpdGVtc1JlZi5jdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICBzZXRJdGVtcyhuZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgc2V0RXJyb3IoZT8ubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBsb2FkIHdvcmxkIHNldHRpbmdzXCIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuICgpID0+IHsgbW91bnRlZCA9IGZhbHNlOyB9O1xuICB9LCBbYXBpLCBwcm9qZWN0SWQsIGhhc0NhY2hlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oY2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KGl0ZW1zKSk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbaXRlbXMsIGNhY2hlS2V5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgaXRlbXNSZWYuY3VycmVudCA9IGl0ZW1zOyB9LCBbaXRlbXNdKTtcblxuICAvLyBSZXN0b3JlL3BlcnNpc3QgbGFzdCBhY3RpdmUgc2VsZWN0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHYgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhY3RpdmVLZXkpIDogbnVsbDtcbiAgICAgIGlmICh2KSBzZXRBY3RpdmVJZCh2IGFzIGFueSk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbYWN0aXZlS2V5XSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChhY3RpdmVJZCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGFjdGl2ZUtleSwgYWN0aXZlSWQpO1xuICAgIH0gY2F0Y2gge31cbiAgfSwgW2FjdGl2ZUlkLCBhY3RpdmVLZXldKTtcblxuICAvLyBSZWZsZWN0IGNoYXQtZHJpdmVuIHVwc2VydHMgaW5zdGFudGx5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gb25VcHNlcnQoZXY6IEV2ZW50KSB7XG4gICAgICBjb25zdCBjZSA9IGV2IGFzIEN1c3RvbUV2ZW50O1xuICAgICAgY29uc3QgaXRlbSA9IGNlPy5kZXRhaWw/Lml0ZW0gYXMgYW55O1xuICAgICAgaWYgKCFpdGVtIHx8ICFpdGVtLmlkKSByZXR1cm47XG4gICAgICBzZXRJdGVtcygocHJldikgPT4ge1xuICAgICAgICBjb25zdCBpZHggPSBwcmV2LmZpbmRJbmRleCgoeCkgPT4geC5pZCA9PT0gaXRlbS5pZCk7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICAgICAgbmV4dFtpZHhdID0geyAuLi5uZXh0W2lkeF0sIC4uLml0ZW0gfSBhcyBhbnk7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCBpdGVtXTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGFjdGl2ZUlkID09PSBpdGVtLmlkKSB7XG4gICAgICAgIHNldEZvcm0oeyBpZDogaXRlbS5pZCwgbmFtZTogaXRlbS5uYW1lLCBzdW1tYXJ5OiBpdGVtLnN1bW1hcnkgfHwgXCJcIiwgdHJhaXRzOiBpdGVtLnRyYWl0cyB8fCBudWxsLCBpbWFnZXM6IChpdGVtIGFzIGFueSkuaW1hZ2VzIHx8IFtdIH0pO1xuICAgICAgICBzZXRUcmFpdHMoaXRlbS50cmFpdHMgfHwge30pO1xuICAgICAgfVxuICAgICAgbm90aWZ5KCdXb3JsZCBlbnRyeSB1cGRhdGVkIHZpYSBjaGF0Jyk7XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6d29ybGQtdXBzZXJ0Jywgb25VcHNlcnQgYXMgYW55KTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dvcmtzcGFjZTp3b3JsZC11cHNlcnQnLCBvblVwc2VydCBhcyBhbnkpO1xuICB9LCBbYWN0aXZlSWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlSWQpIHJldHVybjtcbiAgICBpZiAoYWN0aXZlSWQgPT09IFwiX19uZXdfX1wiKSB7XG4gICAgICBzZXRGb3JtKHsgbmFtZTogXCJcIiwgaW1hZ2VzOiBbXSB9KTtcbiAgICAgIHNldFRyYWl0cyh7fSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGl0ID0gaXRlbXMuZmluZCgoeCkgPT4geC5pZCA9PT0gYWN0aXZlSWQpO1xuICAgIGlmICghaXQpIHJldHVybjtcbiAgICBzZXRGb3JtKHsgaWQ6IGl0LmlkLCBuYW1lOiBpdC5uYW1lLCBzdW1tYXJ5OiBpdC5zdW1tYXJ5IHx8IFwiXCIsIHRyYWl0czogaXQudHJhaXRzIHx8IG51bGwsIGltYWdlczogKGl0IGFzIGFueSkuaW1hZ2VzIHx8IFtdIH0pO1xuICAgIHNldFRyYWl0cyhpdC50cmFpdHMgfHwge30pO1xuICB9LCBbYWN0aXZlSWQsIGl0ZW1zXSk7XG5cbiAgY29uc3QgZmlsdGVyZWQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBxID0gZmlsdGVyLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghcSkgcmV0dXJuIGl0ZW1zO1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoKHgpID0+ICh4Lm5hbWUgfHwgXCJcIikudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSk7XG4gIH0sIFtpdGVtcywgZmlsdGVyXSk7XG5cbiAgLy8gbm90aWZ5IG1vdmVkIGVhcmxpZXIgc28gaXQncyBhdmFpbGFibGUgdG8gdXBsb2Fkc1xuXG4gIGNvbnN0IG9uTmV3ID0gKCkgPT4ge1xuICAgIHNldEFjdGl2ZUlkKFwiX19uZXdfX1wiKTtcbiAgICBzZXRGb3JtKHsgbmFtZTogXCJcIiwgaW1hZ2VzOiBbXSB9KTtcbiAgICBzZXRUcmFpdHMoe30pO1xuICB9O1xuXG4gIC8vIFRyYWl0cyBoZWxwZXJzXG4gIGNvbnN0IGNsb25lID0gKG86IGFueSkgPT4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvID8/IHt9KSk7XG4gIGNvbnN0IHNldFZhbCA9IChwYXRoOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgdmFsOiBhbnkpID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSByZWYgPSByZWZbcGF0aFtpXV07XG4gICAgICByZWZbcGF0aFtwYXRoLmxlbmd0aCAtIDFdXSA9IHZhbDtcbiAgICAgIHJldHVybiBueHQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGRlbEtleSA9IChwYXRoVG9QYXJlbnQ6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBrZXk6IHN0cmluZ3xudW1iZXIpID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhUb1BhcmVudC5sZW5ndGg7IGkrKykgcmVmID0gcmVmW3BhdGhUb1BhcmVudFtpXV07XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWYpICYmIHR5cGVvZiBrZXkgPT09ICdudW1iZXInKSByZWYuc3BsaWNlKGtleSwgMSk7XG4gICAgICBlbHNlIGlmIChyZWYgJiYgdHlwZW9mIHJlZiA9PT0gJ29iamVjdCcpIGRlbGV0ZSByZWZba2V5IGFzIGFueV07XG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCByZW5hbWVLZXkgPSAocGF0aFRvUGFyZW50OiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgb2xkS2V5OiBzdHJpbmcsIG5ld0tleTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFuZXdLZXkpIHJldHVybjtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhUb1BhcmVudC5sZW5ndGg7IGkrKykgcmVmID0gcmVmW3BhdGhUb1BhcmVudFtpXV07XG4gICAgICBpZiAoIXJlZiB8fCB0eXBlb2YgcmVmICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJlZikpIHJldHVybiBueHQ7XG4gICAgICBpZiAob2xkS2V5ID09PSBuZXdLZXkpIHJldHVybiBueHQ7XG4gICAgICBjb25zdCB2YWwgPSByZWZbb2xkS2V5XTtcbiAgICAgIGRlbGV0ZSByZWZbb2xkS2V5XTtcbiAgICAgIHJlZltuZXdLZXldID0gdmFsO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgYWRkQ2hpbGQgPSAocGF0aFRvT2JqOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgZGVwdGg6IG51bWJlcikgPT4ge1xuICAgIGlmIChkZXB0aCA+PSA1KSByZXR1cm47XG4gICAgc2V0VHJhaXRzKChjdXJyOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG54dCA9IGNsb25lKGN1cnIpO1xuICAgICAgbGV0IHJlZjogYW55ID0gbnh0O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoVG9PYmoubGVuZ3RoOyBpKyspIHJlZiA9IHJlZltwYXRoVG9PYmpbaV1dO1xuICAgICAgaWYgKCFyZWYgfHwgdHlwZW9mIHJlZiAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShyZWYpKSByZXR1cm4gbnh0O1xuICAgICAgbGV0IGJhc2UgPSAna2V5JzsgbGV0IGkyID0gMTsgbGV0IGtleSA9IGJhc2U7XG4gICAgICB3aGlsZSAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlZiwga2V5KSkgeyBrZXkgPSBgJHtiYXNlfS0ke2kyKyt9YDsgfVxuICAgICAgcmVmW2tleV0gPSBcIlwiO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgYWRkUm9vdEtleSA9ICgpID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgYmFzZSA9ICdrZXknOyBsZXQgaSA9IDE7IGxldCBrID0gYmFzZTtcbiAgICAgIHdoaWxlIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobnh0LCBrKSkgeyBrID0gYCR7YmFzZX0tJHtpKyt9YDsgfVxuICAgICAgKG54dCBhcyBhbnkpW2tdID0gXCJcIjtcbiAgICAgIHJldHVybiBueHQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGNvbnZlcnRUeXBlID0gKHBhdGg6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBwYXJlbnRQYXRoOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwga2V5OiBzdHJpbmcsIG5leHRUeXBlOiAnc3RyaW5nJ3wnb2JqZWN0J3wnYXJyYXknLCBkZXB0aDogbnVtYmVyKSA9PiB7XG4gICAgc2V0VHJhaXRzKChjdXJyOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG54dCA9IGNsb25lKGN1cnIpO1xuICAgICAgbGV0IHJlZjogYW55ID0gbnh0O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnRQYXRoLmxlbmd0aDsgaSsrKSByZWYgPSByZWZbcGFyZW50UGF0aFtpXV07XG4gICAgICBpZiAoIXJlZiB8fCB0eXBlb2YgcmVmICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJlZikpIHJldHVybiBueHQ7XG4gICAgICBpZiAobmV4dFR5cGUgPT09ICdzdHJpbmcnKSByZWZba2V5XSA9IFwiXCI7XG4gICAgICBlbHNlIGlmIChuZXh0VHlwZSA9PT0gJ29iamVjdCcpIHJlZltrZXldID0gZGVwdGggPj0gNSA/IFwiXCIgOiB7fTtcbiAgICAgIGVsc2UgaWYgKG5leHRUeXBlID09PSAnYXJyYXknKSByZWZba2V5XSA9IFtdIGFzIHN0cmluZ1tdO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgYWRkQXJyYXlJdGVtID0gKHBhdGhUb0FycjogQXJyYXk8c3RyaW5nfG51bWJlcj4pID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhUb0Fyci5sZW5ndGg7IGkrKykgcmVmID0gcmVmW3BhdGhUb0FycltpXV07XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWYpKSByZWYucHVzaChcIlwiKTtcbiAgICAgIHJldHVybiBueHQ7XG4gICAgfSk7XG4gIH07XG5cbiAgKFRyYWl0T2JqZWN0IGFzIGFueSkuX3BhcmVudCA9IHtcbiAgICBzZXRWYWwsIGRlbEtleSwgcmVuYW1lS2V5LCBhZGRDaGlsZCwgY29udmVydFR5cGUsIGFkZEFycmF5SXRlbSxcbiAgfSBhcyBUcmFpdEN0eDtcblxuICBjb25zdCBvblNhdmUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFmb3JtLm5hbWUudHJpbSgpKSB7XG4gICAgICBub3RpZnkoXCJOYW1lIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IG5hbWU6IGZvcm0ubmFtZS50cmltKCksIHN1bW1hcnk6IGZvcm0uc3VtbWFyeSB8fCB1bmRlZmluZWQsIHRyYWl0cywgaW1hZ2VzOiBmb3JtLmltYWdlcyB8fCBbXSB9O1xuICAgICAgaWYgKGFjdGl2ZUlkID09PSBcIl9fbmV3X19cIikge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuY3JlYXRlV29ybGRTZXR0aW5nKHByb2plY3RJZCwgcGF5bG9hZCk7XG4gICAgICAgIHNldEl0ZW1zKChwcmV2KSA9PiBbLi4ucHJldiwgcmVzXSk7XG4gICAgICAgIHNldEFjdGl2ZUlkKHJlcy5pZCk7XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUlkKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS51cGRhdGVXb3JsZFNldHRpbmcocHJvamVjdElkLCBhY3RpdmVJZCwgcGF5bG9hZCk7XG4gICAgICAgIHNldEl0ZW1zKChwcmV2KSA9PiBwcmV2Lm1hcCgoeCkgPT4gKHguaWQgPT09IHJlcy5pZCA/IHJlcyA6IHgpKSk7XG4gICAgICB9XG4gICAgICBub3RpZnkoXCJTYXZlZFwiKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIG5vdGlmeShlPy5tZXNzYWdlIHx8IFwiU2F2ZSBmYWlsZWRcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uRGVsZXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghYWN0aXZlSWQgfHwgYWN0aXZlSWQgPT09IFwiX19uZXdfX1wiKSByZXR1cm47XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgaWYgKCFjb25maXJtKFwiRGVsZXRlIHRoaXMgd29ybGQgZW50cnk/XCIpKSByZXR1cm47XG4gICAgc2V0RGVsZXRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaS5kZWxldGVXb3JsZFNldHRpbmcocHJvamVjdElkLCBhY3RpdmVJZCk7XG4gICAgICBzZXRJdGVtcygocHJldikgPT4gcHJldi5maWx0ZXIoKHgpID0+IHguaWQgIT09IGFjdGl2ZUlkKSk7XG4gICAgICBzZXRBY3RpdmVJZChudWxsKTtcbiAgICAgIHNldEZvcm0oeyBuYW1lOiBcIlwiLCBpbWFnZXM6IFtdIH0pO1xuICAgICAgc2V0VHJhaXRzKHt9KTtcbiAgICAgIG5vdGlmeShcIkRlbGV0ZWRcIik7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBub3RpZnkoZT8ubWVzc2FnZSB8fCBcIkRlbGV0ZSBmYWlsZWRcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldERlbGV0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY291bnQgPSBpdGVtcy5sZW5ndGg7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBncmlkIGdyaWQtcm93cy1bYXV0b18xZnJdXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ib3JkZXItZGVmYXVsdCBweC02IHB5LTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+V29ybGQgU2V0dGluZ3M8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+e2NvdW50fSBJdGVtczwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25OZXd9IGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBob3Zlcjpib3JkZXItYWNjZW50IGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBweC00IHB5LTMgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCBob3ZlcjotdHJhbnNsYXRlLXktMC41XCI+XG4gICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgIE5ldyBFbnRyeVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLTAgZ3JpZFwiIHN0eWxlPXt7IGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMzUlIDY1JVwiIH19PlxuICAgICAgICA8YXNpZGUgY2xhc3NOYW1lPVwiYm9yZGVyLXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IG1pbi1oLTAgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17ZmlsdGVyfSBvbkNoYW5nZT17KGUpID0+IHNldEZpbHRlcihlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiU2VhcmNoIHdvcmxkIHNldHRpbmdzXCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHBsLTkgcHItMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnRcIiAvPlxuICAgICAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT1cInctNCBoLTQgYWJzb2x1dGUgbGVmdC0zIHRvcC0zIHRleHQtdGV4dC10ZXJ0aWFyeVwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcHgtMyBwYi0zXCI+XG4gICAgICAgICAgICB7bG9hZGluZyAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXNlY29uZGFyeSBweC0yIHB5LTJcIj5Mb2FkaW5n4oCmPC9kaXY+fVxuICAgICAgICAgICAge2Vycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXJlZC00MDAgcHgtMiBweS0yIGJnLXJlZC05NTAvMjAgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLXJlZC01MDAvMjBcIj57ZXJyb3J9PC9kaXY+fVxuICAgICAgICAgICAgeyFsb2FkaW5nICYmICFmaWx0ZXJlZC5sZW5ndGggJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEwIHRleHQtY2VudGVyIHRleHQtdGV4dC10ZXJ0aWFyeSB0ZXh0LXNtXCI+Tm8gd29ybGQgc2V0dGluZ3MgeWV0LiBDcmVhdGUgeW91ciBmaXJzdCBlbnRyeSE8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7ZmlsdGVyZWQubWFwKCh3KSA9PiAoXG4gICAgICAgICAgICAgIDxidXR0b24ga2V5PXt3LmlkfSBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVJZCh3LmlkISl9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0zIHJvdW5kZWQtbWQgbWItMiB0cmFuc2l0aW9uLWFsbFwiLCBhY3RpdmVJZD09PXcuaWQgPyBcImJvcmRlci1sLTIgYm9yZGVyLWJsdWUtNTAwIGJnLWJnLWVsZXZhdGVkXCIgOiBcImhvdmVyOmJnLWJnLWhvdmVyXCIpIH0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC10ZXh0LXByaW1hcnkgdHJ1bmNhdGVcIj57dy5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHRydW5jYXRlXCI+e3cuc3VtbWFyeSB8fCBcIlwifTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvYXNpZGU+XG5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwibWluLWgtMCBvdmVyZmxvdy15LWF1dG8gcC02XCIgYXJpYS1sYWJlbD1cIldvcmxkIGRldGFpbHNcIj5cbiAgICAgICAgICB7YWN0aXZlSWQgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPXtkcm9wUmVmfSBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLXN0YXJ0IG1iLTIgcC0zIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1lbGV2YXRlZCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgbWItMlwiPldvcmxkIEltYWdlczwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJweC0zIHB5LTIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLXByaW1hcnkgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8VXBsb2FkIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIFVwbG9hZCBJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGFjY2VwdD1cImltYWdlLypcIiBtdWx0aXBsZSBjbGFzc05hbWU9XCJoaWRkZW5cIiBvbkNoYW5nZT17KGUpID0+IHsgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzIHx8IFtdKTsgaWYgKGZpbGVzLmxlbmd0aCkgeyAoYXN5bmMgKCkgPT4geyBhd2FpdCBvblVwbG9hZEZpbGVzKGZpbGVzIGFzIEZpbGVbXSk7IH0pKCk7IH0gfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAge3VwbG9hZGluZyAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxMb2FkZXIyIGNsYXNzTmFtZT1cInctMyBoLTMgYW5pbWF0ZS1zcGluXCIgLz4gVXBsb2FkaW5n4oCmPC9kaXY+fVxuICAgICAgICAgICAgICAgICAgICB7dXBsb2FkU3RhdHVzID09PSAndXBsb2FkZWQnICYmICF1cGxvYWRpbmcgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JlZW4tNDAwXCI+VXBsb2FkZWQ8L2Rpdj59XG4gICAgICAgICAgICAgICAgICAgIHt1cGxvYWRTdGF0dXMgPT09ICdlcnJvcicgJiYgIXVwbG9hZGluZyAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNDAwXCI+VXBsb2FkIGZhaWxlZDwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIG92ZXJmbG93LXgtYXV0byB3LWZ1bGwgcGItMVwiPlxuICAgICAgICAgICAgICAgICAgICB7KGZvcm0uaW1hZ2VzIHx8IFtdKS5tYXAoKHVybCwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwicmVsYXRpdmUgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIG92ZXJmbG93LWhpZGRlbiBiZy1iZy1wcmltYXJ5IGZsZXgtbm9uZSB3LTI0IGgtMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXt1cmx9IGFsdD1cIndvcmxkXCIgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMSByaWdodC0xIGJnLWJsYWNrLzYwIHRleHQtd2hpdGUgcm91bmRlZCBwLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlJlbW92ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVkVXJsID0gKGZvcm0uaW1hZ2VzIHx8IFtdKVtpZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRJbWFnZXM6IHN0cmluZ1tdID0gKGZvcm0uaW1hZ2VzIHx8IFtdKS5maWx0ZXIoKF8saSk9PmkhPT1pZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEZvcm0oKGYpPT4gKHsgLi4uZiwgaW1hZ2VzOiBuZXh0SW1hZ2VzIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlSWQgJiYgYWN0aXZlSWQgIT09IFwiX19uZXdfX1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkudXBkYXRlV29ybGRTZXR0aW5nKHByb2plY3RJZCwgYWN0aXZlSWQsIHsgaW1hZ2VzOiBuZXh0SW1hZ2VzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtcygocHJldikgPT4gcHJldi5tYXAoKHgpID0+ICh4LmlkID09PSByZXMuaWQgPyByZXMgOiB4KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnkoJ0ltYWdlIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSByZW1vdmVkVXJsID8gcGFyc2VTdXBhYmFzZVB1YmxpY1VybChyZW1vdmVkVXJsKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCkgeyBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlLmZyb20ocGFyc2VkLmJ1Y2tldCkucmVtb3ZlKFtwYXJzZWQucGF0aF0pOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnkoZT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHBlcnNpc3QgcmVtb3ZhbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIHshKGZvcm0uaW1hZ2VzIHx8IFtdKS5sZW5ndGggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnlcIj5ObyBpbWFnZXMgeWV0LiBVcGxvYWQgb3IgZHJvcCBoZXJlLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5OYW1lPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtmb3JtLm5hbWV9IG9uQ2hhbmdlPXsoZSk9PnNldEZvcm0oKGYpPT4oeyAuLi5mLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KSl9IGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiIC8+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlN1bW1hcnk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgdmFsdWU9e2Zvcm0uc3VtbWFyeSB8fCBcIlwifSBvbkNoYW5nZT17KGUpPT5zZXRGb3JtKChmKT0+KHsgLi4uZiwgc3VtbWFyeTogZS50YXJnZXQudmFsdWUgfSkpfSByb3dzPXs1fSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdGV4dC1zbVwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMXB4XSB0ZXh0LXRleHQtdGVydGlhcnlcIj57KGZvcm0uc3VtbWFyeSB8fCBcIlwiKS5sZW5ndGh9IGNoYXJhY3RlcnM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlRyYWl0czwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXthZGRSb290S2V5fSBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC14cyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj48UGx1cyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQWRkIGtleTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAge09iamVjdC5rZXlzKHRyYWl0cyB8fCB7fSkubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5XCI+Tm8gdHJhaXRzIHlldC4gQWRkIGEga2V5LjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8VHJhaXRPYmplY3Qgb2JqPXt0cmFpdHN9IHBhdGg9e1tdfSBkZXB0aD17MX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHQtNFwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkRlbGV0ZX0gZGlzYWJsZWQ9eyFhY3RpdmVJZCB8fCBhY3RpdmVJZD09PVwiX19uZXdfX1wiIHx8IGRlbGV0aW5nfSBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDAgaG92ZXI6dGV4dC1yZWQtMzAwIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIERlbGV0ZSBFbnRyeVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBzZXRBY3RpdmVJZChudWxsKTsgfX0gY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25TYXZlfSBkaXNhYmxlZD17c2F2aW5nfSBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZC1tZCBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3NhdmluZyA/IDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgYW5pbWF0ZS1zcGluXCIgLz4gU2F2aW5n4oCmPC9zcGFuPiA6IFwiU2F2ZSBFbnRyeVwifVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0LXRlcnRpYXJ5XCI+U2VsZWN0IGEgd29ybGQgZW50cnkgb3IgY3JlYXRlIGEgbmV3IG9uZS48L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3RvYXN0ICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtNCByaWdodC00IHotNTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyByb3VuZGVkLWxnIGJnLWJnLWVsZXZhdGVkIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBzaGFkb3ctZWxldmF0aW9uXCI+e3RvYXN0fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIE5lc3RlZCB0cmFpdHMgZWRpdG9yIChzYW1lIGJlaGF2aW9yIGFzIENoYXJhY3Rlck1hbmFnZXIpXG50eXBlIFRyYWl0Q3R4ID0ge1xuICBzZXRWYWw6IChwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgdjogYW55KSA9PiB2b2lkO1xuICBkZWxLZXk6IChwcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIGs6IGFueSkgPT4gdm9pZDtcbiAgcmVuYW1lS2V5OiAocHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBvbGRLOiBzdHJpbmcsIG5ld0s6IHN0cmluZykgPT4gdm9pZDtcbiAgYWRkQ2hpbGQ6IChwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgZDogbnVtYmVyKSA9PiB2b2lkO1xuICBjb252ZXJ0VHlwZTogKHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBwcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIGs6IHN0cmluZywgdDogJ3N0cmluZyd8J29iamVjdCd8J2FycmF5JywgZDogbnVtYmVyKSA9PiB2b2lkO1xuICBhZGRBcnJheUl0ZW06IChwOiBBcnJheTxzdHJpbmd8bnVtYmVyPikgPT4gdm9pZDtcbn07XG5cbmZ1bmN0aW9uIHVzZVdvcmxkQ3R4KCk6IFRyYWl0Q3R4IHtcbiAgcmV0dXJuIHtcbiAgICBzZXRWYWw6ICgpID0+IHt9LFxuICAgIGRlbEtleTogKCkgPT4ge30sXG4gICAgcmVuYW1lS2V5OiAoKSA9PiB7fSxcbiAgICBhZGRDaGlsZDogKCkgPT4ge30sXG4gICAgY29udmVydFR5cGU6ICgpID0+IHt9LFxuICAgIGFkZEFycmF5SXRlbTogKCkgPT4ge30sXG4gIH07XG59XG5cbmZ1bmN0aW9uIFRyYWl0T2JqZWN0KHsgb2JqLCBwYXRoLCBkZXB0aCB9OiB7IG9iajogYW55OyBwYXRoOiBBcnJheTxzdHJpbmd8bnVtYmVyPjsgZGVwdGg6IG51bWJlciB9KSB7XG4gIGNvbnN0IHBhcmVudDogVHJhaXRDdHggfCB1bmRlZmluZWQgPSAoVHJhaXRPYmplY3QgYXMgYW55KS5fcGFyZW50IGFzIFRyYWl0Q3R4IHwgdW5kZWZpbmVkO1xuICBjb25zdCBjdHg6IFRyYWl0Q3R4ID0gcGFyZW50IHx8IHVzZVdvcmxkQ3R4KCk7XG4gIChUcmFpdE9iamVjdCBhcyBhbnkpLl9wYXJlbnQgPSBjdHg7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmogfHwge30pO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICB7a2V5cy5tYXAoKGspID0+IChcbiAgICAgICAgPFRyYWl0Um93IGtleT17a30gaz17a30gdj17KG9iaiBhcyBhbnkpW2tdfSBwYXJlbnRQYXRoPXtwYXRofSBkZXB0aD17ZGVwdGh9IGN0eD17Y3R4fSAvPlxuICAgICAgKSl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFRyYWl0Um93KHsgaywgdiwgcGFyZW50UGF0aCwgZGVwdGgsIGN0eCB9OiB7IGs6IHN0cmluZzsgdjogYW55OyBwYXJlbnRQYXRoOiBBcnJheTxzdHJpbmd8bnVtYmVyPjsgZGVwdGg6IG51bWJlcjsgY3R4OiBUcmFpdEN0eCB9KSB7XG4gIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KHYpO1xuICBjb25zdCBpc09iamVjdCA9IHYgJiYgdHlwZW9mIHYgPT09ICdvYmplY3QnICYmICFpc0FycmF5O1xuICBjb25zdCB0eXBlOiAnc3RyaW5nJ3wnb2JqZWN0J3wnYXJyYXknID0gaXNBcnJheSA/ICdhcnJheScgOiAoaXNPYmplY3QgPyAnb2JqZWN0JyA6ICdzdHJpbmcnKTtcbiAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPihrKTtcbiAgdXNlRWZmZWN0KCgpID0+IHsgc2V0TmFtZShrKTsgfSwgW2tdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHAtMiBiZy1iZy1lbGV2YXRlZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB2YWx1ZT17bmFtZX1cbiAgICAgICAgICBvbkNoYW5nZT17KGUpPT5zZXROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICBvbkJsdXI9eygpPT57IGlmIChuYW1lICE9PSBrICYmIG5hbWUudHJpbSgpKSBjdHgucmVuYW1lS2V5KHBhcmVudFBhdGgsIGssIG5hbWUudHJpbSgpKTsgfX1cbiAgICAgICAgICBvbktleURvd249eyhlKT0+eyBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHsgKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmJsdXIoKTsgfSB9fVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwia2V5XCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LW5vbmUgdy00OCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC0yIHB5LTEuNSB0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50XCJcbiAgICAgICAgLz5cbiAgICAgICAgPHNlbGVjdCB2YWx1ZT17dHlwZX0gb25DaGFuZ2U9eyhlKT0+Y3R4LmNvbnZlcnRUeXBlKFsuLi5wYXJlbnRQYXRoLCBrXSwgcGFyZW50UGF0aCwgaywgZS50YXJnZXQudmFsdWUgYXMgYW55LCBkZXB0aCl9IGNsYXNzTmFtZT1cImZsZXgtbm9uZSB3LTI4IGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTIgcHktMS41IHRleHQtdGV4dC1wcmltYXJ5IHRleHQtc20gb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnRcIj5cbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic3RyaW5nXCI+U3RyaW5nPC9vcHRpb24+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9iamVjdFwiIGRpc2FibGVkPXtkZXB0aD49NX0+T2JqZWN0PC9vcHRpb24+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFycmF5XCI+QXJyYXk8L29wdGlvbj5cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIHt0eXBlPT09J3N0cmluZycgJiYgKFxuICAgICAgICAgIDxpbnB1dCB2YWx1ZT17U3RyaW5nKHYgfHwgJycpfSBvbkNoYW5nZT17KGUpPT5jdHguc2V0VmFsKFsuLi5wYXJlbnRQYXRoLCBrXSwgZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cInZhbHVlXCIgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTIgcHktMS41IHRleHQtdGV4dC1wcmltYXJ5IHRleHQtc20gb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnRcIiAvPlxuICAgICAgICApfVxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT5jdHguZGVsS2V5KHBhcmVudFBhdGgsIGspfSBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC1yZWQtNDAwIHRleHQtc20gbWwtYXV0b1wiPjxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICB7dHlwZT09PSdvYmplY3QnICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIG1sLTRcIj5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT5jdHguYWRkQ2hpbGQoWy4uLnBhcmVudFBhdGgsIGtdLCBkZXB0aCsxKX0gZGlzYWJsZWQ9e2RlcHRoPj01fSBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC14cyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj48UGx1cyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQWRkIGNoaWxkPC9idXR0b24+XG4gICAgICAgICAgPFRyYWl0T2JqZWN0IG9iaj17dn0gcGF0aD17Wy4uLnBhcmVudFBhdGgsIGtdfSBkZXB0aD17ZGVwdGgrMX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAge3R5cGU9PT0nYXJyYXknICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIG1sLTQgc3BhY2UteS0yXCI+XG4gICAgICAgICAgeyh2IGFzIHN0cmluZ1tdKS5tYXAoKGl0ZW0sIGlkeCkgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnlcIj5be2lkeH1dPC9zcGFuPlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e2l0ZW19IG9uQ2hhbmdlPXsoZSk9PmN0eC5zZXRWYWwoWy4uLnBhcmVudFBhdGgsIGssIGlkeF0sIGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9XCJ2YWx1ZVwiIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC0yIHB5LTEuNSB0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50XCIgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+Y3R4LmRlbEtleShbLi4ucGFyZW50UGF0aCwga10sIGlkeCl9IGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXJlZC00MDAgdGV4dC1zbVwiPjxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+Y3R4LmFkZEFycmF5SXRlbShbLi4ucGFyZW50UGF0aCwga10pfSBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC14cyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj48UGx1cyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQWRkIGl0ZW08L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlU3VwYWJhc2UiLCJjcmVhdGVBcGkiLCJMb2FkZXIyIiwiUGx1cyIsIlNlYXJjaCIsIlRyYXNoMiIsIlVwbG9hZCIsIlgiLCJjbGFzc05hbWVzIiwieHMiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsInBhcnNlU3VwYWJhc2VQdWJsaWNVcmwiLCJ1cmwiLCJpZHgiLCJpbmRleE9mIiwicmVzdCIsInNsaWNlIiwibGVuZ3RoIiwiZmlyc3RTbGFzaCIsImJ1Y2tldCIsInBhdGgiLCJXb3JsZFNldHRpbmdzTWFuYWdlciIsInByb2plY3RJZCIsInN1cGFiYXNlIiwiYXBpIiwiaXRlbXMiLCJzZXRJdGVtcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInNldEZpbHRlciIsImFjdGl2ZUlkIiwic2V0QWN0aXZlSWQiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJkZWxldGluZyIsInNldERlbGV0aW5nIiwidG9hc3QiLCJzZXRUb2FzdCIsInRvYXN0VGltZXIiLCJmb3JtIiwic2V0Rm9ybSIsIm5hbWUiLCJ0cmFpdHMiLCJzZXRUcmFpdHMiLCJ1cGxvYWRpbmciLCJzZXRVcGxvYWRpbmciLCJ1cGxvYWRTdGF0dXMiLCJzZXRVcGxvYWRTdGF0dXMiLCJkcm9wUmVmIiwiY2FjaGVLZXkiLCJhY3RpdmVLZXkiLCJoYXNDYWNoZSIsInNldEhhc0NhY2hlIiwiaXRlbXNSZWYiLCJzIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFyciIsIkpTT04iLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsInZhbGlkIiwibm90aWZ5IiwibXNnIiwiY3VycmVudCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvblVwbG9hZEZpbGVzIiwiZmlsZXMiLCJzdGFydEltYWdlcyIsImltYWdlcyIsIm5ld1VybHMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfV09STERfQlVDS0VUIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfSU1BR0VfQlVDS0VUIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQlVDS0VUIiwiZmlsZSIsImV4dCIsInNwbGl0IiwicG9wIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsImNvbnNvbGUiLCJkZWJ1ZyIsInR5cGUiLCJzaXplIiwidXBFcnIiLCJzdG9yYWdlIiwiZnJvbSIsInVwbG9hZCIsInVwc2VydCIsImNvbnRlbnRUeXBlIiwiZGF0YSIsImdldFB1YmxpY1VybCIsInB1YmxpY1VybCIsInB1c2giLCJmIiwibmV4dEltYWdlcyIsInRyaW0iLCJwYXlsb2FkIiwic3VtbWFyeSIsInVuZGVmaW5lZCIsImltYWdlc0NvdW50IiwiY3JlYXRlZCIsImNyZWF0ZVdvcmxkU2V0dGluZyIsInByZXYiLCJpZCIsImUiLCJtZXNzYWdlIiwid3NJZCIsImNvdW50IiwicmVzIiwidXBkYXRlV29ybGRTZXR0aW5nIiwibWFwIiwieCIsImVsIiwib25Ecm9wIiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJvbkRyYWciLCJhZGQiLCJvbkxlYXZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJtb3VudGVkIiwibGlzdFdvcmxkU2V0dGluZ3MiLCJuZXh0Iiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsInYiLCJvblVwc2VydCIsImV2IiwiY2UiLCJpdGVtIiwiZGV0YWlsIiwiZmluZEluZGV4IiwiaXQiLCJmaW5kIiwiZmlsdGVyZWQiLCJxIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsIm9uTmV3IiwiY2xvbmUiLCJvIiwic2V0VmFsIiwidmFsIiwiY3VyciIsIm54dCIsInJlZiIsImkiLCJkZWxLZXkiLCJwYXRoVG9QYXJlbnQiLCJrZXkiLCJzcGxpY2UiLCJyZW5hbWVLZXkiLCJvbGRLZXkiLCJuZXdLZXkiLCJhZGRDaGlsZCIsInBhdGhUb09iaiIsImRlcHRoIiwiYmFzZSIsImkyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYWRkUm9vdEtleSIsImsiLCJjb252ZXJ0VHlwZSIsInBhcmVudFBhdGgiLCJuZXh0VHlwZSIsImFkZEFycmF5SXRlbSIsInBhdGhUb0FyciIsIlRyYWl0T2JqZWN0IiwiX3BhcmVudCIsIm9uU2F2ZSIsIm9uRGVsZXRlIiwiY29uZmlybSIsImRlbGV0ZVdvcmxkU2V0dGluZyIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzdHlsZSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJhc2lkZSIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwidyIsInNlY3Rpb24iLCJhcmlhLWxhYmVsIiwibGFiZWwiLCJhY2NlcHQiLCJtdWx0aXBsZSIsImltZyIsInNyYyIsImFsdCIsInRpdGxlIiwicmVtb3ZlZFVybCIsIl8iLCJwYXJzZWQiLCJzcGFuIiwidGV4dGFyZWEiLCJyb3dzIiwia2V5cyIsIm9iaiIsImRpc2FibGVkIiwidXNlV29ybGRDdHgiLCJwYXJlbnQiLCJjdHgiLCJUcmFpdFJvdyIsImlzT2JqZWN0Iiwic2V0TmFtZSIsIm9uQmx1ciIsIm9uS2V5RG93biIsImJsdXIiLCJzZWxlY3QiLCJvcHRpb24iLCJTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/workspace/WorldSettingsManager.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createApi: () => (/* binding */ createApi),\n/* harmony export */   useSSE: () => (/* binding */ useSSE)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ createApi,useSSE auto */ \nconst API_BASE = \"http://localhost:3000\" || 0;\nasync function authHeaders(supabase) {\n    const { data: { session } } = await supabase.auth.getSession();\n    const token = session?.access_token;\n    return token ? {\n        Authorization: `Bearer ${token}`\n    } : {};\n}\nasync function apiFetch(supabase, input, init = {}) {\n    const hasBody = init.body !== undefined && init.body !== null;\n    const baseHeaders = {\n        ...await authHeaders(supabase),\n        ...init.headers || {}\n    };\n    const headers = hasBody ? {\n        \"Content-Type\": \"application/json\",\n        ...baseHeaders\n    } : baseHeaders;\n    const res = await fetch(`${API_BASE}${input}`, {\n        ...init,\n        headers\n    });\n    if (!res.ok) {\n        const text = await res.text().catch(()=>\"\");\n        throw new Error(`API ${res.status}: ${text}`);\n    }\n    if (res.status === 204) return undefined;\n    return await res.json();\n}\nfunction createApi(supabase) {\n    return {\n        // Projects CRUD\n        listProjects: ()=>apiFetch(supabase, `/api/project`),\n        createProject: (body)=>apiFetch(supabase, `/api/project`, {\n                method: \"POST\",\n                body: JSON.stringify(body)\n            }),\n        getProject: (id)=>apiFetch(supabase, `/api/project/${id}`),\n        updateProject: (id, body)=>apiFetch(supabase, `/api/project/${id}`, {\n                method: \"PATCH\",\n                body: JSON.stringify(body)\n            }),\n        deleteProject: (id)=>apiFetch(supabase, `/api/project/${id}`, {\n                method: \"DELETE\"\n            }),\n        // Project settings\n        updateProjectSettings: (id, body)=>apiFetch(supabase, `/api/project/${id}/settings`, {\n                method: \"PATCH\",\n                body: JSON.stringify(body)\n            }),\n        // Chat\n        // Legacy (per-project) - will be replaced by chatId-based endpoints\n        getChatMessages: (projectId)=>apiFetch(supabase, `/api/project/${projectId}/chat/messages`),\n        // Chats (per project)\n        listChats: (projectId)=>apiFetch(supabase, `/api/project/${projectId}/chats`),\n        createChat: (projectId, body)=>apiFetch(supabase, `/api/project/${projectId}/chats`, {\n                method: \"POST\",\n                body: JSON.stringify(body)\n            }),\n        renameChat: (projectId, chatId, title)=>apiFetch(supabase, `/api/project/${projectId}/chats/${chatId}`, {\n                method: \"PATCH\",\n                body: JSON.stringify({\n                    title\n                })\n            }),\n        deleteChat: (projectId, chatId)=>apiFetch(supabase, `/api/project/${projectId}/chats/${chatId}`, {\n                method: \"DELETE\"\n            }),\n        // Chat messages by chatId\n        getChatMessagesByChatId: (chatId)=>apiFetch(supabase, `/api/chat/${chatId}/messages`),\n        // Chapters\n        createChapter: (projectId, payload)=>apiFetch(supabase, `/api/project/${projectId}/chapter`, {\n                method: \"POST\",\n                body: JSON.stringify(payload)\n            }),\n        // Chapter previews\n        getChapterSummary: (projectId)=>apiFetch(supabase, `/api/project/${projectId}/chapters/summary`),\n        // Paginated chapters for reader\n        listChaptersPaginated: (projectId, page, limit)=>apiFetch(supabase, `/api/project/${projectId}/chapters?page=${encodeURIComponent(page)}&limit=${encodeURIComponent(limit)}`),\n        // Update chapter\n        updateChapter: (projectId, chapterId, payload)=>apiFetch(supabase, `/api/project/${projectId}/chapter/${chapterId}`, {\n                method: \"PATCH\",\n                body: JSON.stringify(payload)\n            }),\n        // Delete chapter\n        deleteChapter: (projectId, chapterId)=>apiFetch(supabase, `/api/project/${projectId}/chapter/${chapterId}`, {\n                method: \"DELETE\"\n            }),\n        // Characters\n        listCharacters: (projectId)=>apiFetch(supabase, `/api/project/${projectId}/characters`),\n        createCharacter: (projectId, body)=>apiFetch(supabase, `/api/project/${projectId}/characters`, {\n                method: \"POST\",\n                body: JSON.stringify(body)\n            }),\n        updateCharacter: (projectId, charId, body)=>apiFetch(supabase, `/api/project/${projectId}/characters/${charId}`, {\n                method: \"PATCH\",\n                body: JSON.stringify(body)\n            }),\n        deleteCharacter: (projectId, charId)=>apiFetch(supabase, `/api/project/${projectId}/characters/${charId}`, {\n                method: \"DELETE\"\n            }),\n        // World Settings\n        listWorldSettings: (projectId)=>apiFetch(supabase, `/api/project/${projectId}/world`),\n        createWorldSetting: (projectId, body)=>apiFetch(supabase, `/api/project/${projectId}/world`, {\n                method: \"POST\",\n                body: JSON.stringify(body)\n            }),\n        updateWorldSetting: (projectId, wsId, body)=>apiFetch(supabase, `/api/project/${projectId}/world/${wsId}`, {\n                method: \"PATCH\",\n                body: JSON.stringify(body)\n            }),\n        deleteWorldSetting: (projectId, wsId)=>apiFetch(supabase, `/api/project/${projectId}/world/${wsId}`, {\n                method: \"DELETE\"\n            }),\n        // Chat (SSE should be used via useSSE below)\n        // Streaming chat by chatId (SSE)\n        postChat: async (chatId, body, onEvent)=>{\n            const headers = {\n                \"Content-Type\": \"application/json\",\n                ...await authHeaders(supabase)\n            };\n            const res = await fetch(`${API_BASE}/api/chat/${chatId}`, {\n                method: \"POST\",\n                headers,\n                body: JSON.stringify(body)\n            });\n            if (!res.ok || !res.body) {\n                const text = await res.text().catch(()=>\"\");\n                throw new Error(`Chat stream error ${res.status}: ${text}`);\n            }\n            const reader = res.body.getReader();\n            const decoder = new TextDecoder();\n            try {\n                while(true){\n                    const { value, done } = await reader.read();\n                    if (done) break;\n                    const chunk = decoder.decode(value, {\n                        stream: true\n                    });\n                    for (const line of chunk.split(\"\\n\")){\n                        const trimmed = line.trim();\n                        if (!trimmed.startsWith(\"data:\")) continue;\n                        const data = trimmed.slice(5).trim();\n                        if (!data) continue;\n                        try {\n                            onEvent(JSON.parse(data));\n                        } catch  {}\n                    }\n                }\n            } finally{\n                reader.releaseLock();\n            }\n        },\n        // Text generation (SSE)\n        generateTextStream: async (body, onEvent)=>{\n            const headers = {\n                \"Content-Type\": \"application/json\",\n                ...await authHeaders(supabase)\n            };\n            const res = await fetch(`${API_BASE}/api/generate/text`, {\n                method: \"POST\",\n                headers,\n                body: JSON.stringify(body)\n            });\n            if (!res.ok || !res.body) {\n                const text = await res.text().catch(()=>\"\");\n                throw new Error(`Text stream error ${res.status}: ${text}`);\n            }\n            const reader = res.body.getReader();\n            const decoder = new TextDecoder();\n            try {\n                while(true){\n                    const { value, done } = await reader.read();\n                    if (done) break;\n                    const chunk = decoder.decode(value, {\n                        stream: true\n                    });\n                    for (const line of chunk.split(\"\\n\")){\n                        const trimmed = line.trim();\n                        if (!trimmed.startsWith(\"data:\")) continue;\n                        const data = trimmed.slice(5).trim();\n                        if (!data) continue;\n                        try {\n                            onEvent(JSON.parse(data));\n                        } catch  {}\n                    }\n                }\n            } finally{\n                reader.releaseLock();\n            }\n        },\n        // Image generation (queued or direct fallback)\n        generateImage: (body)=>apiFetch(supabase, `/api/generate/image`, {\n                method: \"POST\",\n                body: JSON.stringify(body)\n            })\n    };\n}\n// Generic SSE hook for any endpoint that streams Server-Sent Events (data: {json})\nfunction useSSE() {\n    const controllerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [streaming, setStreaming] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const stop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        controllerRef.current?.abort();\n        controllerRef.current = null;\n        setStreaming(false);\n    }, []);\n    const start = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (opts)=>{\n        const ctl = new AbortController();\n        controllerRef.current = ctl;\n        setStreaming(true);\n        try {\n            const res = await fetch(opts.url, {\n                method: opts.method || \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    ...opts.headers || {}\n                },\n                body: opts.body ? JSON.stringify(opts.body) : undefined,\n                signal: ctl.signal\n            });\n            if (!res.ok || !res.body) {\n                const text = await res.text().catch(()=>\"\");\n                throw new Error(`SSE ${res.status}: ${text}`);\n            }\n            const reader = res.body.getReader();\n            const decoder = new TextDecoder();\n            try {\n                while(true){\n                    const { value, done } = await reader.read();\n                    if (done) break;\n                    const chunk = decoder.decode(value, {\n                        stream: true\n                    });\n                    for (const line of chunk.split(\"\\n\")){\n                        const trimmed = line.trim();\n                        if (!trimmed.startsWith(\"data:\")) continue;\n                        const data = trimmed.slice(5).trim();\n                        if (!data) continue;\n                        try {\n                            opts.onEvent(JSON.parse(data));\n                        } catch  {}\n                    }\n                }\n                opts.onDone?.();\n            } finally{\n                reader.releaseLock();\n            }\n        } catch (e) {\n            if (e?.name !== \"AbortError\") opts.onError?.(e);\n        } finally{\n            setStreaming(false);\n        }\n    }, []);\n    return {\n        start,\n        stop,\n        streaming\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cEI7UUFDRixFQUFFLE9BQU9pQixHQUFRO1lBQ2YsSUFBSUEsR0FBR0MsU0FBUyxjQUFjUCxLQUFLUSxPQUFPLEdBQUdGO1FBQy9DLFNBQVU7WUFDUlgsYUFBYTtRQUNmO0lBQ0YsR0FBRyxFQUFFO0lBRUwsT0FBTztRQUFFSTtRQUFPSDtRQUFNRjtJQUFVO0FBQ2xDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5rdmVyc2UtY2xpZW50Ly4vc3JjL2xpYi9hcGkudHM/MmZhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHR5cGUgeyBTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgQVBJX0JBU0UgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xuXG5hc3luYyBmdW5jdGlvbiBhdXRoSGVhZGVycyhzdXBhYmFzZTogU3VwYWJhc2VDbGllbnQpIHtcbiAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gIGNvbnN0IHRva2VuID0gc2Vzc2lvbj8uYWNjZXNzX3Rva2VuO1xuICByZXR1cm4gdG9rZW4gPyB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0gOiB7fTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYXBpRmV0Y2g8VCA9IGFueT4oXG4gIHN1cGFiYXNlOiBTdXBhYmFzZUNsaWVudCxcbiAgaW5wdXQ6IHN0cmluZyxcbiAgaW5pdDogUmVxdWVzdEluaXQgPSB7fVxuKTogUHJvbWlzZTxUPiB7XG4gIGNvbnN0IGhhc0JvZHkgPSBpbml0LmJvZHkgIT09IHVuZGVmaW5lZCAmJiBpbml0LmJvZHkgIT09IG51bGw7XG4gIGNvbnN0IGJhc2VIZWFkZXJzID0ge1xuICAgIC4uLihhd2FpdCBhdXRoSGVhZGVycyhzdXBhYmFzZSkpLFxuICAgIC4uLihpbml0LmhlYWRlcnMgfHwge30pLFxuICB9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIGNvbnN0IGhlYWRlcnMgPSBoYXNCb2R5ID8geyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAuLi5iYXNlSGVhZGVycyB9IDogYmFzZUhlYWRlcnM7XG5cbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0V9JHtpbnB1dH1gLCB7IC4uLmluaXQsIGhlYWRlcnMgfSk7XG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCkuY2F0Y2goKCkgPT4gJycpO1xuICAgIHRocm93IG5ldyBFcnJvcihgQVBJICR7cmVzLnN0YXR1c306ICR7dGV4dH1gKTtcbiAgfVxuICBpZiAocmVzLnN0YXR1cyA9PT0gMjA0KSByZXR1cm4gdW5kZWZpbmVkIGFzIHVua25vd24gYXMgVDtcbiAgcmV0dXJuIChhd2FpdCByZXMuanNvbigpKSBhcyBUO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXBpKHN1cGFiYXNlOiBTdXBhYmFzZUNsaWVudCkge1xuICByZXR1cm4ge1xuICAgIC8vIFByb2plY3RzIENSVURcbiAgICBsaXN0UHJvamVjdHM6ICgpID0+XG4gICAgICBhcGlGZXRjaDxhbnlbXT4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3RgKSxcbiAgICBjcmVhdGVQcm9qZWN0OiAoYm9keTogeyB0aXRsZTogc3RyaW5nOyBkZXNjcmlwdGlvbj86IHN0cmluZyB9KSA9PlxuICAgICAgYXBpRmV0Y2g8eyBpZDogc3RyaW5nIH0+KHN1cGFiYXNlLCBgL2FwaS9wcm9qZWN0YCwgeyBtZXRob2Q6ICdQT1NUJywgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkgfSksXG5cbiAgICBnZXRQcm9qZWN0OiAoaWQ6IHN0cmluZykgPT5cbiAgICAgIGFwaUZldGNoPGFueT4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3QvJHtpZH1gKSxcblxuICAgIHVwZGF0ZVByb2plY3Q6IChpZDogc3RyaW5nLCBib2R5OiB7IHRpdGxlPzogc3RyaW5nOyBkZXNjcmlwdGlvbj86IHN0cmluZyB9KSA9PlxuICAgICAgYXBpRmV0Y2g8YW55PihzdXBhYmFzZSwgYC9hcGkvcHJvamVjdC8ke2lkfWAsIHsgbWV0aG9kOiAnUEFUQ0gnLCBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSB9KSxcblxuICAgIGRlbGV0ZVByb2plY3Q6IChpZDogc3RyaW5nKSA9PlxuICAgICAgYXBpRmV0Y2g8dm9pZD4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3QvJHtpZH1gLCB7IG1ldGhvZDogJ0RFTEVURScgfSksXG5cbiAgICAvLyBQcm9qZWN0IHNldHRpbmdzXG4gICAgdXBkYXRlUHJvamVjdFNldHRpbmdzOiAoXG4gICAgICBpZDogc3RyaW5nLFxuICAgICAgYm9keTogeyB0aXRsZT86IHN0cmluZzsgZGVzY3JpcHRpb24/OiBzdHJpbmc7IGNvdmVySW1hZ2U/OiBzdHJpbmc7IGdlbnJlPzogc3RyaW5nOyBjb3JlQ29uZmxpY3Q/OiBzdHJpbmc7IHNldHRpbmdzSnNvbj86IGFueTsgbW9kZT86ICdub3ZlbCcgfCAnbWFuaHdhJyB8ICdjb252ZXJ0JyB9XG4gICAgKSA9PiBhcGlGZXRjaDxhbnk+KHN1cGFiYXNlLCBgL2FwaS9wcm9qZWN0LyR7aWR9L3NldHRpbmdzYCwgeyBtZXRob2Q6ICdQQVRDSCcsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpIH0pLFxuXG4gICAgLy8gQ2hhdFxuICAgIC8vIExlZ2FjeSAocGVyLXByb2plY3QpIC0gd2lsbCBiZSByZXBsYWNlZCBieSBjaGF0SWQtYmFzZWQgZW5kcG9pbnRzXG4gICAgZ2V0Q2hhdE1lc3NhZ2VzOiAocHJvamVjdElkOiBzdHJpbmcpID0+XG4gICAgICBhcGlGZXRjaDxhbnlbXT4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3QvJHtwcm9qZWN0SWR9L2NoYXQvbWVzc2FnZXNgKSxcblxuICAgIC8vIENoYXRzIChwZXIgcHJvamVjdClcbiAgICBsaXN0Q2hhdHM6IChwcm9qZWN0SWQ6IHN0cmluZykgPT5cbiAgICAgIGFwaUZldGNoPGFueVtdPihzdXBhYmFzZSwgYC9hcGkvcHJvamVjdC8ke3Byb2plY3RJZH0vY2hhdHNgKSxcbiAgICBjcmVhdGVDaGF0OiAocHJvamVjdElkOiBzdHJpbmcsIGJvZHk6IHsgdHlwZTogJ3Bsb3QnfCdjaGFyYWN0ZXInfCd3b3JsZCc7IHRpdGxlPzogc3RyaW5nIH0pID0+XG4gICAgICBhcGlGZXRjaDxhbnk+KHN1cGFiYXNlLCBgL2FwaS9wcm9qZWN0LyR7cHJvamVjdElkfS9jaGF0c2AsIHsgbWV0aG9kOiAnUE9TVCcsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpIH0pLFxuICAgIHJlbmFtZUNoYXQ6IChwcm9qZWN0SWQ6IHN0cmluZywgY2hhdElkOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcpID0+XG4gICAgICBhcGlGZXRjaDxhbnk+KHN1cGFiYXNlLCBgL2FwaS9wcm9qZWN0LyR7cHJvamVjdElkfS9jaGF0cy8ke2NoYXRJZH1gLCB7IG1ldGhvZDogJ1BBVENIJywgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0aXRsZSB9KSB9KSxcbiAgICBkZWxldGVDaGF0OiAocHJvamVjdElkOiBzdHJpbmcsIGNoYXRJZDogc3RyaW5nKSA9PlxuICAgICAgYXBpRmV0Y2g8dm9pZD4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3QvJHtwcm9qZWN0SWR9L2NoYXRzLyR7Y2hhdElkfWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KSxcblxuICAgIC8vIENoYXQgbWVzc2FnZXMgYnkgY2hhdElkXG4gICAgZ2V0Q2hhdE1lc3NhZ2VzQnlDaGF0SWQ6IChjaGF0SWQ6IHN0cmluZykgPT5cbiAgICAgIGFwaUZldGNoPGFueVtdPihzdXBhYmFzZSwgYC9hcGkvY2hhdC8ke2NoYXRJZH0vbWVzc2FnZXNgKSxcblxuICAgIC8vIENoYXB0ZXJzXG4gICAgY3JlYXRlQ2hhcHRlcjogKHByb2plY3RJZDogc3RyaW5nLCBwYXlsb2FkOiB7IHRpdGxlOiBzdHJpbmc7IGNvbnRlbnQ/OiBzdHJpbmc7IHBhbmVsX3NjcmlwdD86IGFueTsgYnJhbmNoSWQ/OiBzdHJpbmc7IGlzQ2Fub24/OiBib29sZWFuIH0pID0+XG4gICAgICBhcGlGZXRjaDx7IGlkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmcgfT4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3QvJHtwcm9qZWN0SWR9L2NoYXB0ZXJgLCB7IG1ldGhvZDogJ1BPU1QnLCBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSB9KSxcblxuICAgIC8vIENoYXB0ZXIgcHJldmlld3NcbiAgICBnZXRDaGFwdGVyU3VtbWFyeTogKHByb2plY3RJZDogc3RyaW5nKSA9PlxuICAgICAgYXBpRmV0Y2g8eyBjb3VudDogbnVtYmVyOyBzbmlwcGV0OiBzdHJpbmcgfT4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3QvJHtwcm9qZWN0SWR9L2NoYXB0ZXJzL3N1bW1hcnlgKSxcblxuICAgIC8vIFBhZ2luYXRlZCBjaGFwdGVycyBmb3IgcmVhZGVyXG4gICAgbGlzdENoYXB0ZXJzUGFnaW5hdGVkOiAocHJvamVjdElkOiBzdHJpbmcsIHBhZ2U6IG51bWJlciwgbGltaXQ6IG51bWJlcikgPT5cbiAgICAgIGFwaUZldGNoPHsgaXRlbXM6IGFueVtdOyB0b3RhbDogbnVtYmVyIH0+KHN1cGFiYXNlLCBgL2FwaS9wcm9qZWN0LyR7cHJvamVjdElkfS9jaGFwdGVycz9wYWdlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UpfSZsaW1pdD0ke2VuY29kZVVSSUNvbXBvbmVudChsaW1pdCl9YCksXG5cbiAgICAvLyBVcGRhdGUgY2hhcHRlclxuICAgIHVwZGF0ZUNoYXB0ZXI6IChcbiAgICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgICAgY2hhcHRlcklkOiBzdHJpbmcsXG4gICAgICBwYXlsb2FkOiB7IHRpdGxlPzogc3RyaW5nOyBjb250ZW50Pzogc3RyaW5nOyBwYW5lbF9zY3JpcHQ/OiBhbnkgfVxuICAgICkgPT4gYXBpRmV0Y2g8YW55PihzdXBhYmFzZSwgYC9hcGkvcHJvamVjdC8ke3Byb2plY3RJZH0vY2hhcHRlci8ke2NoYXB0ZXJJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICB9KSxcblxuICAgIC8vIERlbGV0ZSBjaGFwdGVyXG4gICAgZGVsZXRlQ2hhcHRlcjogKFxuICAgICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgICBjaGFwdGVySWQ6IHN0cmluZyxcbiAgICApID0+IGFwaUZldGNoPHZvaWQ+KHN1cGFiYXNlLCBgL2FwaS9wcm9qZWN0LyR7cHJvamVjdElkfS9jaGFwdGVyLyR7Y2hhcHRlcklkfWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KSxcblxuICAgIC8vIENoYXJhY3RlcnNcbiAgICBsaXN0Q2hhcmFjdGVyczogKHByb2plY3RJZDogc3RyaW5nKSA9PlxuICAgICAgYXBpRmV0Y2g8YW55W10+KHN1cGFiYXNlLCBgL2FwaS9wcm9qZWN0LyR7cHJvamVjdElkfS9jaGFyYWN0ZXJzYCksXG4gICAgY3JlYXRlQ2hhcmFjdGVyOiAoXG4gICAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICAgIGJvZHk6IHsgbmFtZTogc3RyaW5nOyByb2xlPzogc3RyaW5nOyBzdW1tYXJ5Pzogc3RyaW5nOyBpbWFnZXM/OiBzdHJpbmdbXTsgdHJhaXRzPzogYW55OyB0cmFpdHNPcHM/OiBBcnJheTx7IG9wOiAnc2V0J3wnZGVsZXRlJzsgcGF0aDogc3RyaW5nW107IHZhbHVlPzogYW55IH0+IH1cbiAgICApID0+IGFwaUZldGNoPGFueT4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3QvJHtwcm9qZWN0SWR9L2NoYXJhY3RlcnNgLCB7IG1ldGhvZDogJ1BPU1QnLCBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSB9KSxcbiAgICB1cGRhdGVDaGFyYWN0ZXI6IChcbiAgICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgICAgY2hhcklkOiBzdHJpbmcsXG4gICAgICBib2R5OiB7IG5hbWU/OiBzdHJpbmc7IHJvbGU/OiBzdHJpbmc7IHN1bW1hcnk/OiBzdHJpbmc7IGltYWdlcz86IHN0cmluZ1tdOyB0cmFpdHM/OiBhbnk7IHRyYWl0c09wcz86IEFycmF5PHsgb3A6ICdzZXQnfCdkZWxldGUnOyBwYXRoOiBzdHJpbmdbXTsgdmFsdWU/OiBhbnkgfT4gfVxuICAgICkgPT4gYXBpRmV0Y2g8YW55PihzdXBhYmFzZSwgYC9hcGkvcHJvamVjdC8ke3Byb2plY3RJZH0vY2hhcmFjdGVycy8ke2NoYXJJZH1gLCB7IG1ldGhvZDogJ1BBVENIJywgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkgfSksXG4gICAgZGVsZXRlQ2hhcmFjdGVyOiAoXG4gICAgICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgICAgIGNoYXJJZDogc3RyaW5nLFxuICAgICkgPT4gYXBpRmV0Y2g8dm9pZD4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3QvJHtwcm9qZWN0SWR9L2NoYXJhY3RlcnMvJHtjaGFySWR9YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pLFxuXG4gICAgLy8gV29ybGQgU2V0dGluZ3NcbiAgICBsaXN0V29ybGRTZXR0aW5nczogKHByb2plY3RJZDogc3RyaW5nKSA9PlxuICAgICAgYXBpRmV0Y2g8YW55W10+KHN1cGFiYXNlLCBgL2FwaS9wcm9qZWN0LyR7cHJvamVjdElkfS93b3JsZGApLFxuICAgIGNyZWF0ZVdvcmxkU2V0dGluZzogKFxuICAgICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgICBib2R5OiB7IG5hbWU6IHN0cmluZzsgc3VtbWFyeT86IHN0cmluZzsgdHJhaXRzPzogYW55OyBpbWFnZXM/OiBzdHJpbmdbXTsgdHJhaXRzT3BzPzogQXJyYXk8eyBvcDogJ3NldCd8J2RlbGV0ZSc7IHBhdGg6IHN0cmluZ1tdOyB2YWx1ZT86IGFueSB9PiB9XG4gICAgKSA9PiBhcGlGZXRjaDxhbnk+KHN1cGFiYXNlLCBgL2FwaS9wcm9qZWN0LyR7cHJvamVjdElkfS93b3JsZGAsIHsgbWV0aG9kOiAnUE9TVCcsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpIH0pLFxuICAgIHVwZGF0ZVdvcmxkU2V0dGluZzogKFxuICAgICAgcHJvamVjdElkOiBzdHJpbmcsXG4gICAgICB3c0lkOiBzdHJpbmcsXG4gICAgICBib2R5OiB7IG5hbWU/OiBzdHJpbmc7IHN1bW1hcnk/OiBzdHJpbmc7IHRyYWl0cz86IGFueTsgaW1hZ2VzPzogc3RyaW5nW107IHRyYWl0c09wcz86IEFycmF5PHsgb3A6ICdzZXQnfCdkZWxldGUnOyBwYXRoOiBzdHJpbmdbXTsgdmFsdWU/OiBhbnkgfT4gfVxuICAgICkgPT4gYXBpRmV0Y2g8YW55PihzdXBhYmFzZSwgYC9hcGkvcHJvamVjdC8ke3Byb2plY3RJZH0vd29ybGQvJHt3c0lkfWAsIHsgbWV0aG9kOiAnUEFUQ0gnLCBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSB9KSxcbiAgICBkZWxldGVXb3JsZFNldHRpbmc6IChcbiAgICAgIHByb2plY3RJZDogc3RyaW5nLFxuICAgICAgd3NJZDogc3RyaW5nLFxuICAgICkgPT4gYXBpRmV0Y2g8dm9pZD4oc3VwYWJhc2UsIGAvYXBpL3Byb2plY3QvJHtwcm9qZWN0SWR9L3dvcmxkLyR7d3NJZH1gLCB7IG1ldGhvZDogJ0RFTEVURScgfSksXG5cbiAgICAvLyBDaGF0IChTU0Ugc2hvdWxkIGJlIHVzZWQgdmlhIHVzZVNTRSBiZWxvdylcbiAgICAvLyBTdHJlYW1pbmcgY2hhdCBieSBjaGF0SWQgKFNTRSlcbiAgICBwb3N0Q2hhdDogYXN5bmMgKFxuICAgICAgY2hhdElkOiBzdHJpbmcsXG4gICAgICBib2R5OiB7IG1lc3NhZ2U6IHN0cmluZzsgcmVnZW5lcmF0ZVBhbmVsSWQ/OiBzdHJpbmc7IGNsaWVudE1vZGU/OiAnY2hhdCd8J2FjdGlvbic7IG1lbnRpb25zPzogYW55IH0sXG4gICAgICBvbkV2ZW50OiAoZXZ0OiBhbnkpID0+IHZvaWRcbiAgICApID0+IHtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLihhd2FpdCBhdXRoSGVhZGVycyhzdXBhYmFzZSkpLFxuICAgICAgfSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRX0vYXBpL2NoYXQvJHtjaGF0SWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXMub2sgfHwgIXJlcy5ib2R5KSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXMudGV4dCgpLmNhdGNoKCgpID0+ICcnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGF0IHN0cmVhbSBlcnJvciAke3Jlcy5zdGF0dXN9OiAke3RleHR9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlYWRlciA9IHJlcy5ib2R5LmdldFJlYWRlcigpO1xuICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgIGlmIChkb25lKSBicmVhaztcbiAgICAgICAgICBjb25zdCBjaHVuayA9IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgY2h1bmsuc3BsaXQoJ1xcbicpKSB7XG4gICAgICAgICAgICBjb25zdCB0cmltbWVkID0gbGluZS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIXRyaW1tZWQuc3RhcnRzV2l0aCgnZGF0YTonKSkgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdHJpbW1lZC5zbGljZSg1KS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIWRhdGEpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdHJ5IHsgb25FdmVudChKU09OLnBhcnNlKGRhdGEpKTsgfSBjYXRjaCB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFRleHQgZ2VuZXJhdGlvbiAoU1NFKVxuICAgIGdlbmVyYXRlVGV4dFN0cmVhbTogYXN5bmMgKFxuICAgICAgYm9keTogeyBwcm9tcHQ6IHN0cmluZzsgcHJvamVjdElkOiBzdHJpbmcgfSxcbiAgICAgIG9uRXZlbnQ6IChldnQ6IGFueSkgPT4gdm9pZFxuICAgICkgPT4ge1xuICAgICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4uKGF3YWl0IGF1dGhIZWFkZXJzKHN1cGFiYXNlKSksXG4gICAgICB9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFfS9hcGkvZ2VuZXJhdGUvdGV4dGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlcy5vayB8fCAhcmVzLmJvZHkpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCkuY2F0Y2goKCkgPT4gJycpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRleHQgc3RyZWFtIGVycm9yICR7cmVzLnN0YXR1c306ICR7dGV4dH1gKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlYWRlciA9IHJlcy5ib2R5LmdldFJlYWRlcigpO1xuICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgIGlmIChkb25lKSBicmVhaztcbiAgICAgICAgICBjb25zdCBjaHVuayA9IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgY2h1bmsuc3BsaXQoJ1xcbicpKSB7XG4gICAgICAgICAgICBjb25zdCB0cmltbWVkID0gbGluZS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIXRyaW1tZWQuc3RhcnRzV2l0aCgnZGF0YTonKSkgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdHJpbW1lZC5zbGljZSg1KS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIWRhdGEpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdHJ5IHsgb25FdmVudChKU09OLnBhcnNlKGRhdGEpKTsgfSBjYXRjaCB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEltYWdlIGdlbmVyYXRpb24gKHF1ZXVlZCBvciBkaXJlY3QgZmFsbGJhY2spXG4gICAgZ2VuZXJhdGVJbWFnZTogKGJvZHk6IHsgZGVzY3JpcHRpb246IHN0cmluZzsgc3R5bGU/OiBzdHJpbmc7IHByb2plY3RJZD86IHN0cmluZyB9KSA9PlxuICAgICAgYXBpRmV0Y2g8eyBqb2JJZDogc3RyaW5nOyB1cmw/OiBzdHJpbmc7IHF1ZXVlZD86IGJvb2xlYW47IGNhY2hlZD86IGJvb2xlYW4gfT4oc3VwYWJhc2UsIGAvYXBpL2dlbmVyYXRlL2ltYWdlYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICB9KSxcbiAgfTtcbn1cblxuZXhwb3J0IHR5cGUgU1NFU3RhcnRPcHRpb25zID0ge1xuICB1cmw6IHN0cmluZztcbiAgbWV0aG9kPzogJ0dFVCcgfCAnUE9TVCcgfCAnUFVUJyB8ICdQQVRDSCcgfCAnREVMRVRFJztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIGJvZHk/OiBhbnk7XG4gIG9uRXZlbnQ6IChldnQ6IGFueSkgPT4gdm9pZDtcbiAgb25Eb25lPzogKCkgPT4gdm9pZDtcbiAgb25FcnJvcj86IChlcnI6IEVycm9yKSA9PiB2b2lkO1xufTtcblxuLy8gR2VuZXJpYyBTU0UgaG9vayBmb3IgYW55IGVuZHBvaW50IHRoYXQgc3RyZWFtcyBTZXJ2ZXItU2VudCBFdmVudHMgKGRhdGE6IHtqc29ufSlcbmV4cG9ydCBmdW5jdGlvbiB1c2VTU0UoKSB7XG4gIGNvbnN0IGNvbnRyb2xsZXJSZWYgPSB1c2VSZWY8QWJvcnRDb250cm9sbGVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzdHJlYW1pbmcsIHNldFN0cmVhbWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3Qgc3RvcCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb250cm9sbGVyUmVmLmN1cnJlbnQ/LmFib3J0KCk7XG4gICAgY29udHJvbGxlclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICBzZXRTdHJlYW1pbmcoZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgc3RhcnQgPSB1c2VDYWxsYmFjayhhc3luYyAob3B0czogU1NFU3RhcnRPcHRpb25zKSA9PiB7XG4gICAgY29uc3QgY3RsID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnRyb2xsZXJSZWYuY3VycmVudCA9IGN0bDtcbiAgICBzZXRTdHJlYW1pbmcodHJ1ZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2gob3B0cy51cmwsIHtcbiAgICAgICAgbWV0aG9kOiBvcHRzLm1ldGhvZCB8fCAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgLi4uKG9wdHMuaGVhZGVycyB8fCB7fSkgfSxcbiAgICAgICAgYm9keTogb3B0cy5ib2R5ID8gSlNPTi5zdHJpbmdpZnkob3B0cy5ib2R5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc2lnbmFsOiBjdGwuc2lnbmFsLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzLm9rIHx8ICFyZXMuYm9keSkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzLnRleHQoKS5jYXRjaCgoKSA9PiAnJyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU1NFICR7cmVzLnN0YXR1c306ICR7dGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVhZGVyID0gcmVzLmJvZHkuZ2V0UmVhZGVyKCk7XG4gICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICB0cnkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xuICAgICAgICAgIGNvbnN0IGNodW5rID0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBjaHVuay5zcGxpdCgnXFxuJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyaW1tZWQgPSBsaW5lLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghdHJpbW1lZC5zdGFydHNXaXRoKCdkYXRhOicpKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0cmltbWVkLnNsaWNlKDUpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghZGF0YSkgY29udGludWU7XG4gICAgICAgICAgICB0cnkgeyBvcHRzLm9uRXZlbnQoSlNPTi5wYXJzZShkYXRhKSk7IH0gY2F0Y2gge31cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3B0cy5vbkRvbmU/LigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBpZiAoZT8ubmFtZSAhPT0gJ0Fib3J0RXJyb3InKSBvcHRzLm9uRXJyb3I/LihlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U3RyZWFtaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICByZXR1cm4geyBzdGFydCwgc3RvcCwgc3RyZWFtaW5nIH0gYXMgY29uc3Q7XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkFQSV9CQVNFIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJhdXRoSGVhZGVycyIsInN1cGFiYXNlIiwiZGF0YSIsInNlc3Npb24iLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwiQXV0aG9yaXphdGlvbiIsImFwaUZldGNoIiwiaW5wdXQiLCJpbml0IiwiaGFzQm9keSIsImJvZHkiLCJ1bmRlZmluZWQiLCJiYXNlSGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJmZXRjaCIsIm9rIiwidGV4dCIsImNhdGNoIiwiRXJyb3IiLCJzdGF0dXMiLCJqc29uIiwiY3JlYXRlQXBpIiwibGlzdFByb2plY3RzIiwiY3JlYXRlUHJvamVjdCIsIm1ldGhvZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRQcm9qZWN0IiwiaWQiLCJ1cGRhdGVQcm9qZWN0IiwiZGVsZXRlUHJvamVjdCIsInVwZGF0ZVByb2plY3RTZXR0aW5ncyIsImdldENoYXRNZXNzYWdlcyIsInByb2plY3RJZCIsImxpc3RDaGF0cyIsImNyZWF0ZUNoYXQiLCJyZW5hbWVDaGF0IiwiY2hhdElkIiwidGl0bGUiLCJkZWxldGVDaGF0IiwiZ2V0Q2hhdE1lc3NhZ2VzQnlDaGF0SWQiLCJjcmVhdGVDaGFwdGVyIiwicGF5bG9hZCIsImdldENoYXB0ZXJTdW1tYXJ5IiwibGlzdENoYXB0ZXJzUGFnaW5hdGVkIiwicGFnZSIsImxpbWl0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidXBkYXRlQ2hhcHRlciIsImNoYXB0ZXJJZCIsImRlbGV0ZUNoYXB0ZXIiLCJsaXN0Q2hhcmFjdGVycyIsImNyZWF0ZUNoYXJhY3RlciIsInVwZGF0ZUNoYXJhY3RlciIsImNoYXJJZCIsImRlbGV0ZUNoYXJhY3RlciIsImxpc3RXb3JsZFNldHRpbmdzIiwiY3JlYXRlV29ybGRTZXR0aW5nIiwidXBkYXRlV29ybGRTZXR0aW5nIiwid3NJZCIsImRlbGV0ZVdvcmxkU2V0dGluZyIsInBvc3RDaGF0Iiwib25FdmVudCIsInJlYWRlciIsImdldFJlYWRlciIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsInZhbHVlIiwiZG9uZSIsInJlYWQiLCJjaHVuayIsImRlY29kZSIsInN0cmVhbSIsImxpbmUiLCJzcGxpdCIsInRyaW1tZWQiLCJ0cmltIiwic3RhcnRzV2l0aCIsInNsaWNlIiwicGFyc2UiLCJyZWxlYXNlTG9jayIsImdlbmVyYXRlVGV4dFN0cmVhbSIsImdlbmVyYXRlSW1hZ2UiLCJ1c2VTU0UiLCJjb250cm9sbGVyUmVmIiwic3RyZWFtaW5nIiwic2V0U3RyZWFtaW5nIiwic3RvcCIsImN1cnJlbnQiLCJhYm9ydCIsInN0YXJ0Iiwib3B0cyIsImN0bCIsIkFib3J0Q29udHJvbGxlciIsInVybCIsInNpZ25hbCIsIm9uRG9uZSIsImUiLCJuYW1lIiwib25FcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/api.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"6b092be5b728\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5rdmVyc2UtY2xpZW50Ly4vc3JjL2FwcC9nbG9iYWxzLmNzcz9jNWYyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNmIwOTJiZTViNzI4XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata),\n/* harmony export */   viewport: () => (/* binding */ viewport)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(rsc)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _components_pwa_RegisterSW__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/pwa/RegisterSW */ \"(rsc)/./src/components/pwa/RegisterSW.tsx\");\n\n\n\n\nconst metadata = {\n    title: \"InkVerse\",\n    description: \"AI manhwa creation suite\",\n    manifest: \"/manifest.webmanifest\"\n};\nconst viewport = {\n    themeColor: \"#0f172a\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: \"min-h-screen bg-slate-950 text-slate-100\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.SupabaseProvider, {\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/app/layout.tsx\",\n                    lineNumber: 20,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_pwa_RegisterSW__WEBPACK_IMPORTED_MODULE_3__.RegisterSW, {}, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/app/layout.tsx\",\n                    lineNumber: 23,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/lalaina/InkVerse/client/src/app/layout.tsx\",\n            lineNumber: 19,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/app/layout.tsx\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXVCO0FBRW9EO0FBQ2xCO0FBRWxELE1BQU1FLFdBQXFCO0lBQ2hDQyxPQUFPO0lBQ1BDLGFBQWE7SUFDYkMsVUFBVTtBQUNaLEVBQUU7QUFFSyxNQUFNQyxXQUFXO0lBQ3RCQyxZQUFZO0FBQ2QsRUFBRTtBQUVhLFNBQVNDLFdBQVcsRUFBRUMsUUFBUSxFQUFpQztJQUM1RSxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztrQkFDVCw0RUFBQ0M7WUFBS0MsV0FBVTs7OEJBQ2QsOERBQUNiLG9GQUFnQkE7OEJBQ2RTOzs7Ozs7OEJBRUgsOERBQUNSLGtFQUFVQTs7Ozs7Ozs7Ozs7Ozs7OztBQUluQiIsInNvdXJjZXMiOlsid2VicGFjazovL2lua3ZlcnNlLWNsaWVudC8uL3NyYy9hcHAvbGF5b3V0LnRzeD81N2E5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9nbG9iYWxzLmNzcyc7XG5pbXBvcnQgdHlwZSB7IE1ldGFkYXRhIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBTdXBhYmFzZVByb3ZpZGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL3Byb3ZpZGVycy9TdXBhYmFzZVByb3ZpZGVyJztcbmltcG9ydCB7IFJlZ2lzdGVyU1cgfSBmcm9tICdAL2NvbXBvbmVudHMvcHdhL1JlZ2lzdGVyU1cnO1xuXG5leHBvcnQgY29uc3QgbWV0YWRhdGE6IE1ldGFkYXRhID0ge1xuICB0aXRsZTogJ0lua1ZlcnNlJyxcbiAgZGVzY3JpcHRpb246ICdBSSBtYW5od2EgY3JlYXRpb24gc3VpdGUnLFxuICBtYW5pZmVzdDogJy9tYW5pZmVzdC53ZWJtYW5pZmVzdCcsXG59O1xuXG5leHBvcnQgY29uc3Qgdmlld3BvcnQgPSB7XG4gIHRoZW1lQ29sb3I6ICcjMGYxNzJhJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvb3RMYXlvdXQoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkge1xuICByZXR1cm4gKFxuICAgIDxodG1sIGxhbmc9XCJlblwiPlxuICAgICAgPGJvZHkgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXNsYXRlLTk1MCB0ZXh0LXNsYXRlLTEwMFwiPlxuICAgICAgICA8U3VwYWJhc2VQcm92aWRlcj5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvU3VwYWJhc2VQcm92aWRlcj5cbiAgICAgICAgPFJlZ2lzdGVyU1cgLz5cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiU3VwYWJhc2VQcm92aWRlciIsIlJlZ2lzdGVyU1ciLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJtYW5pZmVzdCIsInZpZXdwb3J0IiwidGhlbWVDb2xvciIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSIsImNsYXNzTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/project/[id]/chat/page.tsx":
/*!********************************************!*\
  !*** ./src/app/project/[id]/chat/page.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/lalaina/InkVerse/client/src/app/project/[id]/chat/page.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/app/project/[id]/layout.tsx":
/*!*****************************************!*\
  !*** ./src/app/project/[id]/layout.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProjectLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction ProjectLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen w-screen overflow-hidden\",\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/app/project/[id]/layout.tsx\",\n        lineNumber: 3,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL3Byb2plY3QvW2lkXS9sYXlvdXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxTQUFTQSxjQUFjLEVBQUVDLFFBQVEsRUFBaUM7SUFDL0UscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7a0JBQ1pGOzs7Ozs7QUFHUCIsInNvdXJjZXMiOlsid2VicGFjazovL2lua3ZlcnNlLWNsaWVudC8uL3NyYy9hcHAvcHJvamVjdC9baWRdL2xheW91dC50c3g/NjU4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcm9qZWN0TGF5b3V0KHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtc2NyZWVuIHctc2NyZWVuIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlByb2plY3RMYXlvdXQiLCJjaGlsZHJlbiIsImRpdiIsImNsYXNzTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/project/[id]/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/components/providers/SupabaseProvider.tsx":
/*!*******************************************************!*\
  !*** ./src/components/providers/SupabaseProvider.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SupabaseProvider: () => (/* binding */ e0),
/* harmony export */   useSupabase: () => (/* binding */ e1)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/lalaina/InkVerse/client/src/components/providers/SupabaseProvider.tsx#SupabaseProvider`);

const e1 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/lalaina/InkVerse/client/src/components/providers/SupabaseProvider.tsx#useSupabase`);


/***/ }),

/***/ "(rsc)/./src/components/pwa/RegisterSW.tsx":
/*!*******************************************!*\
  !*** ./src/components/pwa/RegisterSW.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RegisterSW: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/lalaina/InkVerse/client/src/components/pwa/RegisterSW.tsx#RegisterSW`);


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/lucide-react","vendor-chunks/@babel","vendor-chunks/@swc","vendor-chunks/dnd-core","vendor-chunks/react-dnd","vendor-chunks/react-dnd-html5-backend","vendor-chunks/@react-dnd","vendor-chunks/redux","vendor-chunks/fast-deep-equal"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&page=%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&appPaths=%2Fproject%2F%5Bid%5D%2Fchat%2Fpage&pagePath=private-next-app-dir%2Fproject%2F%5Bid%5D%2Fchat%2Fpage.tsx&appDir=%2Fhome%2Flalaina%2FInkVerse%2Fclient%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Flalaina%2FInkVerse%2Fclient&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();