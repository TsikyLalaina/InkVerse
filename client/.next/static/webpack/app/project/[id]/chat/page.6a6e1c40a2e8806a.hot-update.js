"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/project/[id]/chat/page",{

/***/ "(app-pages-browser)/./src/components/workspace/Workspace.tsx":
/*!************************************************!*\
  !*** ./src/components/workspace/Workspace.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Workspace: function() { return /* binding */ Workspace; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(app-pages-browser)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _components_chat_Chat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/chat/Chat */ \"(app-pages-browser)/./src/components/chat/Chat.tsx\");\n/* harmony import */ var _components_workspace_CharacterManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/workspace/CharacterManager */ \"(app-pages-browser)/./src/components/workspace/CharacterManager.tsx\");\n/* harmony import */ var _components_workspace_WorldSettingsManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/workspace/WorldSettingsManager */ \"(app-pages-browser)/./src/components/workspace/WorldSettingsManager.tsx\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* __next_internal_client_entry_do_not_use__ Workspace auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction Workspace(param) {\n    let { projectId } = param;\n    var _chats_find;\n    _s();\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_3__.createApi)(supabase), [\n        supabase\n    ]);\n    const [chapters, setChapters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loadingCh, setLoadingCh] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [errorCh, setErrorCh] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [tabs, setTabs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [content, setContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const saveTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [leftCollapsed, setLeftCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiMuseOpen, setAiMuseOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deletingId, setDeletingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [projectTitle, setProjectTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projectDescription, setProjectDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [settingsOpen, setSettingsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [renameTitle, setRenameTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [renameDesc, setRenameDesc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [savingRename, setSavingRename] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [renameError, setRenameError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [settingsMenuOpen, setSettingsMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [projMode, setProjMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projGenre, setProjGenre] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Removed worldName field from Project\n    const [projCoreConflict, setProjCoreConflict] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projSettingsJson, setProjSettingsJson] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [toastMsg, setToastMsg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const SETTINGS_TAB_ID = \"__settings__\";\n    const CHARACTERS_TAB_ID = \"__characters__\";\n    const WORLD_TAB_ID = \"__world__\";\n    // Chats sidebar (right)\n    const [rightOpen, setRightOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const chatsCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_chats\"), [\n        projectId\n    ]);\n    const chatsActiveKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_active_chat\"), [\n        projectId\n    ]);\n    const chaptersCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_chapters\"), [\n        projectId\n    ]);\n    const tabsCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_open_tabs\"), [\n        projectId\n    ]);\n    const activeTabKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_active_tab\"), [\n        projectId\n    ]);\n    const leftCollapsedKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_left_collapsed\"), [\n        projectId\n    ]);\n    const rightOpenKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_right_open\"), [\n        projectId\n    ]);\n    const [chats, setChats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeChatId, setActiveChatId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasChatsCache, setHasChatsCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const chatsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(chats);\n    const [newChatType, setNewChatType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"plot\");\n    const [newChatTitle, setNewChatTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChatOpen, setNewChatOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [creatingChat, setCreatingChat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [createChatError, setCreateChatError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [chatMenuOpen, setChatMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [hasChaptersCache, setHasChaptersCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Hydrate chats from localStorage after mount (prevents SSR/client mismatch)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) {\n                const s = window.localStorage.getItem(chatsCacheKey);\n                if (s) {\n                    const arr = JSON.parse(s);\n                    if (Array.isArray(arr)) {\n                        setChats(arr);\n                        setHasChatsCache(true);\n                    }\n                }\n                const v = window.localStorage.getItem(chatsActiveKey);\n                if (v) setActiveChatId(v);\n                // Hydrate chapters\n                const chs = window.localStorage.getItem(chaptersCacheKey);\n                if (chs) {\n                    const arr = JSON.parse(chs);\n                    if (Array.isArray(arr)) {\n                        setChapters(arr);\n                        setHasChaptersCache(true);\n                        setLoadingCh(false);\n                    }\n                }\n                // Hydrate tabs and active tab\n                const t = window.localStorage.getItem(tabsCacheKey);\n                if (t) {\n                    const arr = JSON.parse(t);\n                    if (Array.isArray(arr)) setTabs(arr);\n                }\n                const at = window.localStorage.getItem(activeTabKey);\n                if (at) setActiveId(at);\n                // Hydrate UI toggles\n                const lc = window.localStorage.getItem(leftCollapsedKey);\n                if (lc !== null) setLeftCollapsed(lc === \"1\");\n                const ro = window.localStorage.getItem(rightOpenKey);\n                if (ro !== null) setRightOpen(ro === \"1\");\n            }\n        } catch (e) {}\n    }, [\n        chatsCacheKey,\n        chatsActiveKey,\n        chaptersCacheKey,\n        tabsCacheKey,\n        activeTabKey,\n        leftCollapsedKey,\n        rightOpenKey\n    ]);\n    // Helper: sort chapters by createdAt asc (fallback by title)\n    const sortChapters = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((arr)=>{\n        return [\n            ...arr\n        ].sort((a, b)=>{\n            const ta = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n            const tb = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n            if (ta !== tb) return ta - tb;\n            return (a.title || \"\").localeCompare(b.title || \"\");\n        });\n    }, []);\n    // Load chapters for tree\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasChaptersCache) {\n                return;\n            }\n            try {\n                setLoadingCh(true);\n                const { items } = await api.listChaptersPaginated(projectId, 0, 100);\n                if (!mounted) return;\n                setChapters(sortChapters(items));\n            } catch (e) {\n                if (mounted) setErrorCh((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load chapters\");\n            } finally{\n                if (mounted) setLoadingCh(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        sortChapters,\n        hasChaptersCache\n    ]);\n    // Reflect settings updates triggered from Chat or elsewhere immediately\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onSettings = (e)=>{\n            const detail = (e === null || e === void 0 ? void 0 : e.detail) || {};\n            const changes = detail.changes || {};\n            if (changes.mode) setProjMode(changes.mode);\n            if (changes.genre !== undefined) setProjGenre(changes.genre || \"\");\n            if (changes.coreConflict !== undefined) setProjCoreConflict(changes.coreConflict || \"\");\n            if (changes.settingsJson !== undefined) {\n                try {\n                    setProjSettingsJson(typeof changes.settingsJson === \"string\" ? changes.settingsJson : JSON.stringify(changes.settingsJson));\n                } catch (e) {\n                    setProjSettingsJson(\"\");\n                }\n            }\n        };\n        const onMode = (e)=>{\n            var _e_detail;\n            const m = e === null || e === void 0 ? void 0 : (_e_detail = e.detail) === null || _e_detail === void 0 ? void 0 : _e_detail.mode;\n            if (m === \"novel\" || m === \"manhwa\") setProjMode(m);\n        };\n        if (true) {\n            window.addEventListener(\"project:settings-updated\", onSettings);\n            window.addEventListener(\"project:mode-updated\", onMode);\n        }\n        return ()=>{\n            if (true) {\n                window.removeEventListener(\"project:settings-updated\", onSettings);\n                window.removeEventListener(\"project:mode-updated\", onMode);\n            }\n        };\n    }, []);\n    // Listen for chat actions to create/open chapters in editor\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handler = async (e)=>{\n            try {\n                const detail = (e === null || e === void 0 ? void 0 : e.detail) || {};\n                const t = String(detail.title || \"Untitled Chapter\");\n                const c = detail.content !== undefined ? String(detail.content) : \"\";\n                var _detail_panel_script;\n                const panel_script = (_detail_panel_script = detail.panel_script) !== null && _detail_panel_script !== void 0 ? _detail_panel_script : undefined;\n                const res = await api.createChapter(projectId, panel_script ? {\n                    title: t,\n                    panel_script\n                } : {\n                    title: t,\n                    content: c\n                });\n                const newId = res.id;\n                const createdAt = res.createdAt;\n                setChapters((prev)=>sortChapters([\n                        ...prev,\n                        {\n                            id: newId,\n                            title: res.title,\n                            content: panel_script ? \"\" : c,\n                            createdAt\n                        }\n                    ]));\n                setTabs((prev)=>prev.includes(newId) ? prev : [\n                        ...prev,\n                        newId\n                    ]);\n                setActiveId(newId);\n                setTitle(res.title);\n                setContent(panel_script ? \"\" : c);\n            } catch (e) {}\n        };\n        if (true) window.addEventListener(\"workspace:create-draft\", handler);\n        return ()=>{\n            if (true) window.removeEventListener(\"workspace:create-draft\", handler);\n        };\n    }, [\n        api,\n        projectId,\n        sortChapters\n    ]);\n    // Listen for chat-driven chapter updates (rewrite)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handler = async (e)=>{\n            const detail = (e === null || e === void 0 ? void 0 : e.detail) || {};\n            const content = String(detail.content || \"\");\n            let targetId = detail.id || null;\n            if (!targetId) {\n                // Resolve by chapter_number (1-based) against sorted order\n                if (detail.chapter_number && Number.isInteger(detail.chapter_number)) {\n                    var _sorted_idx;\n                    const sorted = sortChapters(chapters);\n                    const idx = Math.max(0, Math.min(sorted.length - 1, detail.chapter_number - 1));\n                    targetId = ((_sorted_idx = sorted[idx]) === null || _sorted_idx === void 0 ? void 0 : _sorted_idx.id) || null;\n                } else if (detail.title) {\n                    const match = chapters.find((c)=>(c.title || \"\").toLowerCase() === String(detail.title).toLowerCase());\n                    targetId = (match === null || match === void 0 ? void 0 : match.id) || null;\n                }\n            }\n            if (!targetId) return;\n            try {\n                const updated = await api.updateChapter(projectId, targetId, {\n                    content\n                });\n                setChapters((prev)=>prev.map((c)=>c.id === targetId ? {\n                            ...c,\n                            content\n                        } : c));\n                // Open or refresh active tab\n                if (!tabs.includes(targetId)) setTabs((prev)=>[\n                        ...prev,\n                        targetId\n                    ]);\n                setActiveId(targetId);\n                if (activeId === targetId) setContent(content);\n            } catch (e) {}\n        };\n        if (true) window.addEventListener(\"workspace:update-chapter\", handler);\n        return ()=>{\n            if (true) window.removeEventListener(\"workspace:update-chapter\", handler);\n        };\n    }, [\n        api,\n        projectId,\n        chapters,\n        tabs,\n        activeId,\n        sortChapters\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            try {\n                const p = await api.getProject(projectId);\n                if (!mounted) return;\n                setProjectTitle((p === null || p === void 0 ? void 0 : p.title) || \"\");\n                setProjectDescription((p === null || p === void 0 ? void 0 : p.description) || \"\");\n                try {\n                    if ((p === null || p === void 0 ? void 0 : p.mode) && (p.mode === \"novel\" || p.mode === \"manhwa\")) setProjMode(p.mode);\n                    if (typeof (p === null || p === void 0 ? void 0 : p.genre) === \"string\") setProjGenre(p.genre);\n                    if (typeof (p === null || p === void 0 ? void 0 : p.coreConflict) === \"string\") setProjCoreConflict(p.coreConflict);\n                    if ((p === null || p === void 0 ? void 0 : p.settingsJson) !== undefined) {\n                        setProjSettingsJson(typeof p.settingsJson === \"string\" ? p.settingsJson : JSON.stringify(p.settingsJson));\n                    }\n                } catch (e) {}\n            } catch (e) {}\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId\n    ]);\n    // Load chats (hydrate from cache first, then revalidate)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasChatsCache) {\n                return;\n            }\n            try {\n                const xs = await api.listChats(projectId);\n                if (!mounted) return;\n                const next = xs || [];\n                try {\n                    if (hasChatsCache && JSON.stringify(next) === JSON.stringify(chatsRef.current)) {\n                        return;\n                    }\n                } catch (e) {}\n                setChats(next);\n                if (!activeChatId) {\n                    if (next && next.length) setActiveChatId(next[0].id);\n                    else {\n                        // ensure at least one plot chat exists\n                        const created = await api.createChat(projectId, {\n                            type: \"plot\"\n                        });\n                        setChats([\n                            created\n                        ]);\n                        setActiveChatId(created.id);\n                    }\n                }\n            } catch (e) {}\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        hasChatsCache,\n        activeChatId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        chatsRef.current = chats;\n    }, [\n        chats\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(chatsCacheKey, JSON.stringify(chats));\n        } catch (e) {}\n        setHasChatsCache(Array.isArray(chats) && chats.length > 0);\n    }, [\n        chats,\n        chatsCacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if ( true && activeChatId) window.localStorage.setItem(chatsActiveKey, activeChatId);\n        } catch (e) {}\n    }, [\n        activeChatId,\n        chatsActiveKey\n    ]);\n    // Persist chapters cache\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(chaptersCacheKey, JSON.stringify(chapters));\n        } catch (e) {}\n        setHasChaptersCache(Array.isArray(chapters) && chapters.length > 0);\n    }, [\n        chapters,\n        chaptersCacheKey\n    ]);\n    // Persist tabs and active tab\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(tabsCacheKey, JSON.stringify(tabs));\n        } catch (e) {}\n    }, [\n        tabs,\n        tabsCacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if ( true && activeId) window.localStorage.setItem(activeTabKey, activeId);\n        } catch (e) {}\n    }, [\n        activeId,\n        activeTabKey\n    ]);\n    // Persist UI toggles\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(leftCollapsedKey, leftCollapsed ? \"1\" : \"0\");\n        } catch (e) {}\n    }, [\n        leftCollapsed,\n        leftCollapsedKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(rightOpenKey, rightOpen ? \"1\" : \"0\");\n        } catch (e) {}\n    }, [\n        rightOpen,\n        rightOpenKey\n    ]);\n    const openTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setTabs((prev)=>prev.includes(id) ? prev : [\n                ...prev,\n                id\n            ]);\n        setActiveId(id);\n        const ch = chapters.find((c)=>c.id === id);\n        setTitle((ch === null || ch === void 0 ? void 0 : ch.title) || \"\");\n        setContent((ch === null || ch === void 0 ? void 0 : ch.content) || \"\");\n    }, [\n        chapters\n    ]);\n    const closeTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setTabs((prev)=>prev.filter((t)=>t !== id));\n        setActiveId((curr)=>{\n            if (curr !== id) return curr;\n            const idx = tabs.indexOf(id);\n            const next = tabs[idx + 1] || tabs[idx - 1] || null;\n            return next || null;\n        });\n    }, [\n        tabs\n    ]);\n    // Hydrate editor fields when activeId and chapters are restored from cache\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeId) return;\n        if (activeId === SETTINGS_TAB_ID || activeId === CHARACTERS_TAB_ID || activeId === WORLD_TAB_ID) return;\n        const ch = chapters.find((c)=>c.id === activeId);\n        if (!ch) return;\n        setTitle(ch.title || \"\");\n        setContent(ch.content || \"\");\n    }, [\n        activeId,\n        chapters\n    ]);\n    const onDragStart = (e, id)=>{\n        e.dataTransfer.setData(\"text/tab\", id);\n    };\n    const onDrop = (e, targetId)=>{\n        const srcId = e.dataTransfer.getData(\"text/tab\");\n        if (!srcId || srcId === targetId) return;\n        setTabs((prev)=>{\n            const arr = [\n                ...prev\n            ];\n            const si = arr.indexOf(srcId);\n            const ti = arr.indexOf(targetId);\n            if (si < 0 || ti < 0) return prev;\n            arr.splice(ti, 0, arr.splice(si, 1)[0]);\n            return arr;\n        });\n    };\n    // Persist edits (debounced)\n    const scheduleSave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id, t, c)=>{\n        if (!id) return;\n        if (saveTimer.current) clearTimeout(saveTimer.current);\n        saveTimer.current = setTimeout(async ()=>{\n            setSaving(true);\n            try {\n                await api.updateChapter(projectId, id, {\n                    title: t,\n                    content: c\n                });\n                setChapters((prev)=>prev.map((ch)=>ch.id === id ? {\n                            ...ch,\n                            title: t,\n                            content: c\n                        } : ch));\n            } finally{\n                setSaving(false);\n            }\n        }, 500);\n    }, [\n        api,\n        projectId\n    ]);\n    // Active change handlers\n    const onTitleChange = (v)=>{\n        if (!activeId) return;\n        setTitle(v);\n        scheduleSave(activeId, v, content);\n    };\n    const onContentChange = (v)=>{\n        if (!activeId) return;\n        setContent(v);\n        scheduleSave(activeId, title, v);\n    };\n    const onNewChapter = async ()=>{\n        try {\n            const res = await api.createChapter(projectId, {\n                title: \"Untitled Chapter\"\n            });\n            const createdAt = res.createdAt;\n            setChapters((prev)=>sortChapters([\n                    ...prev,\n                    {\n                        id: res.id,\n                        title: res.title,\n                        content: \"\",\n                        createdAt\n                    }\n                ]));\n            openTab(res.id);\n        } catch (e) {}\n    };\n    const onDeleteChapter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id)=>{\n        try {\n            // eslint-disable-next-line no-alert\n            if (!confirm(\"Delete this chapter permanently?\")) return;\n            setDeletingId(id);\n            await api.deleteChapter(projectId, id);\n            setChapters((prev)=>prev.filter((c)=>c.id !== id));\n            setTabs((prev)=>prev.filter((t)=>t !== id));\n            setActiveId((curr)=>curr === id ? null : curr);\n        } catch (e) {\n            const msg = e instanceof Error ? e.message : \"Failed to delete\";\n            setErrorCh(msg);\n        } finally{\n            setDeletingId(null);\n        }\n    }, [\n        api,\n        projectId\n    ]);\n    const activeChapter = chapters.find((c)=>c.id === activeId) || null;\n    const gridCols = \"\".concat(leftCollapsed ? \"\" : \"260px \", \"1fr\").concat(rightOpen ? \" 260px\" : \"\");\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen w-screen bg-bg-primary text-text-primary grid grid-rows-[auto_1fr] relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-12 border-b border-border-default bg-bg-primary flex items-center relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 min-w-0 flex items-stretch gap-1 px-2 overflow-x-auto\",\n                        children: tabs.map((id)=>{\n                            const ch = chapters.find((c)=>c.id === id);\n                            const active = id === activeId;\n                            const label = id === SETTINGS_TAB_ID ? \"Settings\" : id === CHARACTERS_TAB_ID ? \"Characters\" : (ch === null || ch === void 0 ? void 0 : ch.title) || \"Untitled\";\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                draggable: true,\n                                onDragStart: (e)=>onDragStart(e, id),\n                                onDragOver: (e)=>e.preventDefault(),\n                                onDrop: (e)=>onDrop(e, id),\n                                onMouseDown: (e)=>{\n                                    if (e.button === 1) {\n                                        e.preventDefault();\n                                        closeTab(id);\n                                    }\n                                },\n                                className: \"group flex items-center gap-2 px-4 h-10 rounded-t-md transition-all duration-150 \".concat(active ? \"bg-bg-elevated text-text-primary\" : \"text-text-tertiary hover:text-text-secondary hover:bg-bg-hover\"),\n                                onClick: ()=>setActiveId(id),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm truncate max-w-[160px]\",\n                                        children: label\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 421,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity duration-150\",\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            closeTab(id);\n                                        },\n                                        children: \"\\xd7\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 422,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, id, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 411,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 405,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 flex items-center justify-center pointer-events-none\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm font-semibold text-text-primary truncate max-w-[60%] tracking-elegant\",\n                            children: projectTitle || \"Project\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 428,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 427,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute right-2 top-1 z-10 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"text-xs px-3 py-1.5 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150\",\n                                onClick: ()=>setSettingsMenuOpen((v)=>!v),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"sr-only\",\n                                        children: \"Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 435,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        className: \"w-4 h-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 436,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 431,\n                                columnNumber: 11\n                            }, this),\n                            settingsMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute right-0 top-10 z-20 w-48 rounded-lg border border-border-default bg-bg-elevated shadow-elevation\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            // Open settings as a central tab\n                                            if (!tabs.includes(SETTINGS_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    SETTINGS_TAB_ID\n                                                ]);\n                                            setActiveId(SETTINGS_TAB_ID);\n                                            setRenameTitle(projectTitle || \"\");\n                                            setRenameDesc(projectDescription || \"\");\n                                            setRenameError(null);\n                                        },\n                                        children: \"Project Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 440,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            if (!tabs.includes(WORLD_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    WORLD_TAB_ID\n                                                ]);\n                                            setActiveId(WORLD_TAB_ID);\n                                        },\n                                        children: \"World Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 452,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            if (!tabs.includes(CHARACTERS_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    CHARACTERS_TAB_ID\n                                                ]);\n                                            setActiveId(CHARACTERS_TAB_ID);\n                                        },\n                                        children: \"Characters\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 460,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 439,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 430,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 404,\n                columnNumber: 7\n            }, this),\n            leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"absolute left-2 top-14 z-10 text-xs px-3 py-2 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150 flex items-center gap-1 shadow-elevation\",\n                onClick: ()=>setLeftCollapsed(false),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        className: \"w-4 h-4\",\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 478,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: \"Chapters\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 479,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 474,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid min-h-0\",\n                style: {\n                    gridTemplateColumns: gridCols\n                },\n                children: [\n                    !leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"border-r border-border-default bg-bg-primary min-h-0 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-5 py-4 text-xs font-semibold tracking-[0.05em] uppercase flex items-center justify-between text-text-secondary\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"CHAPTERS\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 489,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                        onClick: ()=>setLeftCollapsed(true),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-4 h-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 491,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"sr-only\",\n                                                children: \"Collapse\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 492,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 490,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 488,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto px-4\",\n                                children: [\n                                    loadingCh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-text-secondary px-2 py-2\",\n                                        children: \"Loadingâ€¦\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 496,\n                                        columnNumber: 27\n                                    }, this),\n                                    errorCh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-red-400 px-2 py-2 bg-red-950/20 rounded-md border border-red-500/20\",\n                                        children: errorCh\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 497,\n                                        columnNumber: 25\n                                    }, this),\n                                    chapters.map((c, idx)=>{\n                                        const wordCount = c.content ? c.content.trim().split(/\\s+/).filter(Boolean).length : 0;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"group w-full flex items-start justify-between gap-2 px-3 py-3 rounded-lg mb-2 transition-all duration-150 \".concat(activeId === c.id ? \"bg-bg-elevated border-l-3 border-accent\" : \"hover:bg-bg-hover\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"flex-1 text-left\",\n                                                    onClick: ()=>openTab(c.id),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs uppercase text-text-tertiary mb-1\",\n                                                            children: [\n                                                                \"Chapter \",\n                                                                idx + 1\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 506,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm font-medium mb-1 \".concat(activeId === c.id ? \"text-text-primary\" : \"text-text-secondary\"),\n                                                            children: c.title || \"Untitled\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 507,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: [\n                                                                wordCount,\n                                                                \" words\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 508,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 502,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"opacity-0 group-hover:opacity-100 transition-opacity duration-150 \".concat(deletingId === c.id ? \"text-red-400 opacity-60 cursor-not-allowed\" : \"text-text-tertiary hover:text-red-400\"),\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        if (deletingId) return;\n                                                        void onDeleteChapter(c.id);\n                                                    },\n                                                    title: \"Delete chapter\",\n                                                    disabled: deletingId === c.id,\n                                                    children: [\n                                                        deletingId === c.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                            className: \"w-4 h-4 animate-spin\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 516,\n                                                            columnNumber: 42\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                            className: \"w-4 h-4\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 516,\n                                                            columnNumber: 108\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"sr-only\",\n                                                            children: \"Delete\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 517,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 510,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, c.id, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 501,\n                                            columnNumber: 15\n                                        }, this);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 495,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4 border-t border-border-default\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full rounded-lg bg-bg-elevated border border-border-default hover:border-accent hover:bg-bg-hover text-text-secondary hover:text-text-primary text-sm px-4 py-3 flex items-center justify-center gap-2 transition-all duration-150 hover:-translate-y-0.5\",\n                                    onClick: onNewChapter,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            className: \"w-4 h-4\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 524,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"New Chapter\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 525,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 523,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 522,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 487,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"min-h-0 overflow-hidden bg-bg-primary flex flex-col\",\n                        children: activeId === SETTINGS_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full grid grid-rows-[auto_1fr_auto] bg-bg-elevated\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-b border-border-default px-6 py-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-base font-semibold text-text-primary tracking-elegant\",\n                                        children: \"Project Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 536,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 535,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-h-0 overflow-y-auto px-6 py-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid gap-4 max-w-2xl\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Title\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 541,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: renameTitle,\n                                                        onChange: (e)=>setRenameTitle(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 542,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 540,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Description\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 549,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        value: renameDesc,\n                                                        onChange: (e)=>setRenameDesc(e.target.value),\n                                                        rows: 3,\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150 text-sm\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 550,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 548,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Mode\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 558,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        value: projMode,\n                                                        onChange: (e)=>setProjMode(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent transition-colors duration-150\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"\",\n                                                                children: \"Selectâ€¦\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 564,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"novel\",\n                                                                children: \"Novel\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 565,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"manhwa\",\n                                                                children: \"Manhwa\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 566,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 559,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 557,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Genre\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 570,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: projGenre,\n                                                        onChange: (e)=>setProjGenre(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 571,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 569,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Core Conflict\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 579,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: projCoreConflict,\n                                                        onChange: (e)=>setProjCoreConflict(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 580,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 578,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Settings JSON\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 587,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        value: projSettingsJson,\n                                                        onChange: (e)=>setProjSettingsJson(e.target.value),\n                                                        rows: 10,\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150 font-mono text-xs\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 588,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 586,\n                                                columnNumber: 19\n                                            }, this),\n                                            renameError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-red-400 p-3 rounded-lg bg-red-950/20 border border-red-500/20\",\n                                                children: renameError\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 595,\n                                                columnNumber: 35\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 539,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 538,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-14 px-6 flex items-center justify-end gap-3 border-t border-border-default bg-bg-primary\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setActiveId(null),\n                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                            children: \"Close\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 599,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            disabled: savingRename,\n                                            onClick: async ()=>{\n                                                setSavingRename(true);\n                                                setRenameError(null);\n                                                try {\n                                                    const updateBody = {};\n                                                    const t = renameTitle.trim();\n                                                    if (t && t !== projectTitle) updateBody.title = t;\n                                                    if (renameDesc !== projectDescription) updateBody.description = renameDesc;\n                                                    if (Object.keys(updateBody).length > 0) {\n                                                        const updated = await api.updateProject(projectId, updateBody);\n                                                        setProjectTitle((updated === null || updated === void 0 ? void 0 : updated.title) || t || projectTitle);\n                                                        var _updated_description, _ref;\n                                                        setProjectDescription((_ref = (_updated_description = updated === null || updated === void 0 ? void 0 : updated.description) !== null && _updated_description !== void 0 ? _updated_description : renameDesc) !== null && _ref !== void 0 ? _ref : projectDescription);\n                                                    }\n                                                    const changes = {};\n                                                    if (projMode) changes.mode = projMode;\n                                                    if (projGenre) changes.genre = projGenre;\n                                                    if (projCoreConflict) changes.coreConflict = projCoreConflict;\n                                                    if (projSettingsJson) {\n                                                        try {\n                                                            changes.settingsJson = JSON.parse(projSettingsJson);\n                                                        } catch (e) {\n                                                            changes.settingsJson = projSettingsJson;\n                                                        }\n                                                    }\n                                                    if (Object.keys(changes).length > 0) {\n                                                        await api.updateProjectSettings(projectId, changes);\n                                                        if (true) {\n                                                            window.dispatchEvent(new CustomEvent(\"project:settings-updated\", {\n                                                                detail: {\n                                                                    projectId,\n                                                                    changes\n                                                                }\n                                                            }));\n                                                        }\n                                                        // Toast: Settings saved\n                                                        if (toastTimer.current) clearTimeout(toastTimer.current);\n                                                        setToastMsg(\"Settings saved\");\n                                                        toastTimer.current = setTimeout(()=>setToastMsg(\"\"), 3000);\n                                                    }\n                                                } catch (e) {\n                                                    setRenameError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to save\");\n                                                } finally{\n                                                    setSavingRename(false);\n                                                }\n                                            },\n                                            className: \"px-4 py-2 rounded-md bg-accent hover:bg-accent-hover disabled:opacity-50 text-white transition-all duration-150\",\n                                            children: savingRename ? \"Savingâ€¦\" : \"Save Settings\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 600,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 598,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 534,\n                            columnNumber: 13\n                        }, this) : activeId === CHARACTERS_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_workspace_CharacterManager__WEBPACK_IMPORTED_MODULE_5__.CharacterManager, {\n                                projectId: projectId,\n                                requireImage: projMode === \"manhwa\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 646,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 645,\n                            columnNumber: 13\n                        }, this) : activeId === WORLD_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_workspace_WorldSettingsManager__WEBPACK_IMPORTED_MODULE_6__.WorldSettingsManager, {\n                                projectId: projectId\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 650,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 649,\n                            columnNumber: 13\n                        }, this) : activeId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-h-0 overflow-y-auto bg-bg-elevated flex justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full max-w-[800px] px-12 py-16\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: title,\n                                                onChange: (e)=>onTitleChange(e.target.value),\n                                                placeholder: \"Chapter Title\",\n                                                className: \"w-full bg-transparent border-none text-[32px] font-bold text-text-primary placeholder:text-text-tertiary outline-none mb-8 tracking-tight\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 658,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                contentEditable: true,\n                                                suppressContentEditableWarning: true,\n                                                onInput: (e)=>onContentChange(e.currentTarget.textContent || \"\"),\n                                                className: \"w-full min-h-[400px] text-lg leading-[1.8] text-text-primary outline-none\",\n                                                style: {\n                                                    whiteSpace: \"pre-wrap\"\n                                                },\n                                                children: content\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 665,\n                                                columnNumber: 19\n                                            }, this),\n                                            !content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-lg text-text-tertiary pointer-events-none -mt-[400px] leading-[1.8]\",\n                                                children: \"Start writing your story...\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 675,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 656,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 655,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-12 bg-bg-primary border-t border-border-default px-6 flex items-center justify-between text-[13px] text-text-tertiary\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-6\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-1.5 h-1.5 rounded-full \".concat(saving ? \"bg-warning animate-pulse\" : \"bg-success\")\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 683,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: saving ? \"Savingâ€¦\" : \"Saved\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 684,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 682,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        content.trim().split(/\\s+/).filter(Boolean).length,\n                                                        \" words\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 686,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        content.length,\n                                                        \" characters\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 687,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        Math.ceil(content.trim().split(/\\s+/).filter(Boolean).length / 200),\n                                                        \" min read\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 688,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 681,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: (activeChapter === null || activeChapter === void 0 ? void 0 : activeChapter.createdAt) && \"Last edited \".concat(new Date(activeChapter.createdAt).toLocaleString())\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 690,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 680,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 653,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated flex items-center justify-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center max-w-md\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-base font-semibold text-text-primary mb-2\",\n                                        children: \"No Chapter Selected\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 698,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-text-secondary\",\n                                        children: \"Open a chapter from the left sidebar to start editing.\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 699,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 697,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 696,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 532,\n                        columnNumber: 9\n                    }, this),\n                    rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"border-l border-border-default bg-bg-primary min-h-0 flex flex-col relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-5 py-4 text-xs font-semibold tracking-[0.05em] uppercase flex items-center justify-between text-text-secondary\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"flex items-center gap-2 text-text-secondary hover:text-text-primary\",\n                                        onClick: ()=>setChatMenuOpen((v)=>!v),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"truncate max-w-[140px] text-text-primary normal-case text-sm font-medium\",\n                                                children: ((_chats_find = chats.find((c)=>c.id === activeChatId)) === null || _chats_find === void 0 ? void 0 : _chats_find.title) || \"Select chat\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 710,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                className: \"w-3.5 h-3.5 transition-transform \".concat(chatMenuOpen ? \"rotate-180\" : \"\"),\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 711,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 709,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                                onClick: ()=>{\n                                                    setNewChatOpen(true);\n                                                    setChatMenuOpen(true);\n                                                },\n                                                title: \"New Chat\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"w-4 h-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 715,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 714,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                                onClick: ()=>setRightOpen(false),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 718,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"sr-only\",\n                                                        children: \"Collapse\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 719,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 717,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 713,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 708,\n                                columnNumber: 11\n                            }, this),\n                            chatMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute left-3 right-3 top-14 z-20 rounded-lg border border-border-default bg-bg-elevated shadow-elevation\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 border-b border-border-default flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-semibold text-text-primary\",\n                                                children: \"Chats\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 726,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-text-primary\",\n                                                onClick: ()=>setChatMenuOpen(false),\n                                                children: \"âœ•\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 727,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 725,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 space-y-3\",\n                                        children: [\n                                            newChatOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border border-border-default rounded-lg p-3 bg-bg-primary\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary mb-2\",\n                                                        children: \"Create a new chat\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 732,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2 mb-2\",\n                                                        children: [\n                                                            \"plot\",\n                                                            \"character\",\n                                                            \"world\"\n                                                        ].map((t)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-xs px-3 py-1.5 rounded-md border cursor-pointer \".concat(newChatType === t ? \"border-accent text-accent\" : \"border-border-default text-text-secondary hover:text-text-primary\"),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"radio\",\n                                                                        name: \"chat-type\",\n                                                                        className: \"hidden\",\n                                                                        checked: newChatType === t,\n                                                                        onChange: ()=>setNewChatType(t)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                        lineNumber: 736,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    t\n                                                                ]\n                                                            }, t, true, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 735,\n                                                                columnNumber: 25\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 733,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: newChatTitle,\n                                                        onChange: (e)=>setNewChatTitle(e.target.value),\n                                                        placeholder: \"Title (optional)\",\n                                                        className: \"w-full bg-bg-elevated border border-border-default rounded-md px-3 py-2 text-text-primary outline-none focus:border-accent text-sm\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 740,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    createChatError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2 text-xs text-red-400\",\n                                                        children: createChatError\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 741,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-3 flex items-center justify-end gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"px-3 py-1.5 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover\",\n                                                                onClick: ()=>{\n                                                                    setNewChatOpen(false);\n                                                                    setNewChatTitle(\"\");\n                                                                    setCreateChatError(null);\n                                                                },\n                                                                children: \"Cancel\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 743,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"px-3 py-1.5 rounded-md bg-accent hover:bg-accent-hover text-white disabled:opacity-50\",\n                                                                disabled: creatingChat,\n                                                                onClick: async ()=>{\n                                                                    setCreatingChat(true);\n                                                                    setCreateChatError(null);\n                                                                    try {\n                                                                        const c = await api.createChat(projectId, {\n                                                                            type: newChatType,\n                                                                            title: newChatTitle || undefined\n                                                                        });\n                                                                        setChats((prev)=>[\n                                                                                ...prev,\n                                                                                c\n                                                                            ]);\n                                                                        setActiveChatId(c.id);\n                                                                        setNewChatOpen(false);\n                                                                        setNewChatTitle(\"\");\n                                                                        setChatMenuOpen(false);\n                                                                    } catch (e) {\n                                                                        setCreateChatError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to create chat\");\n                                                                    } finally{\n                                                                        setCreatingChat(false);\n                                                                    }\n                                                                },\n                                                                children: creatingChat ? \"Creatingâ€¦\" : \"Create\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 744,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 742,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 731,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"max-h-64 overflow-y-auto pr-1\",\n                                                children: [\n                                                    !chats.length && !newChatOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary px-2 py-2\",\n                                                        children: [\n                                                            \"No chats yet. \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"underline\",\n                                                                onClick: ()=>{\n                                                                    setNewChatType(\"plot\");\n                                                                    setNewChatOpen(true);\n                                                                },\n                                                                children: \"Create your first chat\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 762,\n                                                                columnNumber: 89\n                                                            }, this),\n                                                            \".\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 762,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    chats.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"group w-full flex items-center justify-between gap-2 px-3 py-2 rounded-md mb-1 transition-all duration-150 \".concat(activeChatId === c.id ? \"bg-bg-hover\" : \"hover:bg-bg-hover\"),\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"flex-1 text-left\",\n                                                                    onClick: ()=>{\n                                                                        setActiveChatId(c.id);\n                                                                        setChatMenuOpen(false);\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-[10px] uppercase text-text-tertiary mb-0.5\",\n                                                                            children: c.type\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 767,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-sm font-medium \".concat(activeChatId === c.id ? \"text-text-primary\" : \"text-text-secondary\"),\n                                                                            children: c.title\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 768,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                    lineNumber: 766,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"opacity-0 group-hover:opacity-100 transition-opacity duration-150 text-text-tertiary hover:text-red-400\",\n                                                                    onClick: async (e)=>{\n                                                                        e.stopPropagation();\n                                                                        if (!confirm(\"Delete this chat?\")) return;\n                                                                        try {\n                                                                            var _chats_find;\n                                                                            await api.deleteChat(projectId, c.id);\n                                                                            setChats((prev)=>prev.filter((x)=>x.id !== c.id));\n                                                                            if (activeChatId === c.id) setActiveChatId(((_chats_find = chats.find((x)=>x.id !== c.id)) === null || _chats_find === void 0 ? void 0 : _chats_find.id) || null);\n                                                                        } catch (e) {}\n                                                                    },\n                                                                    title: \"Delete chat\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                            className: \"w-4 h-4\",\n                                                                            \"aria-hidden\": \"true\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 775,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"sr-only\",\n                                                                            children: \"Delete\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 776,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                    lineNumber: 770,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, c.id, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 765,\n                                                            columnNumber: 21\n                                                        }, this))\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 760,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 729,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 724,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"min-h-0 flex-1 overflow-hidden border-t border-border-default\",\n                                children: activeChatId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_Chat__WEBPACK_IMPORTED_MODULE_4__.Chat, {\n                                    chatId: activeChatId\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 787,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full grid place-items-center text-xs text-text-tertiary\",\n                                    children: \"Open the chat menu to create or select a chat.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 789,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 785,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 707,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 484,\n                columnNumber: 7\n            }, this),\n            !rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"absolute right-2 top-14 z-10 text-xs px-3 py-2 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150 flex items-center gap-1 shadow-elevation\",\n                onClick: ()=>setRightOpen(true),\n                children: \"Open Chats\"\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 797,\n                columnNumber: 9\n            }, this),\n            settingsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 grid place-items-center bg-black/60 backdrop-blur-sm\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full max-w-md bg-bg-elevated border border-border-default rounded-xl p-6 shadow-elevation\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-text-primary\",\n                                    children: \"Project Settings\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 806,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setSettingsOpen(false),\n                                    className: \"text-text-tertiary hover:text-text-primary transition-colors duration-150\",\n                                    children: \"âœ•\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 807,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 805,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"grid gap-1 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-text-tertiary\",\n                                            children: \"Title\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 811,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: renameTitle,\n                                            onChange: (e)=>setRenameTitle(e.target.value),\n                                            className: \"bg-bg-primary border border-border-default rounded-md px-3 py-2 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 812,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 810,\n                                    columnNumber: 15\n                                }, this),\n                                renameError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-red-400 p-3 rounded-lg bg-red-950/20 border border-red-500/20\",\n                                    children: renameError\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 818,\n                                    columnNumber: 31\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-end gap-2 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setSettingsOpen(false),\n                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 820,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            disabled: savingRename || !renameTitle.trim(),\n                                            onClick: async ()=>{\n                                                setSavingRename(true);\n                                                setRenameError(null);\n                                                try {\n                                                    const updated = await api.updateProject(projectId, {\n                                                        title: renameTitle.trim()\n                                                    });\n                                                    setProjectTitle((updated === null || updated === void 0 ? void 0 : updated.title) || renameTitle.trim());\n                                                    setSettingsOpen(false);\n                                                } catch (e) {\n                                                    setRenameError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to save\");\n                                                } finally{\n                                                    setSavingRename(false);\n                                                }\n                                            },\n                                            className: \"px-4 py-2 rounded-md bg-accent hover:bg-accent-hover disabled:opacity-50 text-white transition-all duration-150\",\n                                            children: savingRename ? \"Savingâ€¦\" : \"Save\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 821,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 819,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 809,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                    lineNumber: 804,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 803,\n                columnNumber: 9\n            }, this),\n            toastMsg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-4 right-4 z-50 animate-in slide-in-from-bottom-4 duration-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 rounded-lg bg-bg-elevated border border-border-default text-text-primary text-sm shadow-elevation\",\n                    children: toastMsg\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                    lineNumber: 848,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 847,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n        lineNumber: 402,\n        columnNumber: 5\n    }, this);\n}\n_s(Workspace, \"CqiMmOEJS8nb6agftorsA/FLv1E=\", false, function() {\n    return [\n        _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase\n    ];\n});\n_c = Workspace;\nvar _c;\n$RefreshReg$(_c, \"Workspace\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3dvcmtzcGFjZS9Xb3Jrc3BhY2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUUwRTtBQUNKO0FBQ2hDO0FBQ1E7QUFDNkI7QUFDUTtBQUNvQztBQVVoSCxTQUFTa0IsVUFBVSxLQUFvQztRQUFwQyxFQUFFQyxTQUFTLEVBQXlCLEdBQXBDO1FBbXJCaUZDOztJQWxyQnpHLE1BQU1DLFdBQVdoQixtRkFBV0E7SUFDNUIsTUFBTWlCLE1BQU1wQiw4Q0FBT0EsQ0FBQyxJQUFNSSxtREFBU0EsQ0FBQ2UsV0FBVztRQUFDQTtLQUFTO0lBRXpELE1BQU0sQ0FBQ0UsVUFBVUMsWUFBWSxHQUFHcEIsK0NBQVFBLENBQWdCLEVBQUU7SUFDMUQsTUFBTSxDQUFDcUIsV0FBV0MsYUFBYSxHQUFHdEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDdUIsU0FBU0MsV0FBVyxHQUFHeEIsK0NBQVFBLENBQWdCO0lBRXRELE1BQU0sQ0FBQ3lCLE1BQU1DLFFBQVEsR0FBRzFCLCtDQUFRQSxDQUFXLEVBQUU7SUFDN0MsTUFBTSxDQUFDMkIsVUFBVUMsWUFBWSxHQUFHNUIsK0NBQVFBLENBQWdCO0lBRXhELE1BQU0sQ0FBQzZCLE9BQU9DLFNBQVMsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQytCLFNBQVNDLFdBQVcsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2lDLFFBQVFDLFVBQVUsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU1tQyxZQUFZcEMsNkNBQU1BLENBQXVDO0lBQy9ELE1BQU0sQ0FBQ3FDLGVBQWVDLGlCQUFpQixHQUFHckMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDc0MsWUFBWUMsY0FBYyxHQUFHdkMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDd0MsWUFBWUMsY0FBYyxHQUFHekMsK0NBQVFBLENBQWdCO0lBQzVELE1BQU0s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U0FBVTtvREFDUjdFLGdCQUFnQjtnREFDbEI7NENBQ0Y7NENBQ0E2SixXQUFVO3NEQUVUOUosZUFBZSxZQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVF2Q2MsMEJBQ0MsOERBQUMrSTtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1poSjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNYjtHQXAwQmdCcEQ7O1FBQ0diLCtFQUFXQTs7O0tBRGRhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL3dvcmtzcGFjZS9Xb3Jrc3BhY2UudHN4PzU4NTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVN1cGFiYXNlIH0gZnJvbSBcIkAvY29tcG9uZW50cy9wcm92aWRlcnMvU3VwYWJhc2VQcm92aWRlclwiO1xuaW1wb3J0IHsgY3JlYXRlQXBpIH0gZnJvbSBcIkAvbGliL2FwaVwiO1xuaW1wb3J0IHsgQ2hhdCB9IGZyb20gXCJAL2NvbXBvbmVudHMvY2hhdC9DaGF0XCI7XG5pbXBvcnQgeyBDaGFyYWN0ZXJNYW5hZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy93b3Jrc3BhY2UvQ2hhcmFjdGVyTWFuYWdlclwiO1xuaW1wb3J0IHsgV29ybGRTZXR0aW5nc01hbmFnZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3dvcmtzcGFjZS9Xb3JsZFNldHRpbmdzTWFuYWdlclwiO1xuaW1wb3J0IHsgU2V0dGluZ3MgYXMgSWNvblNldHRpbmdzLCBDaGV2cm9uTGVmdCwgQ2hldnJvblJpZ2h0LCBQbHVzLCBUcmFzaDIsIExvYWRlcjIsIENoZXZyb25Eb3duIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuXG50eXBlIENoYXB0ZXJJdGVtID0ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBjb250ZW50Pzogc3RyaW5nIHwgbnVsbDtcbiAgcGFuZWxTY3JpcHQ/OiBhbnkgfCBudWxsO1xuICBjcmVhdGVkQXQ/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gV29ya3NwYWNlKHsgcHJvamVjdElkIH06IHsgcHJvamVjdElkOiBzdHJpbmcgfSkge1xuICBjb25zdCBzdXBhYmFzZSA9IHVzZVN1cGFiYXNlKCk7XG4gIGNvbnN0IGFwaSA9IHVzZU1lbW8oKCkgPT4gY3JlYXRlQXBpKHN1cGFiYXNlKSwgW3N1cGFiYXNlXSk7XG5cbiAgY29uc3QgW2NoYXB0ZXJzLCBzZXRDaGFwdGVyc10gPSB1c2VTdGF0ZTxDaGFwdGVySXRlbVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nQ2gsIHNldExvYWRpbmdDaF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yQ2gsIHNldEVycm9yQ2hdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgW3RhYnMsIHNldFRhYnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2FjdGl2ZUlkLCBzZXRBY3RpdmVJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbdGl0bGUsIHNldFRpdGxlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY29udGVudCwgc2V0Q29udGVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgc2F2ZVRpbWVyID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsZWZ0Q29sbGFwc2VkLCBzZXRMZWZ0Q29sbGFwc2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FpTXVzZU9wZW4sIHNldEFpTXVzZU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGVsZXRpbmdJZCwgc2V0RGVsZXRpbmdJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Byb2plY3RUaXRsZSwgc2V0UHJvamVjdFRpdGxlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtwcm9qZWN0RGVzY3JpcHRpb24sIHNldFByb2plY3REZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2V0dGluZ3NPcGVuLCBzZXRTZXR0aW5nc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVuYW1lVGl0bGUsIHNldFJlbmFtZVRpdGxlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcmVuYW1lRGVzYywgc2V0UmVuYW1lRGVzY10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NhdmluZ1JlbmFtZSwgc2V0U2F2aW5nUmVuYW1lXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JlbmFtZUVycm9yLCBzZXRSZW5hbWVFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NldHRpbmdzTWVudU9wZW4sIHNldFNldHRpbmdzTWVudU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJvak1vZGUsIHNldFByb2pNb2RlXSA9IHVzZVN0YXRlPCdub3ZlbCcgfCAnbWFuaHdhJyB8ICcnPignJyk7XG4gIGNvbnN0IFtwcm9qR2VucmUsIHNldFByb2pHZW5yZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICAvLyBSZW1vdmVkIHdvcmxkTmFtZSBmaWVsZCBmcm9tIFByb2plY3RcbiAgY29uc3QgW3Byb2pDb3JlQ29uZmxpY3QsIHNldFByb2pDb3JlQ29uZmxpY3RdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3Byb2pTZXR0aW5nc0pzb24sIHNldFByb2pTZXR0aW5nc0pzb25dID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3RvYXN0TXNnLCBzZXRUb2FzdE1zZ10gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCB0b2FzdFRpbWVyID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgU0VUVElOR1NfVEFCX0lEID0gJ19fc2V0dGluZ3NfXyc7XG4gIGNvbnN0IENIQVJBQ1RFUlNfVEFCX0lEID0gJ19fY2hhcmFjdGVyc19fJztcbiAgY29uc3QgV09STERfVEFCX0lEID0gJ19fd29ybGRfXyc7XG5cbiAgLy8gQ2hhdHMgc2lkZWJhciAocmlnaHQpXG4gIGNvbnN0IFtyaWdodE9wZW4sIHNldFJpZ2h0T3Blbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgY2hhdHNDYWNoZUtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X2NoYXRzYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBjaGF0c0FjdGl2ZUtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X2FjdGl2ZV9jaGF0YCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBjaGFwdGVyc0NhY2hlS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fY2hhcHRlcnNgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IHRhYnNDYWNoZUtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X29wZW5fdGFic2AsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgYWN0aXZlVGFiS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fYWN0aXZlX3RhYmAsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgbGVmdENvbGxhcHNlZEtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X2xlZnRfY29sbGFwc2VkYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCByaWdodE9wZW5LZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9yaWdodF9vcGVuYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBbY2hhdHMsIHNldENoYXRzXSA9IHVzZVN0YXRlPEFycmF5PHsgaWQ6IHN0cmluZzsgdHlwZTogJ3Bsb3QnfCdjaGFyYWN0ZXInfCd3b3JsZCc7IHRpdGxlOiBzdHJpbmcgfT4+KFtdKTtcbiAgY29uc3QgW2FjdGl2ZUNoYXRJZCwgc2V0QWN0aXZlQ2hhdElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaGFzQ2hhdHNDYWNoZSwgc2V0SGFzQ2hhdHNDYWNoZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IGNoYXRzUmVmID0gdXNlUmVmKGNoYXRzKTtcbiAgY29uc3QgW25ld0NoYXRUeXBlLCBzZXROZXdDaGF0VHlwZV0gPSB1c2VTdGF0ZTwncGxvdCd8J2NoYXJhY3Rlcid8J3dvcmxkJz4oJ3Bsb3QnKTtcbiAgY29uc3QgW25ld0NoYXRUaXRsZSwgc2V0TmV3Q2hhdFRpdGxlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0NoYXRPcGVuLCBzZXROZXdDaGF0T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjcmVhdGluZ0NoYXQsIHNldENyZWF0aW5nQ2hhdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjcmVhdGVDaGF0RXJyb3IsIHNldENyZWF0ZUNoYXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NoYXRNZW51T3Blbiwgc2V0Q2hhdE1lbnVPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2hhc0NoYXB0ZXJzQ2FjaGUsIHNldEhhc0NoYXB0ZXJzQ2FjaGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8vIEh5ZHJhdGUgY2hhdHMgZnJvbSBsb2NhbFN0b3JhZ2UgYWZ0ZXIgbW91bnQgKHByZXZlbnRzIFNTUi9jbGllbnQgbWlzbWF0Y2gpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNoYXRzQ2FjaGVLZXkpO1xuICAgICAgICBpZiAocykge1xuICAgICAgICAgIGNvbnN0IGFyciA9IEpTT04ucGFyc2Uocyk7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBzZXRDaGF0cyhhcnIgYXMgYW55KTsgc2V0SGFzQ2hhdHNDYWNoZSh0cnVlKTsgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHYgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oY2hhdHNBY3RpdmVLZXkpO1xuICAgICAgICBpZiAodikgc2V0QWN0aXZlQ2hhdElkKHYpO1xuICAgICAgICAvLyBIeWRyYXRlIGNoYXB0ZXJzXG4gICAgICAgIGNvbnN0IGNocyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShjaGFwdGVyc0NhY2hlS2V5KTtcbiAgICAgICAgaWYgKGNocykge1xuICAgICAgICAgIGNvbnN0IGFyciA9IEpTT04ucGFyc2UoY2hzKTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHNldENoYXB0ZXJzKGFyciBhcyBhbnkpOyBzZXRIYXNDaGFwdGVyc0NhY2hlKHRydWUpOyBzZXRMb2FkaW5nQ2goZmFsc2UpOyB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSHlkcmF0ZSB0YWJzIGFuZCBhY3RpdmUgdGFiXG4gICAgICAgIGNvbnN0IHQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGFic0NhY2hlS2V5KTtcbiAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHNldFRhYnMoYXJyIGFzIGFueSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oYWN0aXZlVGFiS2V5KTtcbiAgICAgICAgaWYgKGF0KSBzZXRBY3RpdmVJZChhdCk7XG4gICAgICAgIC8vIEh5ZHJhdGUgVUkgdG9nZ2xlc1xuICAgICAgICBjb25zdCBsYyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShsZWZ0Q29sbGFwc2VkS2V5KTtcbiAgICAgICAgaWYgKGxjICE9PSBudWxsKSBzZXRMZWZ0Q29sbGFwc2VkKGxjID09PSAnMScpO1xuICAgICAgICBjb25zdCBybyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShyaWdodE9wZW5LZXkpO1xuICAgICAgICBpZiAocm8gIT09IG51bGwpIHNldFJpZ2h0T3BlbihybyA9PT0gJzEnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjaGF0c0NhY2hlS2V5LCBjaGF0c0FjdGl2ZUtleSwgY2hhcHRlcnNDYWNoZUtleSwgdGFic0NhY2hlS2V5LCBhY3RpdmVUYWJLZXksIGxlZnRDb2xsYXBzZWRLZXksIHJpZ2h0T3BlbktleV0pO1xuXG4gIC8vIEhlbHBlcjogc29ydCBjaGFwdGVycyBieSBjcmVhdGVkQXQgYXNjIChmYWxsYmFjayBieSB0aXRsZSlcbiAgY29uc3Qgc29ydENoYXB0ZXJzID0gdXNlQ2FsbGJhY2soKGFycjogQ2hhcHRlckl0ZW1bXSkgPT4ge1xuICAgIHJldHVybiBbLi4uYXJyXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCB0YSA9IGEuY3JlYXRlZEF0ID8gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKSA6IDA7XG4gICAgICBjb25zdCB0YiA9IGIuY3JlYXRlZEF0ID8gbmV3IERhdGUoYi5jcmVhdGVkQXQpLmdldFRpbWUoKSA6IDA7XG4gICAgICBpZiAodGEgIT09IHRiKSByZXR1cm4gdGEgLSB0YjtcbiAgICAgIHJldHVybiAoYS50aXRsZSB8fCAnJykubG9jYWxlQ29tcGFyZShiLnRpdGxlIHx8ICcnKTtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIC8vIExvYWQgY2hhcHRlcnMgZm9yIHRyZWVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChoYXNDaGFwdGVyc0NhY2hlKSB7IHJldHVybjsgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZ0NoKHRydWUpO1xuICAgICAgICBjb25zdCB7IGl0ZW1zIH0gPSBhd2FpdCBhcGkubGlzdENoYXB0ZXJzUGFnaW5hdGVkKHByb2plY3RJZCwgMCwgMTAwKTtcbiAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG4gICAgICAgIHNldENoYXB0ZXJzKHNvcnRDaGFwdGVycyhpdGVtcyBhcyBDaGFwdGVySXRlbVtdKSk7XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldEVycm9yQ2goZT8ubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBsb2FkIGNoYXB0ZXJzXCIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldExvYWRpbmdDaChmYWxzZSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkID0gZmFsc2U7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgc29ydENoYXB0ZXJzLCBoYXNDaGFwdGVyc0NhY2hlXSk7XG5cbiAgLy8gUmVmbGVjdCBzZXR0aW5ncyB1cGRhdGVzIHRyaWdnZXJlZCBmcm9tIENoYXQgb3IgZWxzZXdoZXJlIGltbWVkaWF0ZWx5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25TZXR0aW5ncyA9IChlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGRldGFpbCA9IGU/LmRldGFpbCB8fCB7fTtcbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBkZXRhaWwuY2hhbmdlcyB8fCB7fTtcbiAgICAgIGlmIChjaGFuZ2VzLm1vZGUpIHNldFByb2pNb2RlKGNoYW5nZXMubW9kZSk7XG4gICAgICBpZiAoY2hhbmdlcy5nZW5yZSAhPT0gdW5kZWZpbmVkKSBzZXRQcm9qR2VucmUoY2hhbmdlcy5nZW5yZSB8fCAnJyk7XG4gICAgICBpZiAoY2hhbmdlcy5jb3JlQ29uZmxpY3QgIT09IHVuZGVmaW5lZCkgc2V0UHJvakNvcmVDb25mbGljdChjaGFuZ2VzLmNvcmVDb25mbGljdCB8fCAnJyk7XG4gICAgICBpZiAoY2hhbmdlcy5zZXR0aW5nc0pzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnkgeyBzZXRQcm9qU2V0dGluZ3NKc29uKHR5cGVvZiBjaGFuZ2VzLnNldHRpbmdzSnNvbiA9PT0gJ3N0cmluZycgPyBjaGFuZ2VzLnNldHRpbmdzSnNvbiA6IEpTT04uc3RyaW5naWZ5KGNoYW5nZXMuc2V0dGluZ3NKc29uKSk7IH0gY2F0Y2ggeyBzZXRQcm9qU2V0dGluZ3NKc29uKCcnKTsgfVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb25Nb2RlID0gKGU6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbSA9IGU/LmRldGFpbD8ubW9kZTtcbiAgICAgIGlmIChtID09PSAnbm92ZWwnIHx8IG0gPT09ICdtYW5od2EnKSBzZXRQcm9qTW9kZShtKTtcbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2plY3Q6c2V0dGluZ3MtdXBkYXRlZCcsIG9uU2V0dGluZ3MgYXMgYW55KTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwcm9qZWN0Om1vZGUtdXBkYXRlZCcsIG9uTW9kZSBhcyBhbnkpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9qZWN0OnNldHRpbmdzLXVwZGF0ZWQnLCBvblNldHRpbmdzIGFzIGFueSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9qZWN0Om1vZGUtdXBkYXRlZCcsIG9uTW9kZSBhcyBhbnkpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBMaXN0ZW4gZm9yIGNoYXQgYWN0aW9ucyB0byBjcmVhdGUvb3BlbiBjaGFwdGVycyBpbiBlZGl0b3JcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVyID0gYXN5bmMgKGU6IGFueSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGV0YWlsID0gZT8uZGV0YWlsIHx8IHt9O1xuICAgICAgICBjb25zdCB0ID0gU3RyaW5nKGRldGFpbC50aXRsZSB8fCAnVW50aXRsZWQgQ2hhcHRlcicpO1xuICAgICAgICBjb25zdCBjID0gZGV0YWlsLmNvbnRlbnQgIT09IHVuZGVmaW5lZCA/IFN0cmluZyhkZXRhaWwuY29udGVudCkgOiAnJztcbiAgICAgICAgY29uc3QgcGFuZWxfc2NyaXB0ID0gZGV0YWlsLnBhbmVsX3NjcmlwdCA/PyB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5jcmVhdGVDaGFwdGVyKHByb2plY3RJZCwgcGFuZWxfc2NyaXB0ID8geyB0aXRsZTogdCwgcGFuZWxfc2NyaXB0IH0gOiB7IHRpdGxlOiB0LCBjb250ZW50OiBjIH0pO1xuICAgICAgICBjb25zdCBuZXdJZCA9IChyZXMgYXMgYW55KS5pZCBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IChyZXMgYXMgYW55KS5jcmVhdGVkQXQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICBzZXRDaGFwdGVycygocHJldikgPT4gc29ydENoYXB0ZXJzKFsuLi5wcmV2LCB7IGlkOiBuZXdJZCwgdGl0bGU6IChyZXMgYXMgYW55KS50aXRsZSwgY29udGVudDogcGFuZWxfc2NyaXB0ID8gJycgOiBjLCBjcmVhdGVkQXQgfV0pKTtcbiAgICAgICAgc2V0VGFicygocHJldikgPT4gKHByZXYuaW5jbHVkZXMobmV3SWQpID8gcHJldiA6IFsuLi5wcmV2LCBuZXdJZF0pKTtcbiAgICAgICAgc2V0QWN0aXZlSWQobmV3SWQpO1xuICAgICAgICBzZXRUaXRsZSgocmVzIGFzIGFueSkudGl0bGUpO1xuICAgICAgICBzZXRDb250ZW50KHBhbmVsX3NjcmlwdCA/ICcnIDogYyk7XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6Y3JlYXRlLWRyYWZ0JywgaGFuZGxlciBhcyBhbnkpO1xuICAgIHJldHVybiAoKSA9PiB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dvcmtzcGFjZTpjcmVhdGUtZHJhZnQnLCBoYW5kbGVyIGFzIGFueSk7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgc29ydENoYXB0ZXJzXSk7XG5cbiAgLy8gTGlzdGVuIGZvciBjaGF0LWRyaXZlbiBjaGFwdGVyIHVwZGF0ZXMgKHJld3JpdGUpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlciA9IGFzeW5jIChlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGRldGFpbCA9IGU/LmRldGFpbCB8fCB7fTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBTdHJpbmcoZGV0YWlsLmNvbnRlbnQgfHwgJycpO1xuICAgICAgbGV0IHRhcmdldElkOiBzdHJpbmcgfCBudWxsID0gZGV0YWlsLmlkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkKSB7XG4gICAgICAgIC8vIFJlc29sdmUgYnkgY2hhcHRlcl9udW1iZXIgKDEtYmFzZWQpIGFnYWluc3Qgc29ydGVkIG9yZGVyXG4gICAgICAgIGlmIChkZXRhaWwuY2hhcHRlcl9udW1iZXIgJiYgTnVtYmVyLmlzSW50ZWdlcihkZXRhaWwuY2hhcHRlcl9udW1iZXIpKSB7XG4gICAgICAgICAgY29uc3Qgc29ydGVkID0gc29ydENoYXB0ZXJzKGNoYXB0ZXJzKTtcbiAgICAgICAgICBjb25zdCBpZHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzb3J0ZWQubGVuZ3RoIC0gMSwgZGV0YWlsLmNoYXB0ZXJfbnVtYmVyIC0gMSkpO1xuICAgICAgICAgIHRhcmdldElkID0gc29ydGVkW2lkeF0/LmlkIHx8IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZGV0YWlsLnRpdGxlKSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBjaGFwdGVycy5maW5kKChjKSA9PiAoYy50aXRsZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gU3RyaW5nKGRldGFpbC50aXRsZSkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgdGFyZ2V0SWQgPSBtYXRjaD8uaWQgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF0YXJnZXRJZCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGFwaS51cGRhdGVDaGFwdGVyKHByb2plY3RJZCwgdGFyZ2V0SWQsIHsgY29udGVudCB9KTtcbiAgICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHByZXYubWFwKChjKSA9PiBjLmlkID09PSB0YXJnZXRJZCA/IHsgLi4uYywgY29udGVudCB9IDogYykpO1xuICAgICAgICAvLyBPcGVuIG9yIHJlZnJlc2ggYWN0aXZlIHRhYlxuICAgICAgICBpZiAoIXRhYnMuaW5jbHVkZXModGFyZ2V0SWQpKSBzZXRUYWJzKChwcmV2KSA9PiBbLi4ucHJldiwgdGFyZ2V0SWQhXSk7XG4gICAgICAgIHNldEFjdGl2ZUlkKHRhcmdldElkKTtcbiAgICAgICAgaWYgKGFjdGl2ZUlkID09PSB0YXJnZXRJZCkgc2V0Q29udGVudChjb250ZW50KTtcbiAgICAgIH0gY2F0Y2gge31cbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3dvcmtzcGFjZTp1cGRhdGUtY2hhcHRlcicsIGhhbmRsZXIgYXMgYW55KTtcbiAgICByZXR1cm4gKCkgPT4geyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6dXBkYXRlLWNoYXB0ZXInLCBoYW5kbGVyIGFzIGFueSk7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgY2hhcHRlcnMsIHRhYnMsIGFjdGl2ZUlkLCBzb3J0Q2hhcHRlcnNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcCA9IGF3YWl0IGFwaS5nZXRQcm9qZWN0KHByb2plY3RJZCk7XG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBzZXRQcm9qZWN0VGl0bGUocD8udGl0bGUgfHwgXCJcIik7XG4gICAgICAgIHNldFByb2plY3REZXNjcmlwdGlvbihwPy5kZXNjcmlwdGlvbiB8fCBcIlwiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAocD8ubW9kZSAmJiAocC5tb2RlID09PSAnbm92ZWwnIHx8IHAubW9kZSA9PT0gJ21hbmh3YScpKSBzZXRQcm9qTW9kZShwLm1vZGUpO1xuICAgICAgICAgIGlmICh0eXBlb2YgcD8uZ2VucmUgPT09ICdzdHJpbmcnKSBzZXRQcm9qR2VucmUocC5nZW5yZSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwPy5jb3JlQ29uZmxpY3QgPT09ICdzdHJpbmcnKSBzZXRQcm9qQ29yZUNvbmZsaWN0KHAuY29yZUNvbmZsaWN0KTtcbiAgICAgICAgICBpZiAocD8uc2V0dGluZ3NKc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNldFByb2pTZXR0aW5nc0pzb24odHlwZW9mIHAuc2V0dGluZ3NKc29uID09PSAnc3RyaW5nJyA/IHAuc2V0dGluZ3NKc29uIDogSlNPTi5zdHJpbmdpZnkocC5zZXR0aW5nc0pzb24pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH0gY2F0Y2gge31cbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7IG1vdW50ZWQgPSBmYWxzZTsgfTtcbiAgfSwgW2FwaSwgcHJvamVjdElkXSk7XG5cbiAgLy8gTG9hZCBjaGF0cyAoaHlkcmF0ZSBmcm9tIGNhY2hlIGZpcnN0LCB0aGVuIHJldmFsaWRhdGUpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoaGFzQ2hhdHNDYWNoZSkgeyByZXR1cm47IH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHhzID0gYXdhaXQgYXBpLmxpc3RDaGF0cyhwcm9qZWN0SWQpO1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV4dCA9IHhzIHx8IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChoYXNDaGF0c0NhY2hlICYmIEpTT04uc3RyaW5naWZ5KG5leHQpID09PSBKU09OLnN0cmluZ2lmeShjaGF0c1JlZi5jdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICBzZXRDaGF0cyhuZXh0KTtcbiAgICAgICAgaWYgKCFhY3RpdmVDaGF0SWQpIHtcbiAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCkgc2V0QWN0aXZlQ2hhdElkKG5leHRbMF0uaWQpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGF0IGxlYXN0IG9uZSBwbG90IGNoYXQgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXQocHJvamVjdElkLCB7IHR5cGU6ICdwbG90JyB9KTtcbiAgICAgICAgICAgIHNldENoYXRzKFtjcmVhdGVkXSk7XG4gICAgICAgICAgICBzZXRBY3RpdmVDaGF0SWQoY3JlYXRlZC5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkID0gZmFsc2U7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgaGFzQ2hhdHNDYWNoZSwgYWN0aXZlQ2hhdElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgY2hhdHNSZWYuY3VycmVudCA9IGNoYXRzOyB9LCBbY2hhdHNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShjaGF0c0NhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShjaGF0cykpOyB9IGNhdGNoIHt9XG4gICAgc2V0SGFzQ2hhdHNDYWNoZShBcnJheS5pc0FycmF5KGNoYXRzKSAmJiBjaGF0cy5sZW5ndGggPiAwKTtcbiAgfSwgW2NoYXRzLCBjaGF0c0NhY2hlS2V5XSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHsgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIGFjdGl2ZUNoYXRJZCkgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGNoYXRzQWN0aXZlS2V5LCBhY3RpdmVDaGF0SWQpOyB9IGNhdGNoIHt9XG4gIH0sIFthY3RpdmVDaGF0SWQsIGNoYXRzQWN0aXZlS2V5XSk7XG4gIC8vIFBlcnNpc3QgY2hhcHRlcnMgY2FjaGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShjaGFwdGVyc0NhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShjaGFwdGVycykpOyB9IGNhdGNoIHt9XG4gICAgc2V0SGFzQ2hhcHRlcnNDYWNoZShBcnJheS5pc0FycmF5KGNoYXB0ZXJzKSAmJiBjaGFwdGVycy5sZW5ndGggPiAwKTtcbiAgfSwgW2NoYXB0ZXJzLCBjaGFwdGVyc0NhY2hlS2V5XSk7XG4gIC8vIFBlcnNpc3QgdGFicyBhbmQgYWN0aXZlIHRhYlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRhYnNDYWNoZUtleSwgSlNPTi5zdHJpbmdpZnkodGFicykpOyB9IGNhdGNoIHt9XG4gIH0sIFt0YWJzLCB0YWJzQ2FjaGVLZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgYWN0aXZlSWQpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShhY3RpdmVUYWJLZXksIGFjdGl2ZUlkKTsgfSBjYXRjaCB7fVxuICB9LCBbYWN0aXZlSWQsIGFjdGl2ZVRhYktleV0pO1xuICAvLyBQZXJzaXN0IFVJIHRvZ2dsZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsZWZ0Q29sbGFwc2VkS2V5LCBsZWZ0Q29sbGFwc2VkID8gJzEnIDogJzAnKTsgfSBjYXRjaCB7fVxuICB9LCBbbGVmdENvbGxhcHNlZCwgbGVmdENvbGxhcHNlZEtleV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHJpZ2h0T3BlbktleSwgcmlnaHRPcGVuID8gJzEnIDogJzAnKTsgfSBjYXRjaCB7fVxuICB9LCBbcmlnaHRPcGVuLCByaWdodE9wZW5LZXldKTtcblxuICBjb25zdCBvcGVuVGFiID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRUYWJzKChwcmV2KSA9PiAocHJldi5pbmNsdWRlcyhpZCkgPyBwcmV2IDogWy4uLnByZXYsIGlkXSkpO1xuICAgIHNldEFjdGl2ZUlkKGlkKTtcbiAgICBjb25zdCBjaCA9IGNoYXB0ZXJzLmZpbmQoKGMpID0+IGMuaWQgPT09IGlkKTtcbiAgICBzZXRUaXRsZShjaD8udGl0bGUgfHwgXCJcIik7XG4gICAgc2V0Q29udGVudCgoY2g/LmNvbnRlbnQgfHwgXCJcIikgYXMgc3RyaW5nKTtcbiAgfSwgW2NoYXB0ZXJzXSk7XG5cbiAgY29uc3QgY2xvc2VUYWIgPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFRhYnMoKHByZXYpID0+IHByZXYuZmlsdGVyKCh0KSA9PiB0ICE9PSBpZCkpO1xuICAgIHNldEFjdGl2ZUlkKChjdXJyKSA9PiB7XG4gICAgICBpZiAoY3VyciAhPT0gaWQpIHJldHVybiBjdXJyO1xuICAgICAgY29uc3QgaWR4ID0gdGFicy5pbmRleE9mKGlkKTtcbiAgICAgIGNvbnN0IG5leHQgPSB0YWJzW2lkeCArIDFdIHx8IHRhYnNbaWR4IC0gMV0gfHwgbnVsbDtcbiAgICAgIHJldHVybiBuZXh0IHx8IG51bGw7XG4gICAgfSk7XG4gIH0sIFt0YWJzXSk7XG5cbiAgLy8gSHlkcmF0ZSBlZGl0b3IgZmllbGRzIHdoZW4gYWN0aXZlSWQgYW5kIGNoYXB0ZXJzIGFyZSByZXN0b3JlZCBmcm9tIGNhY2hlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhY3RpdmVJZCkgcmV0dXJuO1xuICAgIGlmIChhY3RpdmVJZCA9PT0gU0VUVElOR1NfVEFCX0lEIHx8IGFjdGl2ZUlkID09PSBDSEFSQUNURVJTX1RBQl9JRCB8fCBhY3RpdmVJZCA9PT0gV09STERfVEFCX0lEKSByZXR1cm47XG4gICAgY29uc3QgY2ggPSBjaGFwdGVycy5maW5kKChjKSA9PiBjLmlkID09PSBhY3RpdmVJZCk7XG4gICAgaWYgKCFjaCkgcmV0dXJuO1xuICAgIHNldFRpdGxlKGNoLnRpdGxlIHx8IFwiXCIpO1xuICAgIHNldENvbnRlbnQoKGNoLmNvbnRlbnQgfHwgXCJcIikgYXMgc3RyaW5nKTtcbiAgfSwgW2FjdGl2ZUlkLCBjaGFwdGVyc10pO1xuXG4gIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gKGU6IFJlYWN0LkRyYWdFdmVudDxIVE1MRGl2RWxlbWVudD4sIGlkOiBzdHJpbmcpID0+IHtcbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC90YWJcIiwgaWQpO1xuICB9O1xuICBjb25zdCBvbkRyb3AgPSAoZTogUmVhY3QuRHJhZ0V2ZW50PEhUTUxEaXZFbGVtZW50PiwgdGFyZ2V0SWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHNyY0lkID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHQvdGFiXCIpO1xuICAgIGlmICghc3JjSWQgfHwgc3JjSWQgPT09IHRhcmdldElkKSByZXR1cm47XG4gICAgc2V0VGFicygocHJldikgPT4ge1xuICAgICAgY29uc3QgYXJyID0gWy4uLnByZXZdO1xuICAgICAgY29uc3Qgc2kgPSBhcnIuaW5kZXhPZihzcmNJZCk7XG4gICAgICBjb25zdCB0aSA9IGFyci5pbmRleE9mKHRhcmdldElkKTtcbiAgICAgIGlmIChzaSA8IDAgfHwgdGkgPCAwKSByZXR1cm4gcHJldjtcbiAgICAgIGFyci5zcGxpY2UodGksIDAsIGFyci5zcGxpY2Uoc2ksIDEpWzBdKTtcbiAgICAgIHJldHVybiBhcnI7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gUGVyc2lzdCBlZGl0cyAoZGVib3VuY2VkKVxuICBjb25zdCBzY2hlZHVsZVNhdmUgPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZywgdDogc3RyaW5nLCBjOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWlkKSByZXR1cm47XG4gICAgaWYgKHNhdmVUaW1lci5jdXJyZW50KSBjbGVhclRpbWVvdXQoc2F2ZVRpbWVyLmN1cnJlbnQpO1xuICAgIHNhdmVUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBhcGkudXBkYXRlQ2hhcHRlcihwcm9qZWN0SWQsIGlkLCB7IHRpdGxlOiB0LCBjb250ZW50OiBjIH0pO1xuICAgICAgICBzZXRDaGFwdGVycygocHJldikgPT4gcHJldi5tYXAoKGNoKSA9PiBjaC5pZCA9PT0gaWQgPyB7IC4uLmNoLCB0aXRsZTogdCwgY29udGVudDogYyB9IDogY2gpKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSwgNTAwKTtcbiAgfSwgW2FwaSwgcHJvamVjdElkXSk7XG5cbiAgLy8gQWN0aXZlIGNoYW5nZSBoYW5kbGVyc1xuICBjb25zdCBvblRpdGxlQ2hhbmdlID0gKHY6IHN0cmluZykgPT4ge1xuICAgIGlmICghYWN0aXZlSWQpIHJldHVybjtcbiAgICBzZXRUaXRsZSh2KTtcbiAgICBzY2hlZHVsZVNhdmUoYWN0aXZlSWQsIHYsIGNvbnRlbnQpO1xuICB9O1xuICBjb25zdCBvbkNvbnRlbnRDaGFuZ2UgPSAodjogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFhY3RpdmVJZCkgcmV0dXJuO1xuICAgIHNldENvbnRlbnQodik7XG4gICAgc2NoZWR1bGVTYXZlKGFjdGl2ZUlkLCB0aXRsZSwgdik7XG4gIH07XG5cbiAgY29uc3Qgb25OZXdDaGFwdGVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuY3JlYXRlQ2hhcHRlcihwcm9qZWN0SWQsIHsgdGl0bGU6IFwiVW50aXRsZWQgQ2hhcHRlclwiIH0pO1xuICAgICAgY29uc3QgY3JlYXRlZEF0ID0gKHJlcyBhcyBhbnkpLmNyZWF0ZWRBdCBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICBzZXRDaGFwdGVycygocHJldikgPT4gc29ydENoYXB0ZXJzKFsuLi5wcmV2LCB7IGlkOiAocmVzIGFzIGFueSkuaWQsIHRpdGxlOiAocmVzIGFzIGFueSkudGl0bGUsIGNvbnRlbnQ6IFwiXCIsIGNyZWF0ZWRBdCB9XSkpO1xuICAgICAgb3BlblRhYigocmVzIGFzIGFueSkuaWQpO1xuICAgIH0gY2F0Y2gge31cbiAgfTtcblxuICBjb25zdCBvbkRlbGV0ZUNoYXB0ZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcbiAgICAgIGlmICghY29uZmlybSgnRGVsZXRlIHRoaXMgY2hhcHRlciBwZXJtYW5lbnRseT8nKSkgcmV0dXJuO1xuICAgICAgc2V0RGVsZXRpbmdJZChpZCk7XG4gICAgICBhd2FpdCBhcGkuZGVsZXRlQ2hhcHRlcihwcm9qZWN0SWQsIGlkKTtcbiAgICAgIHNldENoYXB0ZXJzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoYykgPT4gYy5pZCAhPT0gaWQpKTtcbiAgICAgIHNldFRhYnMoKHByZXYpID0+IHByZXYuZmlsdGVyKCh0KSA9PiB0ICE9PSBpZCkpO1xuICAgICAgc2V0QWN0aXZlSWQoKGN1cnIpID0+IChjdXJyID09PSBpZCA/IG51bGwgOiBjdXJyKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc3QgbXNnID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogJ0ZhaWxlZCB0byBkZWxldGUnO1xuICAgICAgc2V0RXJyb3JDaChtc2cpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXREZWxldGluZ0lkKG51bGwpO1xuICAgIH1cbiAgfSwgW2FwaSwgcHJvamVjdElkXSk7XG5cbiAgY29uc3QgYWN0aXZlQ2hhcHRlciA9IGNoYXB0ZXJzLmZpbmQoKGMpID0+IGMuaWQgPT09IGFjdGl2ZUlkKSB8fCBudWxsO1xuXG4gIGNvbnN0IGdyaWRDb2xzID0gYCR7bGVmdENvbGxhcHNlZCA/ICcnIDogJzI2MHB4ICd9MWZyJHtyaWdodE9wZW4gPyAnIDI2MHB4JyA6ICcnfWA7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtc2NyZWVuIHctc2NyZWVuIGJnLWJnLXByaW1hcnkgdGV4dC10ZXh0LXByaW1hcnkgZ3JpZCBncmlkLXJvd3MtW2F1dG9fMWZyXSByZWxhdGl2ZVwiPlxuICAgICAgey8qIFRvcCBUYWJzIEJhciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMiBib3JkZXItYiBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctcHJpbWFyeSBmbGV4IGl0ZW1zLWNlbnRlciByZWxhdGl2ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wIGZsZXggaXRlbXMtc3RyZXRjaCBnYXAtMSBweC0yIG92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgIHt0YWJzLm1hcCgoaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoID0gY2hhcHRlcnMuZmluZCgoYykgPT4gYy5pZCA9PT0gaWQpO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlID0gaWQgPT09IGFjdGl2ZUlkO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBpZCA9PT0gU0VUVElOR1NfVEFCX0lEID8gJ1NldHRpbmdzJyA6IChpZCA9PT0gQ0hBUkFDVEVSU19UQUJfSUQgPyAnQ2hhcmFjdGVycycgOiAoY2g/LnRpdGxlIHx8ICdVbnRpdGxlZCcpKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBrZXk9e2lkfVxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4gb25EcmFnU3RhcnQoZSwgaWQpfVxuICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9XG4gICAgICAgICAgICAgICAgb25Ecm9wPXsoZSkgPT4gb25Ecm9wKGUsIGlkKX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IHsgaWYgKGUuYnV0dG9uID09PSAxKSB7IGUucHJldmVudERlZmF1bHQoKTsgY2xvc2VUYWIoaWQpOyB9IH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZ3JvdXAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBoLTEwIHJvdW5kZWQtdC1tZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgJHthY3RpdmUgPyAnYmctYmctZWxldmF0ZWQgdGV4dC10ZXh0LXByaW1hcnknIDogJ3RleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyJ31gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZUlkKGlkKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdHJ1bmNhdGUgbWF4LXctWzE2MHB4XVwiPntsYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgaG92ZXI6dGV4dC1yZWQtNDAwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0xNTBcIiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBjbG9zZVRhYihpZCk7IH19PsOXPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC10ZXh0LXByaW1hcnkgdHJ1bmNhdGUgbWF4LXctWzYwJV0gdHJhY2tpbmctZWxlZ2FudFwiPntwcm9qZWN0VGl0bGUgfHwgJ1Byb2plY3QnfTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xIHotMTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHB4LTMgcHktMS41IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1lbGV2YXRlZCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtYWNjZW50IGhvdmVyOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNldHRpbmdzTWVudU9wZW4oKHYpID0+ICF2KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+U2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgICA8SWNvblNldHRpbmdzIGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIHtzZXR0aW5nc01lbnVPcGVuICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMCB0b3AtMTAgei0yMCB3LTQ4IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1lbGV2YXRlZCBzaGFkb3ctZWxldmF0aW9uXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXIgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRTZXR0aW5nc01lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIC8vIE9wZW4gc2V0dGluZ3MgYXMgYSBjZW50cmFsIHRhYlxuICAgICAgICAgICAgICAgICAgaWYgKCF0YWJzLmluY2x1ZGVzKFNFVFRJTkdTX1RBQl9JRCkpIHNldFRhYnMoKHByZXYpID0+IFsuLi5wcmV2LCBTRVRUSU5HU19UQUJfSURdKTtcbiAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUlkKFNFVFRJTkdTX1RBQl9JRCk7XG4gICAgICAgICAgICAgICAgICBzZXRSZW5hbWVUaXRsZShwcm9qZWN0VGl0bGUgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgc2V0UmVuYW1lRGVzYyhwcm9qZWN0RGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICAgICAgICAgICAgc2V0UmVuYW1lRXJyb3IobnVsbCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlByb2plY3QgU2V0dGluZ3M8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yIHRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlciBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFNldHRpbmdzTWVudU9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgaWYgKCF0YWJzLmluY2x1ZGVzKFdPUkxEX1RBQl9JRCkpIHNldFRhYnMoKHByZXYpID0+IFsuLi5wcmV2LCBXT1JMRF9UQUJfSURdKTtcbiAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUlkKFdPUkxEX1RBQl9JRCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPldvcmxkIFNldHRpbmdzPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXIgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRTZXR0aW5nc01lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGlmICghdGFicy5pbmNsdWRlcyhDSEFSQUNURVJTX1RBQl9JRCkpIHNldFRhYnMoKHByZXYpID0+IFsuLi5wcmV2LCBDSEFSQUNURVJTX1RBQl9JRF0pO1xuICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlSWQoQ0hBUkFDVEVSU19UQUJfSUQpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5DaGFyYWN0ZXJzPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7bGVmdENvbGxhcHNlZCAmJiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTIgdG9wLTE0IHotMTAgdGV4dC14cyBweC0zIHB5LTIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLWVsZXZhdGVkIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC1hY2NlbnQgaG92ZXI6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgc2hhZG93LWVsZXZhdGlvblwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0TGVmdENvbGxhcHNlZChmYWxzZSl9XG4gICAgICAgID5cbiAgICAgICAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgIDxzcGFuPkNoYXB0ZXJzPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBMYXlvdXQ6IExlZnQgc2lkZWJhciArIE1haW4gZWRpdG9yICsgUmlnaHQgc2lkZWJhciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBtaW4taC0wXCIgc3R5bGU9e3sgZ3JpZFRlbXBsYXRlQ29sdW1uczogZ3JpZENvbHMgfX0+XG4gICAgICAgIHsvKiBMZWZ0OiBDaGFwdGVyIFRyZWUgKi99XG4gICAgICAgIHshbGVmdENvbGxhcHNlZCAmJiAoXG4gICAgICAgIDxhc2lkZSBjbGFzc05hbWU9XCJib3JkZXItciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctcHJpbWFyeSBtaW4taC0wIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTUgcHktNCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdHJhY2tpbmctWzAuMDVlbV0gdXBwZXJjYXNlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICA8c3Bhbj5DSEFQVEVSUzwvc3Bhbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtYWNjZW50IHJvdW5kZWQgcC0xIGhvdmVyOmJnLWJnLWhvdmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiIG9uQ2xpY2s9eygpID0+IHNldExlZnRDb2xsYXBzZWQodHJ1ZSl9PlxuICAgICAgICAgICAgICA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5Db2xsYXBzZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBweC00XCI+XG4gICAgICAgICAgICB7bG9hZGluZ0NoICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IHB4LTIgcHktMlwiPkxvYWRpbmfigKY8L2Rpdj59XG4gICAgICAgICAgICB7ZXJyb3JDaCAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNDAwIHB4LTIgcHktMiBiZy1yZWQtOTUwLzIwIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzIwXCI+e2Vycm9yQ2h9PC9kaXY+fVxuICAgICAgICAgICAge2NoYXB0ZXJzLm1hcCgoYywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHdvcmRDb3VudCA9IGMuY29udGVudCA/IGMuY29udGVudC50cmltKCkuc3BsaXQoL1xccysvKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoIDogMDtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2MuaWR9IGNsYXNzTmFtZT17YGdyb3VwIHctZnVsbCBmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBnYXAtMiBweC0zIHB5LTMgcm91bmRlZC1sZyBtYi0yIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCAke2FjdGl2ZUlkID09PSBjLmlkID8gJ2JnLWJnLWVsZXZhdGVkIGJvcmRlci1sLTMgYm9yZGVyLWFjY2VudCcgOiAnaG92ZXI6YmctYmctaG92ZXInfWB9PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSB0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb3BlblRhYihjLmlkKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRleHQtdGV4dC10ZXJ0aWFyeSBtYi0xXCI+Q2hhcHRlciB7aWR4ICsgMX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0xICR7YWN0aXZlSWQgPT09IGMuaWQgPyAndGV4dC10ZXh0LXByaW1hcnknIDogJ3RleHQtdGV4dC1zZWNvbmRhcnknfWB9PntjLnRpdGxlIHx8ICdVbnRpdGxlZCd9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5XCI+e3dvcmRDb3VudH0gd29yZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTE1MCAke2RlbGV0aW5nSWQgPT09IGMuaWQgPyAndGV4dC1yZWQtNDAwIG9wYWNpdHktNjAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICd0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC1yZWQtNDAwJ31gfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaWYgKGRlbGV0aW5nSWQpIHJldHVybjsgdm9pZCBvbkRlbGV0ZUNoYXB0ZXIoYy5pZCk7IH19XG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBjaGFwdGVyXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkZWxldGluZ0lkID09PSBjLmlkfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtkZWxldGluZ0lkID09PSBjLmlkID8gPExvYWRlcjIgY2xhc3NOYW1lPVwidy00IGgtNCBhbmltYXRlLXNwaW5cIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPiA6IDxUcmFzaDIgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+fVxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPkRlbGV0ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO30pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci10IGJvcmRlci1ib3JkZXItZGVmYXVsdFwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC1sZyBiZy1iZy1lbGV2YXRlZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGhvdmVyOmJvcmRlci1hY2NlbnQgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIHB4LTQgcHktMyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgaG92ZXI6LXRyYW5zbGF0ZS15LTAuNVwiIG9uQ2xpY2s9e29uTmV3Q2hhcHRlcn0+XG4gICAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICA8c3Bhbj5OZXcgQ2hhcHRlcjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2FzaWRlPlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBDZW50ZXI6IEVkaXRvciAqL31cbiAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwibWluLWgtMCBvdmVyZmxvdy1oaWRkZW4gYmctYmctcHJpbWFyeSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAge2FjdGl2ZUlkID09PSBTRVRUSU5HU19UQUJfSUQgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBncmlkIGdyaWQtcm93cy1bYXV0b18xZnJfYXV0b10gYmctYmctZWxldmF0ZWRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItYm9yZGVyLWRlZmF1bHQgcHgtNiBweS00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LXRleHQtcHJpbWFyeSB0cmFja2luZy1lbGVnYW50XCI+UHJvamVjdCBTZXR0aW5nczwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC0wIG92ZXJmbG93LXktYXV0byBweC02IHB5LTZcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTQgbWF4LXctMnhsXCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+VGl0bGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZW5hbWVUaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFJlbmFtZVRpdGxlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LXRlcnRpYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPkRlc2NyaXB0aW9uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cmVuYW1lRGVzY31cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFJlbmFtZURlc2MoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTAgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPk1vZGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJvak1vZGV9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9qTW9kZShlLnRhcmdldC52YWx1ZSBhcyBhbnkpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdOKApjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJub3ZlbFwiPk5vdmVsPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1hbmh3YVwiPk1hbmh3YTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+R2VucmU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9qR2VucmV9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9qR2VucmUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICB7LyogV29ybGQgTmFtZSByZW1vdmVkICovfVxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPkNvcmUgQ29uZmxpY3Q8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9qQ29yZUNvbmZsaWN0fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJvakNvcmVDb25mbGljdChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5TZXR0aW5ncyBKU09OPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJvalNldHRpbmdzSnNvbn1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByb2pTZXR0aW5nc0pzb24oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezEwfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwIGZvbnQtbW9ubyB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICB7cmVuYW1lRXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTQwMCBwLTMgcm91bmRlZC1sZyBiZy1yZWQtOTUwLzIwIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMFwiPntyZW5hbWVFcnJvcn08L2Rpdj59XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTQgcHgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMyBib3JkZXItdCBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctcHJpbWFyeVwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0QWN0aXZlSWQobnVsbCl9IGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIj5DbG9zZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmdSZW5hbWV9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNhdmluZ1JlbmFtZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVuYW1lRXJyb3IobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlQm9keTogYW55ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IHJlbmFtZVRpdGxlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiB0ICE9PSBwcm9qZWN0VGl0bGUpIHVwZGF0ZUJvZHkudGl0bGUgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW5hbWVEZXNjICE9PSBwcm9qZWN0RGVzY3JpcHRpb24pIHVwZGF0ZUJvZHkuZGVzY3JpcHRpb24gPSByZW5hbWVEZXNjO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh1cGRhdGVCb2R5KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgYXBpLnVwZGF0ZVByb2plY3QocHJvamVjdElkLCB1cGRhdGVCb2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb2plY3RUaXRsZSh1cGRhdGVkPy50aXRsZSB8fCB0IHx8IHByb2plY3RUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9qZWN0RGVzY3JpcHRpb24odXBkYXRlZD8uZGVzY3JpcHRpb24gPz8gcmVuYW1lRGVzYyA/PyBwcm9qZWN0RGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VzOiBhbnkgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvak1vZGUpIGNoYW5nZXMubW9kZSA9IHByb2pNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qR2VucmUpIGNoYW5nZXMuZ2VucmUgPSBwcm9qR2VucmU7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pDb3JlQ29uZmxpY3QpIGNoYW5nZXMuY29yZUNvbmZsaWN0ID0gcHJvakNvcmVDb25mbGljdDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvalNldHRpbmdzSnNvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgY2hhbmdlcy5zZXR0aW5nc0pzb24gPSBKU09OLnBhcnNlKHByb2pTZXR0aW5nc0pzb24pOyB9IGNhdGNoIHsgY2hhbmdlcy5zZXR0aW5nc0pzb24gPSBwcm9qU2V0dGluZ3NKc29uOyB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjaGFuZ2VzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhcGkudXBkYXRlUHJvamVjdFNldHRpbmdzKHByb2plY3RJZCwgY2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdwcm9qZWN0OnNldHRpbmdzLXVwZGF0ZWQnLCB7IGRldGFpbDogeyBwcm9qZWN0SWQsIGNoYW5nZXMgfSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUb2FzdDogU2V0dGluZ3Mgc2F2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2FzdFRpbWVyLmN1cnJlbnQpIGNsZWFyVGltZW91dCh0b2FzdFRpbWVyLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9hc3RNc2coJ1NldHRpbmdzIHNhdmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdFRpbWVyLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHNldFRvYXN0TXNnKCcnKSwgMzAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRSZW5hbWVFcnJvcihlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2F2ZScpO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNhdmluZ1JlbmFtZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZC1tZCBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIGRpc2FibGVkOm9wYWNpdHktNTAgdGV4dC13aGl0ZSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtzYXZpbmdSZW5hbWUgPyAnU2F2aW5n4oCmJyA6ICdTYXZlIFNldHRpbmdzJ31cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogYWN0aXZlSWQgPT09IENIQVJBQ1RFUlNfVEFCX0lEID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgYmctYmctZWxldmF0ZWRcIj5cbiAgICAgICAgICAgICAgPENoYXJhY3Rlck1hbmFnZXIgcHJvamVjdElkPXtwcm9qZWN0SWR9IHJlcXVpcmVJbWFnZT17cHJvak1vZGUgPT09ICdtYW5od2EnfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IGFjdGl2ZUlkID09PSBXT1JMRF9UQUJfSUQgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBiZy1iZy1lbGV2YXRlZFwiPlxuICAgICAgICAgICAgICA8V29ybGRTZXR0aW5nc01hbmFnZXIgcHJvamVjdElkPXtwcm9qZWN0SWR9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogYWN0aXZlSWQgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIHsvKiBFZGl0b3IgQ2FudmFzIC0gRWxldmF0ZWQgU3VyZmFjZSAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLWgtMCBvdmVyZmxvdy15LWF1dG8gYmctYmctZWxldmF0ZWQgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LVs4MDBweF0gcHgtMTIgcHktMTZcIj5cbiAgICAgICAgICAgICAgICAgIHsvKiBDaGFwdGVyIFRpdGxlIElucHV0ICovfVxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvblRpdGxlQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDaGFwdGVyIFRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXRyYW5zcGFyZW50IGJvcmRlci1ub25lIHRleHQtWzMycHhdIGZvbnQtYm9sZCB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIG1iLTggdHJhY2tpbmctdGlnaHRcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIHsvKiBDaGFwdGVyIENvbnRlbnQgLSBDb250ZW50ZWRpdGFibGUgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRFZGl0YWJsZVxuICAgICAgICAgICAgICAgICAgICBzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcbiAgICAgICAgICAgICAgICAgICAgb25JbnB1dD17KGUpID0+IG9uQ29udGVudENoYW5nZShlLmN1cnJlbnRUYXJnZXQudGV4dENvbnRlbnQgfHwgJycpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbWluLWgtWzQwMHB4XSB0ZXh0LWxnIGxlYWRpbmctWzEuOF0gdGV4dC10ZXh0LXByaW1hcnkgb3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7Y29udGVudH1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgeyFjb250ZW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIHRleHQtdGV4dC10ZXJ0aWFyeSBwb2ludGVyLWV2ZW50cy1ub25lIC1tdC1bNDAwcHhdIGxlYWRpbmctWzEuOF1cIj5TdGFydCB3cml0aW5nIHlvdXIgc3RvcnkuLi48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7LyogU3RhdHVzIEJhciAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEyIGJnLWJnLXByaW1hcnkgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHB4LTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtWzEzcHhdIHRleHQtdGV4dC10ZXJ0aWFyeVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTZcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTEuNSBoLTEuNSByb3VuZGVkLWZ1bGwgJHtzYXZpbmcgPyAnYmctd2FybmluZyBhbmltYXRlLXB1bHNlJyA6ICdiZy1zdWNjZXNzJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57c2F2aW5nID8gJ1NhdmluZ+KApicgOiAnU2F2ZWQnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj57Y29udGVudC50cmltKCkuc3BsaXQoL1xccysvKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RofSB3b3JkczwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj57Y29udGVudC5sZW5ndGh9IGNoYXJhY3RlcnM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+e01hdGguY2VpbChjb250ZW50LnRyaW0oKS5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKS5sZW5ndGggLyAyMDApfSBtaW4gcmVhZDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICB7YWN0aXZlQ2hhcHRlcj8uY3JlYXRlZEF0ICYmIGBMYXN0IGVkaXRlZCAke25ldyBEYXRlKGFjdGl2ZUNoYXB0ZXIuY3JlYXRlZEF0KS50b0xvY2FsZVN0cmluZygpfWB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGJnLWJnLWVsZXZhdGVkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWF4LXctbWRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5IG1iLTJcIj5ObyBDaGFwdGVyIFNlbGVjdGVkPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnlcIj5PcGVuIGEgY2hhcHRlciBmcm9tIHRoZSBsZWZ0IHNpZGViYXIgdG8gc3RhcnQgZWRpdGluZy48L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L21haW4+XG5cbiAgICAgICAgey8qIFJpZ2h0OiBDaGF0cyBTaWRlYmFyICovfVxuICAgICAgICB7cmlnaHRPcGVuICYmIChcbiAgICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cImJvcmRlci1sIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1wcmltYXJ5IG1pbi1oLTAgZmxleCBmbGV4LWNvbCByZWxhdGl2ZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNSBweS00IHRleHQteHMgZm9udC1zZW1pYm9sZCB0cmFja2luZy1bMC4wNWVtXSB1cHBlcmNhc2UgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtdGV4dC1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeVwiIG9uQ2xpY2s9eygpID0+IHNldENoYXRNZW51T3Blbigodik9PiF2KX0+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlIG1heC13LVsxNDBweF0gdGV4dC10ZXh0LXByaW1hcnkgbm9ybWFsLWNhc2UgdGV4dC1zbSBmb250LW1lZGl1bVwiPnsoY2hhdHMuZmluZChjPT5jLmlkPT09YWN0aXZlQ2hhdElkKT8udGl0bGUpIHx8ICdTZWxlY3QgY2hhdCd9PC9zcGFuPlxuICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPXtgdy0zLjUgaC0zLjUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gJHtjaGF0TWVudU9wZW4gPyAncm90YXRlLTE4MCcgOiAnJ31gfSBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtYWNjZW50IHJvdW5kZWQgcC0xIGhvdmVyOmJnLWJnLWhvdmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiIG9uQ2xpY2s9eygpID0+IHsgc2V0TmV3Q2hhdE9wZW4odHJ1ZSk7IHNldENoYXRNZW51T3Blbih0cnVlKTsgfX0gdGl0bGU9XCJOZXcgQ2hhdFwiPlxuICAgICAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC1hY2NlbnQgcm91bmRlZCBwLTEgaG92ZXI6YmctYmctaG92ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCIgb25DbGljaz17KCkgPT4gc2V0UmlnaHRPcGVuKGZhbHNlKX0+XG4gICAgICAgICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+Q29sbGFwc2U8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2NoYXRNZW51T3BlbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMyByaWdodC0zIHRvcC0xNCB6LTIwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1lbGV2YXRlZCBzaGFkb3ctZWxldmF0aW9uXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGJvcmRlci1iIGJvcmRlci1ib3JkZXItZGVmYXVsdCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXRleHQtcHJpbWFyeVwiPkNoYXRzPC9kaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnlcIiBvbkNsaWNrPXsoKT0+IHNldENoYXRNZW51T3BlbihmYWxzZSl9PuKclTwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgc3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAge25ld0NoYXRPcGVuICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLWxnIHAtMyBiZy1iZy1wcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgbWItMlwiPkNyZWF0ZSBhIG5ldyBjaGF0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHsoWydwbG90JywnY2hhcmFjdGVyJywnd29ybGQnXSBhcyBjb25zdCkubWFwKCh0KT0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBrZXk9e3R9IGNsYXNzTmFtZT17YHRleHQteHMgcHgtMyBweS0xLjUgcm91bmRlZC1tZCBib3JkZXIgY3Vyc29yLXBvaW50ZXIgJHtuZXdDaGF0VHlwZT09PXQgPyAnYm9yZGVyLWFjY2VudCB0ZXh0LWFjY2VudCcgOiAnYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnknfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImNoYXQtdHlwZVwiIGNsYXNzTmFtZT1cImhpZGRlblwiIGNoZWNrZWQ9e25ld0NoYXRUeXBlPT09dH0gb25DaGFuZ2U9eygpPT5zZXROZXdDaGF0VHlwZSh0KX0gLz57dH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e25ld0NoYXRUaXRsZX0gb25DaGFuZ2U9eyhlKT0+c2V0TmV3Q2hhdFRpdGxlKGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9XCJUaXRsZSAob3B0aW9uYWwpXCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLWVsZXZhdGVkIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC0zIHB5LTIgdGV4dC10ZXh0LXByaW1hcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdGV4dC1zbVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIHtjcmVhdGVDaGF0RXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQteHMgdGV4dC1yZWQtNDAwXCI+e2NyZWF0ZUNoYXRFcnJvcn08L2Rpdj59XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwicHgtMyBweS0xLjUgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXJcIiBvbkNsaWNrPXsoKT0+eyBzZXROZXdDaGF0T3BlbihmYWxzZSk7IHNldE5ld0NoYXRUaXRsZSgnJyk7IHNldENyZWF0ZUNoYXRFcnJvcihudWxsKTsgfX0+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJweC0zIHB5LTEuNSByb3VuZGVkLW1kIGJnLWFjY2VudCBob3ZlcjpiZy1hY2NlbnQtaG92ZXIgdGV4dC13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTUwXCIgZGlzYWJsZWQ9e2NyZWF0aW5nQ2hhdH0gb25DbGljaz17YXN5bmMgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENyZWF0aW5nQ2hhdCh0cnVlKTsgc2V0Q3JlYXRlQ2hhdEVycm9yKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IGF3YWl0IGFwaS5jcmVhdGVDaGF0KHByb2plY3RJZCwgeyB0eXBlOiBuZXdDaGF0VHlwZSwgdGl0bGU6IG5ld0NoYXRUaXRsZSB8fCB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldENoYXRzKChwcmV2KT0+Wy4uLnByZXYsIGNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlQ2hhdElkKGMuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXROZXdDaGF0T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldE5ld0NoYXRUaXRsZSgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldENoYXRNZW51T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlYXRlQ2hhdEVycm9yKGU/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY2hhdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsgc2V0Q3JlYXRpbmdDaGF0KGZhbHNlKTsgfVxuICAgICAgICAgICAgICAgICAgICAgIH19PntjcmVhdGluZ0NoYXQgPyAnQ3JlYXRpbmfigKYnIDogJ0NyZWF0ZSd9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC1oLTY0IG92ZXJmbG93LXktYXV0byBwci0xXCI+XG4gICAgICAgICAgICAgICAgICB7IWNoYXRzLmxlbmd0aCAmJiAhbmV3Q2hhdE9wZW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHB4LTIgcHktMlwiPk5vIGNoYXRzIHlldC4gPGJ1dHRvbiBjbGFzc05hbWU9XCJ1bmRlcmxpbmVcIiBvbkNsaWNrPXsoKT0+eyBzZXROZXdDaGF0VHlwZSgncGxvdCcpOyBzZXROZXdDaGF0T3Blbih0cnVlKTsgfX0+Q3JlYXRlIHlvdXIgZmlyc3QgY2hhdDwvYnV0dG9uPi48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICB7Y2hhdHMubWFwKChjKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtjLmlkfSBjbGFzc05hbWU9e2Bncm91cCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHB4LTMgcHktMiByb3VuZGVkLW1kIG1iLTEgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwICR7YWN0aXZlQ2hhdElkPT09Yy5pZCA/ICdiZy1iZy1ob3ZlcicgOiAnaG92ZXI6YmctYmctaG92ZXInfWB9PlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZmxleC0xIHRleHQtbGVmdFwiIG9uQ2xpY2s9eygpID0+IHsgc2V0QWN0aXZlQ2hhdElkKGMuaWQpOyBzZXRDaGF0TWVudU9wZW4oZmFsc2UpOyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdXBwZXJjYXNlIHRleHQtdGV4dC10ZXJ0aWFyeSBtYi0wLjVcIj57Yy50eXBlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LXNtIGZvbnQtbWVkaXVtICR7YWN0aXZlQ2hhdElkPT09Yy5pZCA/ICd0ZXh0LXRleHQtcHJpbWFyeScgOiAndGV4dC10ZXh0LXNlY29uZGFyeSd9YH0+e2MudGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0xNTAgdGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtcmVkLTQwMGB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBpZiAoIWNvbmZpcm0oJ0RlbGV0ZSB0aGlzIGNoYXQ/JykpIHJldHVybjsgdHJ5IHsgYXdhaXQgYXBpLmRlbGV0ZUNoYXQocHJvamVjdElkLCBjLmlkKTsgc2V0Q2hhdHMoKHByZXYpPT5wcmV2LmZpbHRlcih4PT54LmlkIT09Yy5pZCkpOyBpZiAoYWN0aXZlQ2hhdElkPT09Yy5pZCkgc2V0QWN0aXZlQ2hhdElkKGNoYXRzLmZpbmQoeD0+eC5pZCE9PWMuaWQpPy5pZCB8fCBudWxsKTsgfSBjYXRjaCB7fSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUgY2hhdFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRyYXNoMiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5EZWxldGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7LyogQ2hhdCB2aWV3IGZpbGxzIHRoZSBzaWRlYmFyICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtMCBmbGV4LTEgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlci10IGJvcmRlci1ib3JkZXItZGVmYXVsdFwiPlxuICAgICAgICAgICAge2FjdGl2ZUNoYXRJZCA/IChcbiAgICAgICAgICAgICAgPENoYXQgY2hhdElkPXthY3RpdmVDaGF0SWR9IC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBncmlkIHBsYWNlLWl0ZW1zLWNlbnRlciB0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPk9wZW4gdGhlIGNoYXQgbWVudSB0byBjcmVhdGUgb3Igc2VsZWN0IGEgY2hhdC48L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvYXNpZGU+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgeyFyaWdodE9wZW4gJiYgKFxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTIgdG9wLTE0IHotMTAgdGV4dC14cyBweC0zIHB5LTIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLWVsZXZhdGVkIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC1hY2NlbnQgaG92ZXI6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgc2hhZG93LWVsZXZhdGlvblwiIG9uQ2xpY2s9eygpID0+IHNldFJpZ2h0T3Blbih0cnVlKX0+T3BlbiBDaGF0czwvYnV0dG9uPlxuICAgICAgKX1cblxuICAgICAgey8qIE5vIG1vZGFsOiBkcm9wZG93biBpcyBhbmNob3JlZCB0byBoZWFkZXIgaW5zaWRlIHRoZSBzaWRlYmFyICovfVxuXG4gICAgICB7c2V0dGluZ3NPcGVuICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZ3JpZCBwbGFjZS1pdGVtcy1jZW50ZXIgYmctYmxhY2svNjAgYmFja2Ryb3AtYmx1ci1zbVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kIGJnLWJnLWVsZXZhdGVkIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC14bCBwLTYgc2hhZG93LWVsZXZhdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+UHJvamVjdCBTZXR0aW5nczwvaDM+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2V0dGluZ3NPcGVuKGZhbHNlKX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiPuKclTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTEgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5XCI+VGl0bGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17cmVuYW1lVGl0bGV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFJlbmFtZVRpdGxlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTMgcHktMiB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICB7cmVuYW1lRXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTQwMCBwLTMgcm91bmRlZC1sZyBiZy1yZWQtOTUwLzIwIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMFwiPntyZW5hbWVFcnJvcn08L2Rpdj59XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTIgbXQtNFwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2V0dGluZ3NPcGVuKGZhbHNlKX0gY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmdSZW5hbWUgfHwgIXJlbmFtZVRpdGxlLnRyaW0oKX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2F2aW5nUmVuYW1lKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRSZW5hbWVFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgYXBpLnVwZGF0ZVByb2plY3QocHJvamVjdElkLCB7IHRpdGxlOiByZW5hbWVUaXRsZS50cmltKCkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0UHJvamVjdFRpdGxlKHVwZGF0ZWQ/LnRpdGxlIHx8IHJlbmFtZVRpdGxlLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2V0dGluZ3NPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0UmVuYW1lRXJyb3IoZT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNhdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTYXZpbmdSZW5hbWUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQtbWQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciBkaXNhYmxlZDpvcGFjaXR5LTUwIHRleHQtd2hpdGUgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7c2F2aW5nUmVuYW1lID8gJ1NhdmluZ+KApicgOiAnU2F2ZSd9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge3RvYXN0TXNnICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtNCByaWdodC00IHotNTAgYW5pbWF0ZS1pbiBzbGlkZS1pbi1mcm9tLWJvdHRvbS00IGR1cmF0aW9uLTIwMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0zIHJvdW5kZWQtbGcgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIHNoYWRvdy1lbGV2YXRpb25cIj5cbiAgICAgICAgICAgIHt0b2FzdE1zZ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlU3VwYWJhc2UiLCJjcmVhdGVBcGkiLCJDaGF0IiwiQ2hhcmFjdGVyTWFuYWdlciIsIldvcmxkU2V0dGluZ3NNYW5hZ2VyIiwiU2V0dGluZ3MiLCJJY29uU2V0dGluZ3MiLCJDaGV2cm9uTGVmdCIsIkNoZXZyb25SaWdodCIsIlBsdXMiLCJUcmFzaDIiLCJMb2FkZXIyIiwiQ2hldnJvbkRvd24iLCJXb3Jrc3BhY2UiLCJwcm9qZWN0SWQiLCJjaGF0cyIsInN1cGFiYXNlIiwiYXBpIiwiY2hhcHRlcnMiLCJzZXRDaGFwdGVycyIsImxvYWRpbmdDaCIsInNldExvYWRpbmdDaCIsImVycm9yQ2giLCJzZXRFcnJvckNoIiwidGFicyIsInNldFRhYnMiLCJhY3RpdmVJZCIsInNldEFjdGl2ZUlkIiwidGl0bGUiLCJzZXRUaXRsZSIsImNvbnRlbnQiLCJzZXRDb250ZW50Iiwic2F2aW5nIiwic2V0U2F2aW5nIiwic2F2ZVRpbWVyIiwibGVmdENvbGxhcHNlZCIsInNldExlZnRDb2xsYXBzZWQiLCJhaU11c2VPcGVuIiwic2V0QWlNdXNlT3BlbiIsImRlbGV0aW5nSWQiLCJzZXREZWxldGluZ0lkIiwicHJvamVjdFRpdGxlIiwic2V0UHJvamVjdFRpdGxlIiwicHJvamVjdERlc2NyaXB0aW9uIiwic2V0UHJvamVjdERlc2NyaXB0aW9uIiwic2V0dGluZ3NPcGVuIiwic2V0U2V0dGluZ3NPcGVuIiwicmVuYW1lVGl0bGUiLCJzZXRSZW5hbWVUaXRsZSIsInJlbmFtZURlc2MiLCJzZXRSZW5hbWVEZXNjIiwic2F2aW5nUmVuYW1lIiwic2V0U2F2aW5nUmVuYW1lIiwicmVuYW1lRXJyb3IiLCJzZXRSZW5hbWVFcnJvciIsInNldHRpbmdzTWVudU9wZW4iLCJzZXRTZXR0aW5nc01lbnVPcGVuIiwicHJvak1vZGUiLCJzZXRQcm9qTW9kZSIsInByb2pHZW5yZSIsInNldFByb2pHZW5yZSIsInByb2pDb3JlQ29uZmxpY3QiLCJzZXRQcm9qQ29yZUNvbmZsaWN0IiwicHJvalNldHRpbmdzSnNvbiIsInNldFByb2pTZXR0aW5nc0pzb24iLCJ0b2FzdE1zZyIsInNldFRvYXN0TXNnIiwidG9hc3RUaW1lciIsIlNFVFRJTkdTX1RBQl9JRCIsIkNIQVJBQ1RFUlNfVEFCX0lEIiwiV09STERfVEFCX0lEIiwicmlnaHRPcGVuIiwic2V0UmlnaHRPcGVuIiwiY2hhdHNDYWNoZUtleSIsImNoYXRzQWN0aXZlS2V5IiwiY2hhcHRlcnNDYWNoZUtleSIsInRhYnNDYWNoZUtleSIsImFjdGl2ZVRhYktleSIsImxlZnRDb2xsYXBzZWRLZXkiLCJyaWdodE9wZW5LZXkiLCJzZXRDaGF0cyIsImFjdGl2ZUNoYXRJZCIsInNldEFjdGl2ZUNoYXRJZCIsImhhc0NoYXRzQ2FjaGUiLCJzZXRIYXNDaGF0c0NhY2hlIiwiY2hhdHNSZWYiLCJuZXdDaGF0VHlwZSIsInNldE5ld0NoYXRUeXBlIiwibmV3Q2hhdFRpdGxlIiwic2V0TmV3Q2hhdFRpdGxlIiwibmV3Q2hhdE9wZW4iLCJzZXROZXdDaGF0T3BlbiIsImNyZWF0aW5nQ2hhdCIsInNldENyZWF0aW5nQ2hhdCIsImNyZWF0ZUNoYXRFcnJvciIsInNldENyZWF0ZUNoYXRFcnJvciIsImNoYXRNZW51T3BlbiIsInNldENoYXRNZW51T3BlbiIsImhhc0NoYXB0ZXJzQ2FjaGUiLCJzZXRIYXNDaGFwdGVyc0NhY2hlIiwicyIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJhcnIiLCJKU09OIiwicGFyc2UiLCJBcnJheSIsImlzQXJyYXkiLCJ2IiwiY2hzIiwidCIsImF0IiwibGMiLCJybyIsInNvcnRDaGFwdGVycyIsInNvcnQiLCJhIiwiYiIsInRhIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImdldFRpbWUiLCJ0YiIsImxvY2FsZUNvbXBhcmUiLCJtb3VudGVkIiwiaXRlbXMiLCJsaXN0Q2hhcHRlcnNQYWdpbmF0ZWQiLCJlIiwibWVzc2FnZSIsIm9uU2V0dGluZ3MiLCJkZXRhaWwiLCJjaGFuZ2VzIiwibW9kZSIsImdlbnJlIiwidW5kZWZpbmVkIiwiY29yZUNvbmZsaWN0Iiwic2V0dGluZ3NKc29uIiwic3RyaW5naWZ5Iiwib25Nb2RlIiwibSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlciIsIlN0cmluZyIsImMiLCJwYW5lbF9zY3JpcHQiLCJyZXMiLCJjcmVhdGVDaGFwdGVyIiwibmV3SWQiLCJpZCIsInByZXYiLCJpbmNsdWRlcyIsInRhcmdldElkIiwiY2hhcHRlcl9udW1iZXIiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJzb3J0ZWQiLCJpZHgiLCJNYXRoIiwibWF4IiwibWluIiwibGVuZ3RoIiwibWF0Y2giLCJmaW5kIiwidG9Mb3dlckNhc2UiLCJ1cGRhdGVkIiwidXBkYXRlQ2hhcHRlciIsIm1hcCIsInAiLCJnZXRQcm9qZWN0IiwiZGVzY3JpcHRpb24iLCJ4cyIsImxpc3RDaGF0cyIsIm5leHQiLCJjdXJyZW50IiwiY3JlYXRlZCIsImNyZWF0ZUNoYXQiLCJ0eXBlIiwic2V0SXRlbSIsIm9wZW5UYWIiLCJjaCIsImNsb3NlVGFiIiwiZmlsdGVyIiwiY3VyciIsImluZGV4T2YiLCJvbkRyYWdTdGFydCIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJvbkRyb3AiLCJzcmNJZCIsImdldERhdGEiLCJzaSIsInRpIiwic3BsaWNlIiwic2NoZWR1bGVTYXZlIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm9uVGl0bGVDaGFuZ2UiLCJvbkNvbnRlbnRDaGFuZ2UiLCJvbk5ld0NoYXB0ZXIiLCJvbkRlbGV0ZUNoYXB0ZXIiLCJjb25maXJtIiwiZGVsZXRlQ2hhcHRlciIsIm1zZyIsIkVycm9yIiwiYWN0aXZlQ2hhcHRlciIsImdyaWRDb2xzIiwiZGl2IiwiY2xhc3NOYW1lIiwiYWN0aXZlIiwibGFiZWwiLCJkcmFnZ2FibGUiLCJvbkRyYWdPdmVyIiwicHJldmVudERlZmF1bHQiLCJvbk1vdXNlRG93biIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzcGFuIiwic3RvcFByb3BhZ2F0aW9uIiwiYXJpYS1oaWRkZW4iLCJzdHlsZSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJhc2lkZSIsIndvcmRDb3VudCIsInRyaW0iLCJzcGxpdCIsIkJvb2xlYW4iLCJkaXNhYmxlZCIsIm1haW4iLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJ0ZXh0YXJlYSIsInJvd3MiLCJzZWxlY3QiLCJvcHRpb24iLCJ1cGRhdGVCb2R5IiwiT2JqZWN0Iiwia2V5cyIsInVwZGF0ZVByb2plY3QiLCJ1cGRhdGVQcm9qZWN0U2V0dGluZ3MiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJyZXF1aXJlSW1hZ2UiLCJwbGFjZWhvbGRlciIsImNvbnRlbnRFZGl0YWJsZSIsInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyIsIm9uSW5wdXQiLCJjdXJyZW50VGFyZ2V0IiwidGV4dENvbnRlbnQiLCJ3aGl0ZVNwYWNlIiwiY2VpbCIsInRvTG9jYWxlU3RyaW5nIiwibmFtZSIsImNoZWNrZWQiLCJkZWxldGVDaGF0IiwieCIsImNoYXRJZCIsImgzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/workspace/Workspace.tsx\n"));

/***/ })

});