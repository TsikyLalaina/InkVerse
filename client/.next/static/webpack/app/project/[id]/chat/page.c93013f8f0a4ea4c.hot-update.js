"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/project/[id]/chat/page",{

/***/ "(app-pages-browser)/./src/components/workspace/Workspace.tsx":
/*!************************************************!*\
  !*** ./src/components/workspace/Workspace.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Workspace: function() { return /* binding */ Workspace; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(app-pages-browser)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _components_chat_Chat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/chat/Chat */ \"(app-pages-browser)/./src/components/chat/Chat.tsx\");\n/* harmony import */ var _components_workspace_CharacterManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/workspace/CharacterManager */ \"(app-pages-browser)/./src/components/workspace/CharacterManager.tsx\");\n/* harmony import */ var _components_workspace_WorldSettingsManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/workspace/WorldSettingsManager */ \"(app-pages-browser)/./src/components/workspace/WorldSettingsManager.tsx\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* __next_internal_client_entry_do_not_use__ Workspace auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction Workspace(param) {\n    let { projectId } = param;\n    var _chats_find, _chats_find1;\n    _s();\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_3__.createApi)(supabase), [\n        supabase\n    ]);\n    const [chapters, setChapters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loadingCh, setLoadingCh] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [errorCh, setErrorCh] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [tabs, setTabs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [content, setContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const saveTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [leftCollapsed, setLeftCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiMuseOpen, setAiMuseOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deletingId, setDeletingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [projectTitle, setProjectTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projectDescription, setProjectDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [settingsOpen, setSettingsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [renameTitle, setRenameTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [renameDesc, setRenameDesc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [savingRename, setSavingRename] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [renameError, setRenameError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [settingsMenuOpen, setSettingsMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [projMode, setProjMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projGenre, setProjGenre] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Removed worldName field from Project\n    const [projCoreConflict, setProjCoreConflict] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projSettingsJson, setProjSettingsJson] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [toastMsg, setToastMsg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const SETTINGS_TAB_ID = \"__settings__\";\n    const CHARACTERS_TAB_ID = \"__characters__\";\n    const WORLD_TAB_ID = \"__world__\";\n    // Chats sidebar (right)\n    const [rightOpen, setRightOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const chatsCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_chats\"), [\n        projectId\n    ]);\n    const chatsActiveKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_active_chat\"), [\n        projectId\n    ]);\n    const chaptersCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_chapters\"), [\n        projectId\n    ]);\n    const tabsCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_open_tabs\"), [\n        projectId\n    ]);\n    const activeTabKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_active_tab\"), [\n        projectId\n    ]);\n    const leftCollapsedKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_left_collapsed\"), [\n        projectId\n    ]);\n    const rightOpenKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_right_open\"), [\n        projectId\n    ]);\n    const leftWidthKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_left_width\"), [\n        projectId\n    ]);\n    const rightWidthKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_right_width\"), [\n        projectId\n    ]);\n    const [chats, setChats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeChatId, setActiveChatId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasChatsCache, setHasChatsCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const chatsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(chats);\n    const [newChatType, setNewChatType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"plot\");\n    const [newChatTitle, setNewChatTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChatOpen, setNewChatOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [creatingChat, setCreatingChat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [createChatError, setCreateChatError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [chatMenuOpen, setChatMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [hasChaptersCache, setHasChaptersCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [leftWidth, setLeftWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(260);\n    const [rightWidth, setRightWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(260);\n    // Hydrate chats from localStorage after mount (prevents SSR/client mismatch)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) {\n                const s = window.localStorage.getItem(chatsCacheKey);\n                if (s) {\n                    const arr = JSON.parse(s);\n                    if (Array.isArray(arr)) {\n                        setChats(arr);\n                        setHasChatsCache(arr.length > 0);\n                    }\n                }\n                const v = window.localStorage.getItem(chatsActiveKey);\n                if (v) setActiveChatId(v);\n                // Hydrate chapters\n                const chs = window.localStorage.getItem(chaptersCacheKey);\n                if (chs) {\n                    const arr = JSON.parse(chs);\n                    if (Array.isArray(arr)) {\n                        setChapters(arr);\n                        const valid = arr.length > 0;\n                        setHasChaptersCache(valid);\n                        if (valid) setLoadingCh(false);\n                    }\n                }\n                // Hydrate tabs and active tab\n                const t = window.localStorage.getItem(tabsCacheKey);\n                if (t) {\n                    const arr = JSON.parse(t);\n                    if (Array.isArray(arr)) setTabs(arr);\n                }\n                const at = window.localStorage.getItem(activeTabKey);\n                if (at) setActiveId(at);\n                // Hydrate UI toggles\n                const lc = window.localStorage.getItem(leftCollapsedKey);\n                if (lc !== null) setLeftCollapsed(lc === \"1\");\n                const ro = window.localStorage.getItem(rightOpenKey);\n                if (ro !== null) setRightOpen(ro === \"1\");\n                const lw = window.localStorage.getItem(leftWidthKey);\n                if (lw) {\n                    const n = parseInt(lw, 10);\n                    if (!Number.isNaN(n)) setLeftWidth(Math.max(200, Math.min(600, n)));\n                }\n                const rw = window.localStorage.getItem(rightWidthKey);\n                if (rw) {\n                    const n = parseInt(rw, 10);\n                    if (!Number.isNaN(n)) setRightWidth(Math.max(220, Math.min(600, n)));\n                }\n            }\n        } catch (e) {}\n    }, [\n        chatsCacheKey,\n        chatsActiveKey,\n        chaptersCacheKey,\n        tabsCacheKey,\n        activeTabKey,\n        leftCollapsedKey,\n        rightOpenKey\n    ]);\n    // Helper: sort chapters by createdAt asc (fallback by title)\n    const sortChapters = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((arr)=>{\n        return [\n            ...arr\n        ].sort((a, b)=>{\n            const ta = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n            const tb = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n            if (ta !== tb) return ta - tb;\n            return (a.title || \"\").localeCompare(b.title || \"\");\n        });\n    }, []);\n    // Load chapters for tree\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasChaptersCache) {\n                return;\n            }\n            try {\n                setLoadingCh(true);\n                const { items } = await api.listChaptersPaginated(projectId, 0, 100);\n                if (!mounted) return;\n                setChapters(sortChapters(items));\n            } catch (e) {\n                if (mounted) setErrorCh((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load chapters\");\n            } finally{\n                if (mounted) setLoadingCh(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        sortChapters,\n        hasChaptersCache\n    ]);\n    // Reflect settings updates triggered from Chat or elsewhere immediately\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onSettings = (e)=>{\n            const detail = (e === null || e === void 0 ? void 0 : e.detail) || {};\n            const changes = detail.changes || {};\n            if (changes.title !== undefined) setProjectTitle(changes.title || \"\");\n            if (changes.description !== undefined) setProjectDescription(changes.description || \"\");\n            if (changes.mode) setProjMode(changes.mode);\n            if (changes.genre !== undefined) setProjGenre(changes.genre || \"\");\n            if (changes.coreConflict !== undefined) setProjCoreConflict(changes.coreConflict || \"\");\n            if (changes.settingsJson !== undefined) {\n                try {\n                    setProjSettingsJson(typeof changes.settingsJson === \"string\" ? changes.settingsJson : JSON.stringify(changes.settingsJson));\n                } catch (e) {\n                    setProjSettingsJson(\"\");\n                }\n            }\n        };\n        const onMode = (e)=>{\n            var _e_detail;\n            const m = e === null || e === void 0 ? void 0 : (_e_detail = e.detail) === null || _e_detail === void 0 ? void 0 : _e_detail.mode;\n            if (m === \"novel\" || m === \"manhwa\") setProjMode(m);\n        };\n        if (true) {\n            window.addEventListener(\"project:settings-updated\", onSettings);\n            window.addEventListener(\"project:mode-updated\", onMode);\n        }\n        return ()=>{\n            if (true) {\n                window.removeEventListener(\"project:settings-updated\", onSettings);\n                window.removeEventListener(\"project:mode-updated\", onMode);\n            }\n        };\n    }, []);\n    // Listen for chat actions to create/open chapters in editor\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handler = async (e)=>{\n            try {\n                const detail = (e === null || e === void 0 ? void 0 : e.detail) || {};\n                const t = String(detail.title || \"Untitled Chapter\");\n                const c = detail.content !== undefined ? String(detail.content) : \"\";\n                var _detail_panel_script;\n                const panel_script = (_detail_panel_script = detail.panel_script) !== null && _detail_panel_script !== void 0 ? _detail_panel_script : undefined;\n                const res = await api.createChapter(projectId, panel_script ? {\n                    title: t,\n                    panel_script\n                } : {\n                    title: t,\n                    content: c\n                });\n                const newId = res.id;\n                const createdAt = res.createdAt;\n                setChapters((prev)=>sortChapters([\n                        ...prev,\n                        {\n                            id: newId,\n                            title: res.title,\n                            content: panel_script ? \"\" : c,\n                            createdAt\n                        }\n                    ]));\n                setTabs((prev)=>prev.includes(newId) ? prev : [\n                        ...prev,\n                        newId\n                    ]);\n                setActiveId(newId);\n                setTitle(res.title);\n                setContent(panel_script ? \"\" : c);\n            } catch (e) {}\n        };\n        if (true) window.addEventListener(\"workspace:create-draft\", handler);\n        return ()=>{\n            if (true) window.removeEventListener(\"workspace:create-draft\", handler);\n        };\n    }, [\n        api,\n        projectId,\n        sortChapters\n    ]);\n    // Listen for chat-driven chapter updates (rewrite)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handler = async (e)=>{\n            const detail = (e === null || e === void 0 ? void 0 : e.detail) || {};\n            const content = String(detail.content || \"\");\n            let targetId = detail.id || null;\n            if (!targetId) {\n                // Resolve by chapter_number (1-based) against sorted order\n                if (detail.chapter_number && Number.isInteger(detail.chapter_number)) {\n                    var _sorted_idx;\n                    const sorted = sortChapters(chapters);\n                    const idx = Math.max(0, Math.min(sorted.length - 1, detail.chapter_number - 1));\n                    targetId = ((_sorted_idx = sorted[idx]) === null || _sorted_idx === void 0 ? void 0 : _sorted_idx.id) || null;\n                } else if (detail.title) {\n                    const match = chapters.find((c)=>(c.title || \"\").toLowerCase() === String(detail.title).toLowerCase());\n                    targetId = (match === null || match === void 0 ? void 0 : match.id) || null;\n                }\n            }\n            if (!targetId) return;\n            try {\n                const updated = await api.updateChapter(projectId, targetId, {\n                    content\n                });\n                setChapters((prev)=>prev.map((c)=>c.id === targetId ? {\n                            ...c,\n                            content\n                        } : c));\n                // Open or refresh active tab\n                if (!tabs.includes(targetId)) setTabs((prev)=>[\n                        ...prev,\n                        targetId\n                    ]);\n                setActiveId(targetId);\n                if (activeId === targetId) setContent(content);\n            } catch (e) {}\n        };\n        if (true) window.addEventListener(\"workspace:update-chapter\", handler);\n        return ()=>{\n            if (true) window.removeEventListener(\"workspace:update-chapter\", handler);\n        };\n    }, [\n        api,\n        projectId,\n        chapters,\n        tabs,\n        activeId,\n        sortChapters\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            try {\n                const p = await api.getProject(projectId);\n                if (!mounted) return;\n                setProjectTitle((p === null || p === void 0 ? void 0 : p.title) || \"\");\n                setProjectDescription((p === null || p === void 0 ? void 0 : p.description) || \"\");\n                try {\n                    if ((p === null || p === void 0 ? void 0 : p.mode) && (p.mode === \"novel\" || p.mode === \"manhwa\")) setProjMode(p.mode);\n                    if (typeof (p === null || p === void 0 ? void 0 : p.genre) === \"string\") setProjGenre(p.genre);\n                    if (typeof (p === null || p === void 0 ? void 0 : p.coreConflict) === \"string\") setProjCoreConflict(p.coreConflict);\n                    if ((p === null || p === void 0 ? void 0 : p.settingsJson) !== undefined) {\n                        setProjSettingsJson(typeof p.settingsJson === \"string\" ? p.settingsJson : JSON.stringify(p.settingsJson));\n                    }\n                } catch (e) {}\n            } catch (e) {}\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId\n    ]);\n    // Initialize Project Settings form fields when the tab opens or project fields hydrate\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (activeId === SETTINGS_TAB_ID) {\n            if (!renameTitle && projectTitle) setRenameTitle(projectTitle);\n            if (!renameDesc && projectDescription !== undefined) setRenameDesc(projectDescription);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        activeId,\n        projectTitle,\n        projectDescription\n    ]);\n    // Load chats (hydrate from cache first, then revalidate)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasChatsCache) {\n                return;\n            }\n            try {\n                const xs = await api.listChats(projectId);\n                if (!mounted) return;\n                const next = xs || [];\n                try {\n                    if (hasChatsCache && JSON.stringify(next) === JSON.stringify(chatsRef.current)) {\n                        return;\n                    }\n                } catch (e) {}\n                setChats(next);\n                if (!activeChatId) {\n                    if (next && next.length) setActiveChatId(next[0].id);\n                    else {\n                        // ensure at least one plot chat exists\n                        const created = await api.createChat(projectId, {\n                            type: \"plot\"\n                        });\n                        setChats([\n                            created\n                        ]);\n                        setActiveChatId(created.id);\n                    }\n                }\n            } catch (e) {}\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        hasChatsCache,\n        activeChatId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        chatsRef.current = chats;\n    }, [\n        chats\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(chatsCacheKey, JSON.stringify(chats));\n        } catch (e) {}\n        setHasChatsCache(Array.isArray(chats) && chats.length > 0);\n    }, [\n        chats,\n        chatsCacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if ( true && activeChatId) window.localStorage.setItem(chatsActiveKey, activeChatId);\n        } catch (e) {}\n    }, [\n        activeChatId,\n        chatsActiveKey\n    ]);\n    // Persist chapters cache\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(chaptersCacheKey, JSON.stringify(chapters));\n        } catch (e) {}\n        setHasChaptersCache(Array.isArray(chapters) && chapters.length > 0);\n    }, [\n        chapters,\n        chaptersCacheKey\n    ]);\n    // Persist tabs and active tab\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(tabsCacheKey, JSON.stringify(tabs));\n        } catch (e) {}\n    }, [\n        tabs,\n        tabsCacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if ( true && activeId) window.localStorage.setItem(activeTabKey, activeId);\n        } catch (e) {}\n    }, [\n        activeId,\n        activeTabKey\n    ]);\n    // Persist UI toggles\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(leftCollapsedKey, leftCollapsed ? \"1\" : \"0\");\n        } catch (e) {}\n    }, [\n        leftCollapsed,\n        leftCollapsedKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(rightOpenKey, rightOpen ? \"1\" : \"0\");\n        } catch (e) {}\n    }, [\n        rightOpen,\n        rightOpenKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(leftWidthKey, String(leftWidth));\n        } catch (e) {}\n    }, [\n        leftWidth,\n        leftWidthKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(rightWidthKey, String(rightWidth));\n        } catch (e) {}\n    }, [\n        rightWidth,\n        rightWidthKey\n    ]);\n    const openTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setTabs((prev)=>prev.includes(id) ? prev : [\n                ...prev,\n                id\n            ]);\n        setActiveId(id);\n        const ch = chapters.find((c)=>c.id === id);\n        setTitle((ch === null || ch === void 0 ? void 0 : ch.title) || \"\");\n        setContent((ch === null || ch === void 0 ? void 0 : ch.content) || \"\");\n    }, [\n        chapters\n    ]);\n    const closeTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setTabs((prev)=>prev.filter((t)=>t !== id));\n        setActiveId((curr)=>{\n            if (curr !== id) return curr;\n            const idx = tabs.indexOf(id);\n            const next = tabs[idx + 1] || tabs[idx - 1] || null;\n            return next || null;\n        });\n    }, [\n        tabs\n    ]);\n    // Hydrate editor fields when activeId and chapters are restored from cache\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeId) return;\n        if (activeId === SETTINGS_TAB_ID || activeId === CHARACTERS_TAB_ID || activeId === WORLD_TAB_ID) return;\n        const ch = chapters.find((c)=>c.id === activeId);\n        if (!ch) return;\n        setTitle(ch.title || \"\");\n        setContent(ch.content || \"\");\n    }, [\n        activeId,\n        chapters\n    ]);\n    const onDragStart = (e, id)=>{\n        e.dataTransfer.setData(\"text/tab\", id);\n    };\n    const onDrop = (e, targetId)=>{\n        const srcId = e.dataTransfer.getData(\"text/tab\");\n        if (!srcId || srcId === targetId) return;\n        setTabs((prev)=>{\n            const arr = [\n                ...prev\n            ];\n            const si = arr.indexOf(srcId);\n            const ti = arr.indexOf(targetId);\n            if (si < 0 || ti < 0) return prev;\n            arr.splice(ti, 0, arr.splice(si, 1)[0]);\n            return arr;\n        });\n    };\n    const startLeftResize = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        e.preventDefault();\n        const startX = e.clientX;\n        const startW = leftWidth;\n        const onMove = (ev)=>{\n            const dx = ev.clientX - startX;\n            const next = Math.max(200, Math.min(600, startW + dx));\n            setLeftWidth(next);\n        };\n        const onUp = ()=>{\n            window.removeEventListener(\"mousemove\", onMove);\n            window.removeEventListener(\"mouseup\", onUp);\n        };\n        window.addEventListener(\"mousemove\", onMove);\n        window.addEventListener(\"mouseup\", onUp);\n    }, [\n        leftWidth\n    ]);\n    const startRightResize = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        e.preventDefault();\n        const startX = e.clientX;\n        const startW = rightWidth;\n        const onMove = (ev)=>{\n            const dx = ev.clientX - startX;\n            const next = Math.max(220, Math.min(600, startW - dx));\n            setRightWidth(next);\n        };\n        const onUp = ()=>{\n            window.removeEventListener(\"mousemove\", onMove);\n            window.removeEventListener(\"mouseup\", onUp);\n        };\n        window.addEventListener(\"mousemove\", onMove);\n        window.addEventListener(\"mouseup\", onUp);\n    }, [\n        rightWidth\n    ]);\n    // Persist edits (debounced)\n    const scheduleSave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id, t, c)=>{\n        if (!id) return;\n        if (saveTimer.current) clearTimeout(saveTimer.current);\n        saveTimer.current = setTimeout(async ()=>{\n            setSaving(true);\n            try {\n                await api.updateChapter(projectId, id, {\n                    title: t,\n                    content: c\n                });\n                setChapters((prev)=>prev.map((ch)=>ch.id === id ? {\n                            ...ch,\n                            title: t,\n                            content: c\n                        } : ch));\n            } finally{\n                setSaving(false);\n            }\n        }, 500);\n    }, [\n        api,\n        projectId\n    ]);\n    // Active change handlers\n    const onTitleChange = (v)=>{\n        if (!activeId) return;\n        setTitle(v);\n        scheduleSave(activeId, v, content);\n    };\n    const onContentChange = (v)=>{\n        if (!activeId) return;\n        setContent(v);\n        scheduleSave(activeId, title, v);\n    };\n    const onNewChapter = async ()=>{\n        try {\n            const res = await api.createChapter(projectId, {\n                title: \"Untitled Chapter\"\n            });\n            const createdAt = res.createdAt;\n            setChapters((prev)=>sortChapters([\n                    ...prev,\n                    {\n                        id: res.id,\n                        title: res.title,\n                        content: \"\",\n                        createdAt\n                    }\n                ]));\n            openTab(res.id);\n        } catch (e) {}\n    };\n    const onDeleteChapter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id)=>{\n        try {\n            // eslint-disable-next-line no-alert\n            if (!confirm(\"Delete this chapter permanently?\")) return;\n            setDeletingId(id);\n            await api.deleteChapter(projectId, id);\n            setChapters((prev)=>prev.filter((c)=>c.id !== id));\n            setTabs((prev)=>prev.filter((t)=>t !== id));\n            setActiveId((curr)=>curr === id ? null : curr);\n        } catch (e) {\n            const msg = e instanceof Error ? e.message : \"Failed to delete\";\n            setErrorCh(msg);\n        } finally{\n            setDeletingId(null);\n        }\n    }, [\n        api,\n        projectId\n    ]);\n    const activeChapter = chapters.find((c)=>c.id === activeId) || null;\n    const gridCols = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const cols = [];\n        if (!leftCollapsed) {\n            cols.push(\"\".concat(leftWidth, \"px\"));\n            cols.push(\"4px\");\n        }\n        cols.push(\"1fr\");\n        if (rightOpen) {\n            cols.push(\"4px\");\n            cols.push(\"\".concat(rightWidth, \"px\"));\n        }\n        return cols.join(\" \");\n    }, [\n        leftCollapsed,\n        rightOpen,\n        leftWidth,\n        rightWidth\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen w-screen bg-bg-primary text-text-primary grid grid-rows-[auto_1fr] relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-12 border-b border-border-default bg-bg-primary flex items-center relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 min-w-0 flex items-stretch gap-1 px-2 overflow-x-auto\",\n                        children: tabs.map((id)=>{\n                            const ch = chapters.find((c)=>c.id === id);\n                            const active = id === activeId;\n                            const label = id === SETTINGS_TAB_ID ? \"Settings\" : id === CHARACTERS_TAB_ID ? \"Characters\" : (ch === null || ch === void 0 ? void 0 : ch.title) || \"Untitled\";\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                draggable: true,\n                                onDragStart: (e)=>onDragStart(e, id),\n                                onDragOver: (e)=>e.preventDefault(),\n                                onDrop: (e)=>onDrop(e, id),\n                                onMouseDown: (e)=>{\n                                    if (e.button === 1) {\n                                        e.preventDefault();\n                                        closeTab(id);\n                                    }\n                                },\n                                className: \"group flex items-center gap-2 px-4 h-10 rounded-t-md transition-all duration-150 \".concat(active ? \"bg-bg-elevated text-text-primary\" : \"text-text-tertiary hover:text-text-secondary hover:bg-bg-hover\"),\n                                onClick: ()=>setActiveId(id),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm truncate max-w-[160px]\",\n                                        children: label\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 500,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity duration-150\",\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            closeTab(id);\n                                        },\n                                        children: \"\\xd7\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 501,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, id, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 490,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 484,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 flex items-center justify-center pointer-events-none\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm font-semibold text-text-primary truncate max-w-[60%] tracking-elegant\",\n                            children: projectTitle || \"Project\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 507,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 506,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute right-2 top-1 z-10 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"text-xs px-3 py-1.5 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150\",\n                                onClick: ()=>setSettingsMenuOpen((v)=>!v),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"sr-only\",\n                                        children: \"Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 514,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        className: \"w-4 h-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 515,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 510,\n                                columnNumber: 11\n                            }, this),\n                            settingsMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute right-0 top-10 z-20 w-48 rounded-lg border border-border-default bg-bg-elevated shadow-elevation\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            // Open settings as a central tab\n                                            if (!tabs.includes(SETTINGS_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    SETTINGS_TAB_ID\n                                                ]);\n                                            setActiveId(SETTINGS_TAB_ID);\n                                            setRenameTitle(projectTitle || \"\");\n                                            setRenameDesc(projectDescription || \"\");\n                                            setRenameError(null);\n                                        },\n                                        children: \"Project Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 519,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            if (!tabs.includes(WORLD_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    WORLD_TAB_ID\n                                                ]);\n                                            setActiveId(WORLD_TAB_ID);\n                                        },\n                                        children: \"World Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 531,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            if (!tabs.includes(CHARACTERS_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    CHARACTERS_TAB_ID\n                                                ]);\n                                            setActiveId(CHARACTERS_TAB_ID);\n                                        },\n                                        children: \"Characters\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 539,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 518,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 509,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 483,\n                columnNumber: 7\n            }, this),\n            leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"absolute left-2 top-14 z-10 text-xs px-3 py-2 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150 flex items-center gap-1 shadow-elevation\",\n                onClick: ()=>setLeftCollapsed(false),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        className: \"w-4 h-4\",\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 557,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: \"Chapters\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 558,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 553,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid min-h-0\",\n                style: {\n                    gridTemplateColumns: gridCols\n                },\n                children: [\n                    !leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"bg-bg-primary min-h-0 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-5 py-4 text-xs font-semibold tracking-[0.05em] uppercase flex items-center justify-between text-text-secondary\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"CHAPTERS\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 567,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                        onClick: ()=>setLeftCollapsed(true),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-4 h-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 569,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"sr-only\",\n                                                children: \"Collapse\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 570,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 568,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 566,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto px-4\",\n                                children: [\n                                    loadingCh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-text-secondary px-2 py-2\",\n                                        children: \"Loading\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 574,\n                                        columnNumber: 27\n                                    }, this),\n                                    errorCh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-red-400 px-2 py-2 bg-red-950/20 rounded-md border border-red-500/20\",\n                                        children: errorCh\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 575,\n                                        columnNumber: 25\n                                    }, this),\n                                    chapters.map((c, idx)=>{\n                                        const wordCount = c.content ? c.content.trim().split(/\\s+/).filter(Boolean).length : 0;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"group w-full flex items-start justify-between gap-2 px-3 py-3 rounded-lg mb-2 transition-all duration-150 \".concat(activeId === c.id ? \"bg-bg-elevated border-l-3 border-accent\" : \"hover:bg-bg-hover\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"flex-1 text-left\",\n                                                    onClick: ()=>openTab(c.id),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs uppercase text-text-tertiary mb-1\",\n                                                            children: [\n                                                                \"Chapter \",\n                                                                idx + 1\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 584,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm font-medium mb-1 \".concat(activeId === c.id ? \"text-text-primary\" : \"text-text-secondary\"),\n                                                            children: c.title || \"Untitled\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 585,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: [\n                                                                wordCount,\n                                                                \" words\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 586,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 580,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"opacity-0 group-hover:opacity-100 transition-opacity duration-150 \".concat(deletingId === c.id ? \"text-red-400 opacity-60 cursor-not-allowed\" : \"text-text-tertiary hover:text-red-400\"),\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        if (deletingId) return;\n                                                        void onDeleteChapter(c.id);\n                                                    },\n                                                    title: \"Delete chapter\",\n                                                    disabled: deletingId === c.id,\n                                                    children: [\n                                                        deletingId === c.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                            className: \"w-4 h-4 animate-spin\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 594,\n                                                            columnNumber: 42\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                            className: \"w-4 h-4\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 594,\n                                                            columnNumber: 108\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"sr-only\",\n                                                            children: \"Delete\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 595,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 588,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, c.id, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 579,\n                                            columnNumber: 15\n                                        }, this);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 573,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4 border-t border-border-default\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full rounded-lg bg-bg-elevated border border-border-default hover:border-accent hover:bg-bg-hover text-text-secondary hover:text-text-primary text-sm px-4 py-3 flex items-center justify-center gap-2 transition-all duration-150 hover:-translate-y-0.5\",\n                                    onClick: onNewChapter,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            className: \"w-4 h-4\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 602,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"New Chapter\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 603,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 601,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 600,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 565,\n                        columnNumber: 9\n                    }, this),\n                    !leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        role: \"separator\",\n                        \"aria-orientation\": \"vertical\",\n                        onMouseDown: startLeftResize,\n                        className: \"cursor-col-resize w-1 bg-transparent hover:bg-bg-hover\",\n                        style: {\n                            userSelect: \"none\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 609,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"min-h-0 overflow-hidden bg-bg-primary flex flex-col\",\n                        children: activeId === SETTINGS_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full grid grid-rows-[auto_1fr_auto] bg-bg-elevated\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-b border-border-default px-6 py-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-base font-semibold text-text-primary tracking-elegant\",\n                                        children: \"Project Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 623,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 622,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-h-0 overflow-y-auto px-6 py-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid gap-4 max-w-2xl\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Title\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 628,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: renameTitle,\n                                                        onChange: (e)=>setRenameTitle(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 629,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 627,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Description\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 636,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        value: renameDesc,\n                                                        onChange: (e)=>setRenameDesc(e.target.value),\n                                                        rows: 3,\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150 text-sm\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 637,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 635,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Mode\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 645,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        value: projMode,\n                                                        onChange: (e)=>setProjMode(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent transition-colors duration-150\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"\",\n                                                                children: \"Select\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 651,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"novel\",\n                                                                children: \"Novel\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 652,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"manhwa\",\n                                                                children: \"Manhwa\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 653,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 646,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 644,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Genre\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 657,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: projGenre,\n                                                        onChange: (e)=>setProjGenre(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 658,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 656,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Core Conflict\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 666,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: projCoreConflict,\n                                                        onChange: (e)=>setProjCoreConflict(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 667,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 665,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Settings JSON\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 674,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        value: projSettingsJson,\n                                                        onChange: (e)=>setProjSettingsJson(e.target.value),\n                                                        rows: 10,\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150 font-mono text-xs\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 675,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 673,\n                                                columnNumber: 19\n                                            }, this),\n                                            renameError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-red-400 p-3 rounded-lg bg-red-950/20 border border-red-500/20\",\n                                                children: renameError\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 682,\n                                                columnNumber: 35\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 626,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 625,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-14 px-6 flex items-center justify-end gap-3 border-t border-border-default bg-bg-primary\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setActiveId(null),\n                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                            children: \"Close\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 686,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            disabled: savingRename,\n                                            onClick: async ()=>{\n                                                setSavingRename(true);\n                                                setRenameError(null);\n                                                try {\n                                                    const updateBody = {};\n                                                    const t = renameTitle.trim();\n                                                    if (t && t !== projectTitle) updateBody.title = t;\n                                                    if (renameDesc !== projectDescription) updateBody.description = renameDesc;\n                                                    if (Object.keys(updateBody).length > 0) {\n                                                        const updated = await api.updateProject(projectId, updateBody);\n                                                        setProjectTitle((updated === null || updated === void 0 ? void 0 : updated.title) || t || projectTitle);\n                                                        var _updated_description, _ref;\n                                                        setProjectDescription((_ref = (_updated_description = updated === null || updated === void 0 ? void 0 : updated.description) !== null && _updated_description !== void 0 ? _updated_description : renameDesc) !== null && _ref !== void 0 ? _ref : projectDescription);\n                                                    }\n                                                    const changes = {};\n                                                    if (projMode) changes.mode = projMode;\n                                                    if (projGenre) changes.genre = projGenre;\n                                                    if (projCoreConflict) changes.coreConflict = projCoreConflict;\n                                                    if (projSettingsJson) {\n                                                        try {\n                                                            changes.settingsJson = JSON.parse(projSettingsJson);\n                                                        } catch (e) {\n                                                            changes.settingsJson = projSettingsJson;\n                                                        }\n                                                    }\n                                                    if (Object.keys(changes).length > 0) {\n                                                        await api.updateProjectSettings(projectId, changes);\n                                                        if (true) {\n                                                            window.dispatchEvent(new CustomEvent(\"project:settings-updated\", {\n                                                                detail: {\n                                                                    projectId,\n                                                                    changes\n                                                                }\n                                                            }));\n                                                        }\n                                                        // Toast: Settings saved\n                                                        if (toastTimer.current) clearTimeout(toastTimer.current);\n                                                        setToastMsg(\"Settings saved\");\n                                                        toastTimer.current = setTimeout(()=>setToastMsg(\"\"), 3000);\n                                                    }\n                                                } catch (e) {\n                                                    setRenameError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to save\");\n                                                } finally{\n                                                    setSavingRename(false);\n                                                }\n                                            },\n                                            className: \"px-4 py-2 rounded-md bg-accent hover:bg-accent-hover disabled:opacity-50 text-white transition-all duration-150\",\n                                            children: savingRename ? \"Saving\" : \"Save Settings\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 687,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 685,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 621,\n                            columnNumber: 13\n                        }, this) : activeId === CHARACTERS_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_workspace_CharacterManager__WEBPACK_IMPORTED_MODULE_5__.CharacterManager, {\n                                projectId: projectId,\n                                requireImage: projMode === \"manhwa\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 733,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 732,\n                            columnNumber: 13\n                        }, this) : activeId === WORLD_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_workspace_WorldSettingsManager__WEBPACK_IMPORTED_MODULE_6__.WorldSettingsManager, {\n                                projectId: projectId\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 737,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 736,\n                            columnNumber: 13\n                        }, this) : activeId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-h-0 overflow-y-auto bg-bg-elevated flex justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full max-w-[800px] px-12 py-16\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: title,\n                                                onChange: (e)=>onTitleChange(e.target.value),\n                                                placeholder: \"Chapter Title\",\n                                                className: \"w-full bg-transparent border-none text-[32px] font-bold text-text-primary placeholder:text-text-tertiary outline-none mb-8 tracking-tight\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 745,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                contentEditable: true,\n                                                suppressContentEditableWarning: true,\n                                                onInput: (e)=>onContentChange(e.currentTarget.textContent || \"\"),\n                                                className: \"w-full min-h-[400px] text-lg leading-[1.8] text-text-primary outline-none\",\n                                                style: {\n                                                    whiteSpace: \"pre-wrap\"\n                                                },\n                                                children: content\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 752,\n                                                columnNumber: 19\n                                            }, this),\n                                            !content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-lg text-text-tertiary pointer-events-none -mt-[400px] leading-[1.8]\",\n                                                children: \"Start writing your story...\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 762,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 743,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 742,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-12 bg-bg-primary border-t border-border-default px-6 flex items-center justify-between text-[13px] text-text-tertiary\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-6\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-1.5 h-1.5 rounded-full \".concat(saving ? \"bg-warning animate-pulse\" : \"bg-success\")\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 770,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: saving ? \"Saving\" : \"Saved\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 771,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 769,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        content.trim().split(/\\s+/).filter(Boolean).length,\n                                                        \" words\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 773,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        content.length,\n                                                        \" characters\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 774,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        Math.ceil(content.trim().split(/\\s+/).filter(Boolean).length / 200),\n                                                        \" min read\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 775,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 768,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: (activeChapter === null || activeChapter === void 0 ? void 0 : activeChapter.createdAt) && \"Last edited \".concat(new Date(activeChapter.createdAt).toLocaleString())\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 777,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 767,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 740,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated flex items-center justify-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center max-w-md\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-base font-semibold text-text-primary mb-2\",\n                                        children: \"No Chapter Selected\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 785,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-text-secondary\",\n                                        children: \"Open a chapter from the left sidebar to start editing.\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 786,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 784,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 783,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 619,\n                        columnNumber: 9\n                    }, this),\n                    rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        role: \"separator\",\n                        \"aria-orientation\": \"vertical\",\n                        onMouseDown: startRightResize,\n                        className: \"cursor-col-resize w-1 bg-transparent hover:bg-bg-hover\",\n                        style: {\n                            userSelect: \"none\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 794,\n                        columnNumber: 9\n                    }, this),\n                    rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"bg-bg-primary min-h-0 flex flex-col relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-5 py-4 text-xs font-semibold tracking-[0.05em] uppercase flex items-center justify-between text-text-secondary\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"flex items-center gap-2 text-text-secondary hover:text-text-primary\",\n                                        onClick: ()=>setChatMenuOpen((v)=>!v),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"truncate max-w-[140px] text-text-primary normal-case text-sm font-medium\",\n                                                children: ((_chats_find = chats.find((c)=>c.id === activeChatId)) === null || _chats_find === void 0 ? void 0 : _chats_find.title) || \"Select chat\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 806,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                className: \"w-3.5 h-3.5 transition-transform \".concat(chatMenuOpen ? \"rotate-180\" : \"\"),\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 807,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 805,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                                onClick: ()=>{\n                                                    setNewChatOpen(true);\n                                                    setChatMenuOpen(true);\n                                                },\n                                                title: \"New Chat\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"w-4 h-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 811,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 810,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                                onClick: ()=>setRightOpen(false),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 814,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"sr-only\",\n                                                        children: \"Collapse\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 815,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 813,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 809,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 804,\n                                columnNumber: 11\n                            }, this),\n                            chatMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute left-3 right-3 top-14 z-20 rounded-lg border border-border-default bg-bg-elevated shadow-elevation\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 border-b border-border-default flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-semibold text-text-primary\",\n                                                children: \"Chats\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 822,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-text-primary\",\n                                                onClick: ()=>setChatMenuOpen(false),\n                                                children: \"\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 823,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 821,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 space-y-3\",\n                                        children: [\n                                            newChatOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border border-border-default rounded-lg p-3 bg-bg-primary\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary mb-2\",\n                                                        children: \"Create a new chat\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 828,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2 mb-2\",\n                                                        children: [\n                                                            \"plot\",\n                                                            \"character\",\n                                                            \"world\"\n                                                        ].map((t)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-xs px-3 py-1.5 rounded-md border cursor-pointer \".concat(newChatType === t ? \"border-accent text-accent\" : \"border-border-default text-text-secondary hover:text-text-primary\"),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"radio\",\n                                                                        name: \"chat-type\",\n                                                                        className: \"hidden\",\n                                                                        checked: newChatType === t,\n                                                                        onChange: ()=>setNewChatType(t)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                        lineNumber: 832,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    t\n                                                                ]\n                                                            }, t, true, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 831,\n                                                                columnNumber: 25\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 829,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: newChatTitle,\n                                                        onChange: (e)=>setNewChatTitle(e.target.value),\n                                                        placeholder: \"Title (optional)\",\n                                                        className: \"w-full bg-bg-elevated border border-border-default rounded-md px-3 py-2 text-text-primary outline-none focus:border-accent text-sm\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 836,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    createChatError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2 text-xs text-red-400\",\n                                                        children: createChatError\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 837,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-3 flex items-center justify-end gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"px-3 py-1.5 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover\",\n                                                                onClick: ()=>{\n                                                                    setNewChatOpen(false);\n                                                                    setNewChatTitle(\"\");\n                                                                    setCreateChatError(null);\n                                                                },\n                                                                children: \"Cancel\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 839,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"px-3 py-1.5 rounded-md bg-accent hover:bg-accent-hover text-white disabled:opacity-50\",\n                                                                disabled: creatingChat,\n                                                                onClick: async ()=>{\n                                                                    setCreatingChat(true);\n                                                                    setCreateChatError(null);\n                                                                    try {\n                                                                        const c = await api.createChat(projectId, {\n                                                                            type: newChatType,\n                                                                            title: newChatTitle || undefined\n                                                                        });\n                                                                        setChats((prev)=>[\n                                                                                ...prev,\n                                                                                c\n                                                                            ]);\n                                                                        setActiveChatId(c.id);\n                                                                        setNewChatOpen(false);\n                                                                        setNewChatTitle(\"\");\n                                                                        setChatMenuOpen(false);\n                                                                    } catch (e) {\n                                                                        setCreateChatError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to create chat\");\n                                                                    } finally{\n                                                                        setCreatingChat(false);\n                                                                    }\n                                                                },\n                                                                children: creatingChat ? \"Creating\" : \"Create\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 840,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 838,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 827,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"max-h-64 overflow-y-auto pr-1\",\n                                                children: [\n                                                    !chats.length && !newChatOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary px-2 py-2\",\n                                                        children: [\n                                                            \"No chats yet. \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"underline\",\n                                                                onClick: ()=>{\n                                                                    setNewChatType(\"plot\");\n                                                                    setNewChatOpen(true);\n                                                                },\n                                                                children: \"Create your first chat\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 858,\n                                                                columnNumber: 89\n                                                            }, this),\n                                                            \".\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 858,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    chats.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"group w-full flex items-center justify-between gap-2 px-3 py-2 rounded-md mb-1 transition-all duration-150 \".concat(activeChatId === c.id ? \"bg-bg-hover\" : \"hover:bg-bg-hover\"),\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"flex-1 text-left\",\n                                                                    onClick: ()=>{\n                                                                        setActiveChatId(c.id);\n                                                                        setChatMenuOpen(false);\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-[10px] uppercase text-text-tertiary mb-0.5\",\n                                                                            children: c.type\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 863,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-sm font-medium \".concat(activeChatId === c.id ? \"text-text-primary\" : \"text-text-secondary\"),\n                                                                            children: c.title\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 864,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                    lineNumber: 862,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"opacity-0 group-hover:opacity-100 transition-opacity duration-150 text-text-tertiary hover:text-red-400\",\n                                                                    onClick: async (e)=>{\n                                                                        e.stopPropagation();\n                                                                        if (!confirm(\"Delete this chat?\")) return;\n                                                                        try {\n                                                                            var _chats_find;\n                                                                            await api.deleteChat(projectId, c.id);\n                                                                            setChats((prev)=>prev.filter((x)=>x.id !== c.id));\n                                                                            if (activeChatId === c.id) setActiveChatId(((_chats_find = chats.find((x)=>x.id !== c.id)) === null || _chats_find === void 0 ? void 0 : _chats_find.id) || null);\n                                                                        } catch (e) {}\n                                                                    },\n                                                                    title: \"Delete chat\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                            className: \"w-4 h-4\",\n                                                                            \"aria-hidden\": \"true\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 871,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"sr-only\",\n                                                                            children: \"Delete\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 872,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                    lineNumber: 866,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, c.id, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 861,\n                                                            columnNumber: 21\n                                                        }, this))\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 856,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 825,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 820,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"min-h-0 flex-1 overflow-hidden border-t border-border-default\",\n                                children: activeChatId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_Chat__WEBPACK_IMPORTED_MODULE_4__.Chat, {\n                                    chatId: activeChatId,\n                                    projectId: projectId,\n                                    chatType: ((_chats_find1 = chats.find((c)=>c.id === activeChatId)) === null || _chats_find1 === void 0 ? void 0 : _chats_find1.type) || \"plot\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 883,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full grid place-items-center text-xs text-text-tertiary\",\n                                    children: \"Open the chat menu to create or select a chat.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 889,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 881,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 803,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 563,\n                columnNumber: 7\n            }, this),\n            !rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"absolute right-2 top-14 z-10 text-xs px-3 py-2 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150 flex items-center gap-1 shadow-elevation\",\n                onClick: ()=>setRightOpen(true),\n                children: \"Open Chats\"\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 897,\n                columnNumber: 9\n            }, this),\n            settingsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 grid place-items-center bg-black/60 backdrop-blur-sm\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full max-w-md bg-bg-elevated border border-border-default rounded-xl p-6 shadow-elevation\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-text-primary\",\n                                    children: \"Project Settings\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 906,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setSettingsOpen(false),\n                                    className: \"text-text-tertiary hover:text-text-primary transition-colors duration-150\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 907,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 905,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"grid gap-1 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-text-tertiary\",\n                                            children: \"Title\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 911,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: renameTitle,\n                                            onChange: (e)=>setRenameTitle(e.target.value),\n                                            className: \"bg-bg-primary border border-border-default rounded-md px-3 py-2 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 912,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 910,\n                                    columnNumber: 15\n                                }, this),\n                                renameError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-red-400 p-3 rounded-lg bg-red-950/20 border border-red-500/20\",\n                                    children: renameError\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 918,\n                                    columnNumber: 31\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-end gap-2 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setSettingsOpen(false),\n                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 920,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            disabled: savingRename || !renameTitle.trim(),\n                                            onClick: async ()=>{\n                                                setSavingRename(true);\n                                                setRenameError(null);\n                                                try {\n                                                    const updated = await api.updateProject(projectId, {\n                                                        title: renameTitle.trim()\n                                                    });\n                                                    setProjectTitle((updated === null || updated === void 0 ? void 0 : updated.title) || renameTitle.trim());\n                                                    setSettingsOpen(false);\n                                                } catch (e) {\n                                                    setRenameError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to save\");\n                                                } finally{\n                                                    setSavingRename(false);\n                                                }\n                                            },\n                                            className: \"px-4 py-2 rounded-md bg-accent hover:bg-accent-hover disabled:opacity-50 text-white transition-all duration-150\",\n                                            children: savingRename ? \"Saving\" : \"Save\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 921,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 919,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 909,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                    lineNumber: 904,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 903,\n                columnNumber: 9\n            }, this),\n            toastMsg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-4 right-4 z-50 animate-in slide-in-from-bottom-4 duration-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 rounded-lg bg-bg-elevated border border-border-default text-text-primary text-sm shadow-elevation\",\n                    children: toastMsg\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                    lineNumber: 948,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 947,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n        lineNumber: 481,\n        columnNumber: 5\n    }, this);\n}\n_s(Workspace, \"vp4y2asMXdPZ2kSvPyoenwvTqes=\", false, function() {\n    return [\n        _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase\n    ];\n});\n_c = Workspace;\nvar _c;\n$RefreshReg$(_c, \"Workspace\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3dvcmtzcGFjZS9Xb3Jrc3BhY2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUUwRTtBQUNKO0FBQ2hDO0FBQ1E7QUFDNkI7QUFDUTtBQUNvQztBQVVoSCxTQUFTa0IsVUFBVSxLQUFvQztRQUFwQyxFQUFFQyxTQUFTLEVBQXlCLEdBQXBDO1FBbXhCaUZDLGFBZ0ZoRkE7O0lBbDJCekIsTUFBTUMsV0FBV2hCLG1GQUFXQTtJQUM1QixNQUFNaUIsTUFBTXBCLDhDQUFPQSxDQUFDLElBQU1JLG1EQUFTQSxDQUFDZSxXQUFXO1FBQUNBO0tBQVM7SUFFekQsTUFBTSxDQUFDRSxVQUFVQyxZQUFZLEdBQUdwQiwrQ0FBUUEsQ0FBZ0IsRUFBRTtJQUMxRCxNQUFNLENBQUNxQixXQUFXQyxhQUFhLEdBQUd0QiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUN1QixTQUFTQyxXQUFXLEdBQUd4QiwrQ0FBUUEsQ0FBZ0I7SUFFdEQsTUFBTSxDQUFDeUIsTUFBTUMsUUFBUSxHQUFHMUIsK0NBQVFBLENBQVcsRUFBRTtJQUM3QyxNQUFNLENBQUMyQixVQUFVQyxZQUFZLEdBQUc1QiwrQ0FBUUEsQ0FBZ0I7SUFFeEQsTUFBTSxDQUFDNkIsT0FBT0MsU0FBUyxHQUFHOUIsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDK0IsU0FBU0MsV0FBVyxHQUFHaEMsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDaUMsUUFBUUMsVUFBVSxHQUFHbEMsK0NBQVFBLENBQUM7SUFDckMsTUFBTW1DLFlBQVlwQyw2Q0FBTUEsQ0FBdUM7SUFDL0QsTUFBTSxDQUFDcUMsZUFBZUMsaUJBQWlCLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNzQyxZQUFZQyxjQUFjLEdBQUd2QywrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUN3QyxZQUFZQyxjQUFjLEdBQUd6QywrQ0FBUUEsQ0FBZ0I7SUFD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LFlBQVkwTSxJQUFJO29EQUNsRDNNLGdCQUFnQjtnREFDbEIsRUFBRSxPQUFPbUcsR0FBUTtvREFDZjNGLGVBQWUyRixDQUFBQSxjQUFBQSx3QkFBQUEsRUFBR0MsT0FBTyxLQUFJO2dEQUMvQixTQUFVO29EQUNSOUYsZ0JBQWdCO2dEQUNsQjs0Q0FDRjs0Q0FDQXNMLFdBQVU7c0RBRVR2TCxlQUFlLFlBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBUXZDYywwQkFDQyw4REFBQ3dLO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs4QkFDWnpLOzs7Ozs7Ozs7Ozs7Ozs7OztBQU1iO0dBeDZCZ0JwRDs7UUFDR2IsK0VBQVdBOzs7S0FEZGEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvd29ya3NwYWNlL1dvcmtzcGFjZS50c3g/NTg1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU3VwYWJhc2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL3Byb3ZpZGVycy9TdXBhYmFzZVByb3ZpZGVyXCI7XG5pbXBvcnQgeyBjcmVhdGVBcGkgfSBmcm9tIFwiQC9saWIvYXBpXCI7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSBcIkAvY29tcG9uZW50cy9jaGF0L0NoYXRcIjtcbmltcG9ydCB7IENoYXJhY3Rlck1hbmFnZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3dvcmtzcGFjZS9DaGFyYWN0ZXJNYW5hZ2VyXCI7XG5pbXBvcnQgeyBXb3JsZFNldHRpbmdzTWFuYWdlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvd29ya3NwYWNlL1dvcmxkU2V0dGluZ3NNYW5hZ2VyXCI7XG5pbXBvcnQgeyBTZXR0aW5ncyBhcyBJY29uU2V0dGluZ3MsIENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIFBsdXMsIFRyYXNoMiwgTG9hZGVyMiwgQ2hldnJvbkRvd24gfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbnR5cGUgQ2hhcHRlckl0ZW0gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGNvbnRlbnQ/OiBzdHJpbmcgfCBudWxsO1xuICBwYW5lbFNjcmlwdD86IGFueSB8IG51bGw7XG4gIGNyZWF0ZWRBdD86IHN0cmluZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBXb3Jrc3BhY2UoeyBwcm9qZWN0SWQgfTogeyBwcm9qZWN0SWQ6IHN0cmluZyB9KSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gdXNlU3VwYWJhc2UoKTtcbiAgY29uc3QgYXBpID0gdXNlTWVtbygoKSA9PiBjcmVhdGVBcGkoc3VwYWJhc2UpLCBbc3VwYWJhc2VdKTtcblxuICBjb25zdCBbY2hhcHRlcnMsIHNldENoYXB0ZXJzXSA9IHVzZVN0YXRlPENoYXB0ZXJJdGVtW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmdDaCwgc2V0TG9hZGluZ0NoXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3JDaCwgc2V0RXJyb3JDaF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbdGFicywgc2V0VGFic10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbYWN0aXZlSWQsIHNldEFjdGl2ZUlkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IFt0aXRsZSwgc2V0VGl0bGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjb250ZW50LCBzZXRDb250ZW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBzYXZlVGltZXIgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xlZnRDb2xsYXBzZWQsIHNldExlZnRDb2xsYXBzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWlNdXNlT3Blbiwgc2V0QWlNdXNlT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkZWxldGluZ0lkLCBzZXREZWxldGluZ0lkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcHJvamVjdFRpdGxlLCBzZXRQcm9qZWN0VGl0bGVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3Byb2plY3REZXNjcmlwdGlvbiwgc2V0UHJvamVjdERlc2NyaXB0aW9uXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtzZXR0aW5nc09wZW4sIHNldFNldHRpbmdzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZW5hbWVUaXRsZSwgc2V0UmVuYW1lVGl0bGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtyZW5hbWVEZXNjLCBzZXRSZW5hbWVEZXNjXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2F2aW5nUmVuYW1lLCBzZXRTYXZpbmdSZW5hbWVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVuYW1lRXJyb3IsIHNldFJlbmFtZUVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2V0dGluZ3NNZW51T3Blbiwgc2V0U2V0dGluZ3NNZW51T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcm9qTW9kZSwgc2V0UHJvak1vZGVdID0gdXNlU3RhdGU8J25vdmVsJyB8ICdtYW5od2EnIHwgJyc+KCcnKTtcbiAgY29uc3QgW3Byb2pHZW5yZSwgc2V0UHJvakdlbnJlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIC8vIFJlbW92ZWQgd29ybGROYW1lIGZpZWxkIGZyb20gUHJvamVjdFxuICBjb25zdCBbcHJvakNvcmVDb25mbGljdCwgc2V0UHJvakNvcmVDb25mbGljdF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbcHJvalNldHRpbmdzSnNvbiwgc2V0UHJvalNldHRpbmdzSnNvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbdG9hc3RNc2csIHNldFRvYXN0TXNnXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IHRvYXN0VGltZXIgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsPihudWxsKTtcblxuICBjb25zdCBTRVRUSU5HU19UQUJfSUQgPSAnX19zZXR0aW5nc19fJztcbiAgY29uc3QgQ0hBUkFDVEVSU19UQUJfSUQgPSAnX19jaGFyYWN0ZXJzX18nO1xuICBjb25zdCBXT1JMRF9UQUJfSUQgPSAnX193b3JsZF9fJztcblxuICAvLyBDaGF0cyBzaWRlYmFyIChyaWdodClcbiAgY29uc3QgW3JpZ2h0T3Blbiwgc2V0UmlnaHRPcGVuXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBjaGF0c0NhY2hlS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fY2hhdHNgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGNoYXRzQWN0aXZlS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fYWN0aXZlX2NoYXRgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGNoYXB0ZXJzQ2FjaGVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9jaGFwdGVyc2AsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgdGFic0NhY2hlS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fb3Blbl90YWJzYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBhY3RpdmVUYWJLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9hY3RpdmVfdGFiYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBsZWZ0Q29sbGFwc2VkS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fbGVmdF9jb2xsYXBzZWRgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IHJpZ2h0T3BlbktleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X3JpZ2h0X29wZW5gLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGxlZnRXaWR0aEtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X2xlZnRfd2lkdGhgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IHJpZ2h0V2lkdGhLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9yaWdodF93aWR0aGAsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgW2NoYXRzLCBzZXRDaGF0c10gPSB1c2VTdGF0ZTxBcnJheTx7IGlkOiBzdHJpbmc7IHR5cGU6ICdwbG90J3wnY2hhcmFjdGVyJ3wnd29ybGQnOyB0aXRsZTogc3RyaW5nIH0+PihbXSk7XG4gIGNvbnN0IFthY3RpdmVDaGF0SWQsIHNldEFjdGl2ZUNoYXRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2hhc0NoYXRzQ2FjaGUsIHNldEhhc0NoYXRzQ2FjaGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBjaGF0c1JlZiA9IHVzZVJlZihjaGF0cyk7XG4gIGNvbnN0IFtuZXdDaGF0VHlwZSwgc2V0TmV3Q2hhdFR5cGVdID0gdXNlU3RhdGU8J3Bsb3QnfCdjaGFyYWN0ZXInfCd3b3JsZCc+KCdwbG90Jyk7XG4gIGNvbnN0IFtuZXdDaGF0VGl0bGUsIHNldE5ld0NoYXRUaXRsZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdDaGF0T3Blbiwgc2V0TmV3Q2hhdE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlYXRpbmdDaGF0LCBzZXRDcmVhdGluZ0NoYXRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlYXRlQ2hhdEVycm9yLCBzZXRDcmVhdGVDaGF0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjaGF0TWVudU9wZW4sIHNldENoYXRNZW51T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtoYXNDaGFwdGVyc0NhY2hlLCBzZXRIYXNDaGFwdGVyc0NhY2hlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2xlZnRXaWR0aCwgc2V0TGVmdFdpZHRoXSA9IHVzZVN0YXRlPG51bWJlcj4oMjYwKTtcbiAgY29uc3QgW3JpZ2h0V2lkdGgsIHNldFJpZ2h0V2lkdGhdID0gdXNlU3RhdGU8bnVtYmVyPigyNjApO1xuXG4gIC8vIEh5ZHJhdGUgY2hhdHMgZnJvbSBsb2NhbFN0b3JhZ2UgYWZ0ZXIgbW91bnQgKHByZXZlbnRzIFNTUi9jbGllbnQgbWlzbWF0Y2gpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNoYXRzQ2FjaGVLZXkpO1xuICAgICAgICBpZiAocykge1xuICAgICAgICAgIGNvbnN0IGFyciA9IEpTT04ucGFyc2Uocyk7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICAgICAgc2V0Q2hhdHMoYXJyIGFzIGFueSk7XG4gICAgICAgICAgICBzZXRIYXNDaGF0c0NhY2hlKChhcnIgYXMgYW55W10pLmxlbmd0aCA+IDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNoYXRzQWN0aXZlS2V5KTtcbiAgICAgICAgaWYgKHYpIHNldEFjdGl2ZUNoYXRJZCh2KTtcbiAgICAgICAgLy8gSHlkcmF0ZSBjaGFwdGVyc1xuICAgICAgICBjb25zdCBjaHMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oY2hhcHRlcnNDYWNoZUtleSk7XG4gICAgICAgIGlmIChjaHMpIHtcbiAgICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKGNocyk7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICAgICAgc2V0Q2hhcHRlcnMoYXJyIGFzIGFueSk7XG4gICAgICAgICAgICBjb25zdCB2YWxpZCA9IChhcnIgYXMgYW55W10pLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBzZXRIYXNDaGFwdGVyc0NhY2hlKHZhbGlkKTtcbiAgICAgICAgICAgIGlmICh2YWxpZCkgc2V0TG9hZGluZ0NoKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSHlkcmF0ZSB0YWJzIGFuZCBhY3RpdmUgdGFiXG4gICAgICAgIGNvbnN0IHQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGFic0NhY2hlS2V5KTtcbiAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHNldFRhYnMoYXJyIGFzIGFueSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oYWN0aXZlVGFiS2V5KTtcbiAgICAgICAgaWYgKGF0KSBzZXRBY3RpdmVJZChhdCk7XG4gICAgICAgIC8vIEh5ZHJhdGUgVUkgdG9nZ2xlc1xuICAgICAgICBjb25zdCBsYyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShsZWZ0Q29sbGFwc2VkS2V5KTtcbiAgICAgICAgaWYgKGxjICE9PSBudWxsKSBzZXRMZWZ0Q29sbGFwc2VkKGxjID09PSAnMScpO1xuICAgICAgICBjb25zdCBybyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShyaWdodE9wZW5LZXkpO1xuICAgICAgICBpZiAocm8gIT09IG51bGwpIHNldFJpZ2h0T3BlbihybyA9PT0gJzEnKTtcbiAgICAgICAgY29uc3QgbHcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obGVmdFdpZHRoS2V5KTtcbiAgICAgICAgaWYgKGx3KSB7XG4gICAgICAgICAgY29uc3QgbiA9IHBhcnNlSW50KGx3LCAxMCk7XG4gICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4obikpIHNldExlZnRXaWR0aChNYXRoLm1heCgyMDAsIE1hdGgubWluKDYwMCwgbikpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBydyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShyaWdodFdpZHRoS2V5KTtcbiAgICAgICAgaWYgKHJ3KSB7XG4gICAgICAgICAgY29uc3QgbiA9IHBhcnNlSW50KHJ3LCAxMCk7XG4gICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4obikpIHNldFJpZ2h0V2lkdGgoTWF0aC5tYXgoMjIwLCBNYXRoLm1pbig2MDAsIG4pKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjaGF0c0NhY2hlS2V5LCBjaGF0c0FjdGl2ZUtleSwgY2hhcHRlcnNDYWNoZUtleSwgdGFic0NhY2hlS2V5LCBhY3RpdmVUYWJLZXksIGxlZnRDb2xsYXBzZWRLZXksIHJpZ2h0T3BlbktleV0pO1xuXG4gIC8vIEhlbHBlcjogc29ydCBjaGFwdGVycyBieSBjcmVhdGVkQXQgYXNjIChmYWxsYmFjayBieSB0aXRsZSlcbiAgY29uc3Qgc29ydENoYXB0ZXJzID0gdXNlQ2FsbGJhY2soKGFycjogQ2hhcHRlckl0ZW1bXSkgPT4ge1xuICAgIHJldHVybiBbLi4uYXJyXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCB0YSA9IGEuY3JlYXRlZEF0ID8gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKSA6IDA7XG4gICAgICBjb25zdCB0YiA9IGIuY3JlYXRlZEF0ID8gbmV3IERhdGUoYi5jcmVhdGVkQXQpLmdldFRpbWUoKSA6IDA7XG4gICAgICBpZiAodGEgIT09IHRiKSByZXR1cm4gdGEgLSB0YjtcbiAgICAgIHJldHVybiAoYS50aXRsZSB8fCAnJykubG9jYWxlQ29tcGFyZShiLnRpdGxlIHx8ICcnKTtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIC8vIExvYWQgY2hhcHRlcnMgZm9yIHRyZWVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChoYXNDaGFwdGVyc0NhY2hlKSB7IHJldHVybjsgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZ0NoKHRydWUpO1xuICAgICAgICBjb25zdCB7IGl0ZW1zIH0gPSBhd2FpdCBhcGkubGlzdENoYXB0ZXJzUGFnaW5hdGVkKHByb2plY3RJZCwgMCwgMTAwKTtcbiAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG4gICAgICAgIHNldENoYXB0ZXJzKHNvcnRDaGFwdGVycyhpdGVtcyBhcyBDaGFwdGVySXRlbVtdKSk7XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldEVycm9yQ2goZT8ubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBsb2FkIGNoYXB0ZXJzXCIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldExvYWRpbmdDaChmYWxzZSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkID0gZmFsc2U7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgc29ydENoYXB0ZXJzLCBoYXNDaGFwdGVyc0NhY2hlXSk7XG5cbiAgLy8gUmVmbGVjdCBzZXR0aW5ncyB1cGRhdGVzIHRyaWdnZXJlZCBmcm9tIENoYXQgb3IgZWxzZXdoZXJlIGltbWVkaWF0ZWx5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25TZXR0aW5ncyA9IChlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGRldGFpbCA9IGU/LmRldGFpbCB8fCB7fTtcbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBkZXRhaWwuY2hhbmdlcyB8fCB7fTtcbiAgICAgIGlmIChjaGFuZ2VzLnRpdGxlICE9PSB1bmRlZmluZWQpIHNldFByb2plY3RUaXRsZShjaGFuZ2VzLnRpdGxlIHx8ICcnKTtcbiAgICAgIGlmIChjaGFuZ2VzLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQpIHNldFByb2plY3REZXNjcmlwdGlvbihjaGFuZ2VzLmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgIGlmIChjaGFuZ2VzLm1vZGUpIHNldFByb2pNb2RlKGNoYW5nZXMubW9kZSk7XG4gICAgICBpZiAoY2hhbmdlcy5nZW5yZSAhPT0gdW5kZWZpbmVkKSBzZXRQcm9qR2VucmUoY2hhbmdlcy5nZW5yZSB8fCAnJyk7XG4gICAgICBpZiAoY2hhbmdlcy5jb3JlQ29uZmxpY3QgIT09IHVuZGVmaW5lZCkgc2V0UHJvakNvcmVDb25mbGljdChjaGFuZ2VzLmNvcmVDb25mbGljdCB8fCAnJyk7XG4gICAgICBpZiAoY2hhbmdlcy5zZXR0aW5nc0pzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnkgeyBzZXRQcm9qU2V0dGluZ3NKc29uKHR5cGVvZiBjaGFuZ2VzLnNldHRpbmdzSnNvbiA9PT0gJ3N0cmluZycgPyBjaGFuZ2VzLnNldHRpbmdzSnNvbiA6IEpTT04uc3RyaW5naWZ5KGNoYW5nZXMuc2V0dGluZ3NKc29uKSk7IH0gY2F0Y2ggeyBzZXRQcm9qU2V0dGluZ3NKc29uKCcnKTsgfVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb25Nb2RlID0gKGU6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbSA9IGU/LmRldGFpbD8ubW9kZTtcbiAgICAgIGlmIChtID09PSAnbm92ZWwnIHx8IG0gPT09ICdtYW5od2EnKSBzZXRQcm9qTW9kZShtKTtcbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2plY3Q6c2V0dGluZ3MtdXBkYXRlZCcsIG9uU2V0dGluZ3MgYXMgYW55KTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwcm9qZWN0Om1vZGUtdXBkYXRlZCcsIG9uTW9kZSBhcyBhbnkpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9qZWN0OnNldHRpbmdzLXVwZGF0ZWQnLCBvblNldHRpbmdzIGFzIGFueSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9qZWN0Om1vZGUtdXBkYXRlZCcsIG9uTW9kZSBhcyBhbnkpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBMaXN0ZW4gZm9yIGNoYXQgYWN0aW9ucyB0byBjcmVhdGUvb3BlbiBjaGFwdGVycyBpbiBlZGl0b3JcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVyID0gYXN5bmMgKGU6IGFueSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGV0YWlsID0gZT8uZGV0YWlsIHx8IHt9O1xuICAgICAgICBjb25zdCB0ID0gU3RyaW5nKGRldGFpbC50aXRsZSB8fCAnVW50aXRsZWQgQ2hhcHRlcicpO1xuICAgICAgICBjb25zdCBjID0gZGV0YWlsLmNvbnRlbnQgIT09IHVuZGVmaW5lZCA/IFN0cmluZyhkZXRhaWwuY29udGVudCkgOiAnJztcbiAgICAgICAgY29uc3QgcGFuZWxfc2NyaXB0ID0gZGV0YWlsLnBhbmVsX3NjcmlwdCA/PyB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5jcmVhdGVDaGFwdGVyKHByb2plY3RJZCwgcGFuZWxfc2NyaXB0ID8geyB0aXRsZTogdCwgcGFuZWxfc2NyaXB0IH0gOiB7IHRpdGxlOiB0LCBjb250ZW50OiBjIH0pO1xuICAgICAgICBjb25zdCBuZXdJZCA9IChyZXMgYXMgYW55KS5pZCBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IChyZXMgYXMgYW55KS5jcmVhdGVkQXQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICBzZXRDaGFwdGVycygocHJldikgPT4gc29ydENoYXB0ZXJzKFsuLi5wcmV2LCB7IGlkOiBuZXdJZCwgdGl0bGU6IChyZXMgYXMgYW55KS50aXRsZSwgY29udGVudDogcGFuZWxfc2NyaXB0ID8gJycgOiBjLCBjcmVhdGVkQXQgfV0pKTtcbiAgICAgICAgc2V0VGFicygocHJldikgPT4gKHByZXYuaW5jbHVkZXMobmV3SWQpID8gcHJldiA6IFsuLi5wcmV2LCBuZXdJZF0pKTtcbiAgICAgICAgc2V0QWN0aXZlSWQobmV3SWQpO1xuICAgICAgICBzZXRUaXRsZSgocmVzIGFzIGFueSkudGl0bGUpO1xuICAgICAgICBzZXRDb250ZW50KHBhbmVsX3NjcmlwdCA/ICcnIDogYyk7XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6Y3JlYXRlLWRyYWZ0JywgaGFuZGxlciBhcyBhbnkpO1xuICAgIHJldHVybiAoKSA9PiB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dvcmtzcGFjZTpjcmVhdGUtZHJhZnQnLCBoYW5kbGVyIGFzIGFueSk7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgc29ydENoYXB0ZXJzXSk7XG5cbiAgLy8gTGlzdGVuIGZvciBjaGF0LWRyaXZlbiBjaGFwdGVyIHVwZGF0ZXMgKHJld3JpdGUpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlciA9IGFzeW5jIChlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGRldGFpbCA9IGU/LmRldGFpbCB8fCB7fTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBTdHJpbmcoZGV0YWlsLmNvbnRlbnQgfHwgJycpO1xuICAgICAgbGV0IHRhcmdldElkOiBzdHJpbmcgfCBudWxsID0gZGV0YWlsLmlkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkKSB7XG4gICAgICAgIC8vIFJlc29sdmUgYnkgY2hhcHRlcl9udW1iZXIgKDEtYmFzZWQpIGFnYWluc3Qgc29ydGVkIG9yZGVyXG4gICAgICAgIGlmIChkZXRhaWwuY2hhcHRlcl9udW1iZXIgJiYgTnVtYmVyLmlzSW50ZWdlcihkZXRhaWwuY2hhcHRlcl9udW1iZXIpKSB7XG4gICAgICAgICAgY29uc3Qgc29ydGVkID0gc29ydENoYXB0ZXJzKGNoYXB0ZXJzKTtcbiAgICAgICAgICBjb25zdCBpZHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzb3J0ZWQubGVuZ3RoIC0gMSwgZGV0YWlsLmNoYXB0ZXJfbnVtYmVyIC0gMSkpO1xuICAgICAgICAgIHRhcmdldElkID0gc29ydGVkW2lkeF0/LmlkIHx8IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZGV0YWlsLnRpdGxlKSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBjaGFwdGVycy5maW5kKChjKSA9PiAoYy50aXRsZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gU3RyaW5nKGRldGFpbC50aXRsZSkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgdGFyZ2V0SWQgPSBtYXRjaD8uaWQgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF0YXJnZXRJZCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGFwaS51cGRhdGVDaGFwdGVyKHByb2plY3RJZCwgdGFyZ2V0SWQsIHsgY29udGVudCB9KTtcbiAgICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHByZXYubWFwKChjKSA9PiBjLmlkID09PSB0YXJnZXRJZCA/IHsgLi4uYywgY29udGVudCB9IDogYykpO1xuICAgICAgICAvLyBPcGVuIG9yIHJlZnJlc2ggYWN0aXZlIHRhYlxuICAgICAgICBpZiAoIXRhYnMuaW5jbHVkZXModGFyZ2V0SWQpKSBzZXRUYWJzKChwcmV2KSA9PiBbLi4ucHJldiwgdGFyZ2V0SWQhXSk7XG4gICAgICAgIHNldEFjdGl2ZUlkKHRhcmdldElkKTtcbiAgICAgICAgaWYgKGFjdGl2ZUlkID09PSB0YXJnZXRJZCkgc2V0Q29udGVudChjb250ZW50KTtcbiAgICAgIH0gY2F0Y2gge31cbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3dvcmtzcGFjZTp1cGRhdGUtY2hhcHRlcicsIGhhbmRsZXIgYXMgYW55KTtcbiAgICByZXR1cm4gKCkgPT4geyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6dXBkYXRlLWNoYXB0ZXInLCBoYW5kbGVyIGFzIGFueSk7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgY2hhcHRlcnMsIHRhYnMsIGFjdGl2ZUlkLCBzb3J0Q2hhcHRlcnNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcCA9IGF3YWl0IGFwaS5nZXRQcm9qZWN0KHByb2plY3RJZCk7XG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBzZXRQcm9qZWN0VGl0bGUocD8udGl0bGUgfHwgXCJcIik7XG4gICAgICAgIHNldFByb2plY3REZXNjcmlwdGlvbihwPy5kZXNjcmlwdGlvbiB8fCBcIlwiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAocD8ubW9kZSAmJiAocC5tb2RlID09PSAnbm92ZWwnIHx8IHAubW9kZSA9PT0gJ21hbmh3YScpKSBzZXRQcm9qTW9kZShwLm1vZGUpO1xuICAgICAgICAgIGlmICh0eXBlb2YgcD8uZ2VucmUgPT09ICdzdHJpbmcnKSBzZXRQcm9qR2VucmUocC5nZW5yZSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwPy5jb3JlQ29uZmxpY3QgPT09ICdzdHJpbmcnKSBzZXRQcm9qQ29yZUNvbmZsaWN0KHAuY29yZUNvbmZsaWN0KTtcbiAgICAgICAgICBpZiAocD8uc2V0dGluZ3NKc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNldFByb2pTZXR0aW5nc0pzb24odHlwZW9mIHAuc2V0dGluZ3NKc29uID09PSAnc3RyaW5nJyA/IHAuc2V0dGluZ3NKc29uIDogSlNPTi5zdHJpbmdpZnkocC5zZXR0aW5nc0pzb24pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH0gY2F0Y2gge31cbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7IG1vdW50ZWQgPSBmYWxzZTsgfTtcbiAgfSwgW2FwaSwgcHJvamVjdElkXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBQcm9qZWN0IFNldHRpbmdzIGZvcm0gZmllbGRzIHdoZW4gdGhlIHRhYiBvcGVucyBvciBwcm9qZWN0IGZpZWxkcyBoeWRyYXRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZUlkID09PSBTRVRUSU5HU19UQUJfSUQpIHtcbiAgICAgIGlmICghcmVuYW1lVGl0bGUgJiYgcHJvamVjdFRpdGxlKSBzZXRSZW5hbWVUaXRsZShwcm9qZWN0VGl0bGUpO1xuICAgICAgaWYgKCFyZW5hbWVEZXNjICYmIChwcm9qZWN0RGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkpIHNldFJlbmFtZURlc2MocHJvamVjdERlc2NyaXB0aW9uKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbYWN0aXZlSWQsIHByb2plY3RUaXRsZSwgcHJvamVjdERlc2NyaXB0aW9uXSk7XG5cbiAgLy8gTG9hZCBjaGF0cyAoaHlkcmF0ZSBmcm9tIGNhY2hlIGZpcnN0LCB0aGVuIHJldmFsaWRhdGUpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoaGFzQ2hhdHNDYWNoZSkgeyByZXR1cm47IH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHhzID0gYXdhaXQgYXBpLmxpc3RDaGF0cyhwcm9qZWN0SWQpO1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV4dCA9IHhzIHx8IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChoYXNDaGF0c0NhY2hlICYmIEpTT04uc3RyaW5naWZ5KG5leHQpID09PSBKU09OLnN0cmluZ2lmeShjaGF0c1JlZi5jdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICBzZXRDaGF0cyhuZXh0KTtcbiAgICAgICAgaWYgKCFhY3RpdmVDaGF0SWQpIHtcbiAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCkgc2V0QWN0aXZlQ2hhdElkKG5leHRbMF0uaWQpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGF0IGxlYXN0IG9uZSBwbG90IGNoYXQgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXQocHJvamVjdElkLCB7IHR5cGU6ICdwbG90JyB9KTtcbiAgICAgICAgICAgIHNldENoYXRzKFtjcmVhdGVkXSk7XG4gICAgICAgICAgICBzZXRBY3RpdmVDaGF0SWQoY3JlYXRlZC5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkID0gZmFsc2U7IH07XG4gIH0sIFthcGksIHByb2plY3RJZCwgaGFzQ2hhdHNDYWNoZSwgYWN0aXZlQ2hhdElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgY2hhdHNSZWYuY3VycmVudCA9IGNoYXRzOyB9LCBbY2hhdHNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShjaGF0c0NhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShjaGF0cykpOyB9IGNhdGNoIHt9XG4gICAgc2V0SGFzQ2hhdHNDYWNoZShBcnJheS5pc0FycmF5KGNoYXRzKSAmJiBjaGF0cy5sZW5ndGggPiAwKTtcbiAgfSwgW2NoYXRzLCBjaGF0c0NhY2hlS2V5XSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHsgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIGFjdGl2ZUNoYXRJZCkgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGNoYXRzQWN0aXZlS2V5LCBhY3RpdmVDaGF0SWQpOyB9IGNhdGNoIHt9XG4gIH0sIFthY3RpdmVDaGF0SWQsIGNoYXRzQWN0aXZlS2V5XSk7XG4gIC8vIFBlcnNpc3QgY2hhcHRlcnMgY2FjaGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShjaGFwdGVyc0NhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShjaGFwdGVycykpOyB9IGNhdGNoIHt9XG4gICAgc2V0SGFzQ2hhcHRlcnNDYWNoZShBcnJheS5pc0FycmF5KGNoYXB0ZXJzKSAmJiBjaGFwdGVycy5sZW5ndGggPiAwKTtcbiAgfSwgW2NoYXB0ZXJzLCBjaGFwdGVyc0NhY2hlS2V5XSk7XG4gIC8vIFBlcnNpc3QgdGFicyBhbmQgYWN0aXZlIHRhYlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRhYnNDYWNoZUtleSwgSlNPTi5zdHJpbmdpZnkodGFicykpOyB9IGNhdGNoIHt9XG4gIH0sIFt0YWJzLCB0YWJzQ2FjaGVLZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgYWN0aXZlSWQpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShhY3RpdmVUYWJLZXksIGFjdGl2ZUlkKTsgfSBjYXRjaCB7fVxuICB9LCBbYWN0aXZlSWQsIGFjdGl2ZVRhYktleV0pO1xuICAvLyBQZXJzaXN0IFVJIHRvZ2dsZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsZWZ0Q29sbGFwc2VkS2V5LCBsZWZ0Q29sbGFwc2VkID8gJzEnIDogJzAnKTsgfSBjYXRjaCB7fVxuICB9LCBbbGVmdENvbGxhcHNlZCwgbGVmdENvbGxhcHNlZEtleV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHJpZ2h0T3BlbktleSwgcmlnaHRPcGVuID8gJzEnIDogJzAnKTsgfSBjYXRjaCB7fVxuICB9LCBbcmlnaHRPcGVuLCByaWdodE9wZW5LZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsZWZ0V2lkdGhLZXksIFN0cmluZyhsZWZ0V2lkdGgpKTsgfSBjYXRjaCB7fVxuICB9LCBbbGVmdFdpZHRoLCBsZWZ0V2lkdGhLZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShyaWdodFdpZHRoS2V5LCBTdHJpbmcocmlnaHRXaWR0aCkpOyB9IGNhdGNoIHt9XG4gIH0sIFtyaWdodFdpZHRoLCByaWdodFdpZHRoS2V5XSk7XG5cbiAgY29uc3Qgb3BlblRhYiA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0VGFicygocHJldikgPT4gKHByZXYuaW5jbHVkZXMoaWQpID8gcHJldiA6IFsuLi5wcmV2LCBpZF0pKTtcbiAgICBzZXRBY3RpdmVJZChpZCk7XG4gICAgY29uc3QgY2ggPSBjaGFwdGVycy5maW5kKChjKSA9PiBjLmlkID09PSBpZCk7XG4gICAgc2V0VGl0bGUoY2g/LnRpdGxlIHx8IFwiXCIpO1xuICAgIHNldENvbnRlbnQoKGNoPy5jb250ZW50IHx8IFwiXCIpIGFzIHN0cmluZyk7XG4gIH0sIFtjaGFwdGVyc10pO1xuXG4gIGNvbnN0IGNsb3NlVGFiID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRUYWJzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigodCkgPT4gdCAhPT0gaWQpKTtcbiAgICBzZXRBY3RpdmVJZCgoY3VycikgPT4ge1xuICAgICAgaWYgKGN1cnIgIT09IGlkKSByZXR1cm4gY3VycjtcbiAgICAgIGNvbnN0IGlkeCA9IHRhYnMuaW5kZXhPZihpZCk7XG4gICAgICBjb25zdCBuZXh0ID0gdGFic1tpZHggKyAxXSB8fCB0YWJzW2lkeCAtIDFdIHx8IG51bGw7XG4gICAgICByZXR1cm4gbmV4dCB8fCBudWxsO1xuICAgIH0pO1xuICB9LCBbdGFic10pO1xuXG4gIC8vIEh5ZHJhdGUgZWRpdG9yIGZpZWxkcyB3aGVuIGFjdGl2ZUlkIGFuZCBjaGFwdGVycyBhcmUgcmVzdG9yZWQgZnJvbSBjYWNoZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlSWQpIHJldHVybjtcbiAgICBpZiAoYWN0aXZlSWQgPT09IFNFVFRJTkdTX1RBQl9JRCB8fCBhY3RpdmVJZCA9PT0gQ0hBUkFDVEVSU19UQUJfSUQgfHwgYWN0aXZlSWQgPT09IFdPUkxEX1RBQl9JRCkgcmV0dXJuO1xuICAgIGNvbnN0IGNoID0gY2hhcHRlcnMuZmluZCgoYykgPT4gYy5pZCA9PT0gYWN0aXZlSWQpO1xuICAgIGlmICghY2gpIHJldHVybjtcbiAgICBzZXRUaXRsZShjaC50aXRsZSB8fCBcIlwiKTtcbiAgICBzZXRDb250ZW50KChjaC5jb250ZW50IHx8IFwiXCIpIGFzIHN0cmluZyk7XG4gIH0sIFthY3RpdmVJZCwgY2hhcHRlcnNdKTtcblxuICBjb25zdCBvbkRyYWdTdGFydCA9IChlOiBSZWFjdC5EcmFnRXZlbnQ8SFRNTERpdkVsZW1lbnQ+LCBpZDogc3RyaW5nKSA9PiB7XG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvdGFiXCIsIGlkKTtcbiAgfTtcbiAgY29uc3Qgb25Ecm9wID0gKGU6IFJlYWN0LkRyYWdFdmVudDxIVE1MRGl2RWxlbWVudD4sIHRhcmdldElkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBzcmNJZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L3RhYlwiKTtcbiAgICBpZiAoIXNyY0lkIHx8IHNyY0lkID09PSB0YXJnZXRJZCkgcmV0dXJuO1xuICAgIHNldFRhYnMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IGFyciA9IFsuLi5wcmV2XTtcbiAgICAgIGNvbnN0IHNpID0gYXJyLmluZGV4T2Yoc3JjSWQpO1xuICAgICAgY29uc3QgdGkgPSBhcnIuaW5kZXhPZih0YXJnZXRJZCk7XG4gICAgICBpZiAoc2kgPCAwIHx8IHRpIDwgMCkgcmV0dXJuIHByZXY7XG4gICAgICBhcnIuc3BsaWNlKHRpLCAwLCBhcnIuc3BsaWNlKHNpLCAxKVswXSk7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0TGVmdFJlc2l6ZSA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7XG4gICAgY29uc3Qgc3RhcnRXID0gbGVmdFdpZHRoO1xuICAgIGNvbnN0IG9uTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgZHggPSBldi5jbGllbnRYIC0gc3RhcnRYO1xuICAgICAgY29uc3QgbmV4dCA9IE1hdGgubWF4KDIwMCwgTWF0aC5taW4oNjAwLCBzdGFydFcgKyBkeCkpO1xuICAgICAgc2V0TGVmdFdpZHRoKG5leHQpO1xuICAgIH07XG4gICAgY29uc3Qgb25VcCA9ICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25VcCk7XG4gIH0sIFtsZWZ0V2lkdGhdKTtcblxuICBjb25zdCBzdGFydFJpZ2h0UmVzaXplID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHN0YXJ0WCA9IGUuY2xpZW50WDtcbiAgICBjb25zdCBzdGFydFcgPSByaWdodFdpZHRoO1xuICAgIGNvbnN0IG9uTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgZHggPSBldi5jbGllbnRYIC0gc3RhcnRYO1xuICAgICAgY29uc3QgbmV4dCA9IE1hdGgubWF4KDIyMCwgTWF0aC5taW4oNjAwLCBzdGFydFcgLSBkeCkpO1xuICAgICAgc2V0UmlnaHRXaWR0aChuZXh0KTtcbiAgICB9O1xuICAgIGNvbnN0IG9uVXAgPSAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25VcCk7XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uVXApO1xuICB9LCBbcmlnaHRXaWR0aF0pO1xuXG4gIC8vIFBlcnNpc3QgZWRpdHMgKGRlYm91bmNlZClcbiAgY29uc3Qgc2NoZWR1bGVTYXZlID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcsIHQ6IHN0cmluZywgYzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFpZCkgcmV0dXJuO1xuICAgIGlmIChzYXZlVGltZXIuY3VycmVudCkgY2xlYXJUaW1lb3V0KHNhdmVUaW1lci5jdXJyZW50KTtcbiAgICBzYXZlVGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZUNoYXB0ZXIocHJvamVjdElkLCBpZCwgeyB0aXRsZTogdCwgY29udGVudDogYyB9KTtcbiAgICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHByZXYubWFwKChjaCkgPT4gY2guaWQgPT09IGlkID8geyAuLi5jaCwgdGl0bGU6IHQsIGNvbnRlbnQ6IGMgfSA6IGNoKSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG4gIH0sIFthcGksIHByb2plY3RJZF0pO1xuXG4gIC8vIEFjdGl2ZSBjaGFuZ2UgaGFuZGxlcnNcbiAgY29uc3Qgb25UaXRsZUNoYW5nZSA9ICh2OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWFjdGl2ZUlkKSByZXR1cm47XG4gICAgc2V0VGl0bGUodik7XG4gICAgc2NoZWR1bGVTYXZlKGFjdGl2ZUlkLCB2LCBjb250ZW50KTtcbiAgfTtcbiAgY29uc3Qgb25Db250ZW50Q2hhbmdlID0gKHY6IHN0cmluZykgPT4ge1xuICAgIGlmICghYWN0aXZlSWQpIHJldHVybjtcbiAgICBzZXRDb250ZW50KHYpO1xuICAgIHNjaGVkdWxlU2F2ZShhY3RpdmVJZCwgdGl0bGUsIHYpO1xuICB9O1xuXG4gIGNvbnN0IG9uTmV3Q2hhcHRlciA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXB0ZXIocHJvamVjdElkLCB7IHRpdGxlOiBcIlVudGl0bGVkIENoYXB0ZXJcIiB9KTtcbiAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IChyZXMgYXMgYW55KS5jcmVhdGVkQXQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHNvcnRDaGFwdGVycyhbLi4ucHJldiwgeyBpZDogKHJlcyBhcyBhbnkpLmlkLCB0aXRsZTogKHJlcyBhcyBhbnkpLnRpdGxlLCBjb250ZW50OiBcIlwiLCBjcmVhdGVkQXQgfV0pKTtcbiAgICAgIG9wZW5UYWIoKHJlcyBhcyBhbnkpLmlkKTtcbiAgICB9IGNhdGNoIHt9XG4gIH07XG5cbiAgY29uc3Qgb25EZWxldGVDaGFwdGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgICBpZiAoIWNvbmZpcm0oJ0RlbGV0ZSB0aGlzIGNoYXB0ZXIgcGVybWFuZW50bHk/JykpIHJldHVybjtcbiAgICAgIHNldERlbGV0aW5nSWQoaWQpO1xuICAgICAgYXdhaXQgYXBpLmRlbGV0ZUNoYXB0ZXIocHJvamVjdElkLCBpZCk7XG4gICAgICBzZXRDaGFwdGVycygocHJldikgPT4gcHJldi5maWx0ZXIoKGMpID0+IGMuaWQgIT09IGlkKSk7XG4gICAgICBzZXRUYWJzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigodCkgPT4gdCAhPT0gaWQpKTtcbiAgICAgIHNldEFjdGl2ZUlkKChjdXJyKSA9PiAoY3VyciA9PT0gaWQgPyBudWxsIDogY3VycikpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnN0IG1zZyA9IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6ICdGYWlsZWQgdG8gZGVsZXRlJztcbiAgICAgIHNldEVycm9yQ2gobXNnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0RGVsZXRpbmdJZChudWxsKTtcbiAgICB9XG4gIH0sIFthcGksIHByb2plY3RJZF0pO1xuXG4gIGNvbnN0IGFjdGl2ZUNoYXB0ZXIgPSBjaGFwdGVycy5maW5kKChjKSA9PiBjLmlkID09PSBhY3RpdmVJZCkgfHwgbnVsbDtcblxuICBjb25zdCBncmlkQ29scyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGNvbHM6IHN0cmluZ1tdID0gW107XG4gICAgaWYgKCFsZWZ0Q29sbGFwc2VkKSB7IGNvbHMucHVzaChgJHtsZWZ0V2lkdGh9cHhgKTsgY29scy5wdXNoKCc0cHgnKTsgfVxuICAgIGNvbHMucHVzaCgnMWZyJyk7XG4gICAgaWYgKHJpZ2h0T3BlbikgeyBjb2xzLnB1c2goJzRweCcpOyBjb2xzLnB1c2goYCR7cmlnaHRXaWR0aH1weGApOyB9XG4gICAgcmV0dXJuIGNvbHMuam9pbignICcpO1xuICB9LCBbbGVmdENvbGxhcHNlZCwgcmlnaHRPcGVuLCBsZWZ0V2lkdGgsIHJpZ2h0V2lkdGhdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1zY3JlZW4gdy1zY3JlZW4gYmctYmctcHJpbWFyeSB0ZXh0LXRleHQtcHJpbWFyeSBncmlkIGdyaWQtcm93cy1bYXV0b18xZnJdIHJlbGF0aXZlXCI+XG4gICAgICB7LyogVG9wIFRhYnMgQmFyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEyIGJvcmRlci1iIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1wcmltYXJ5IGZsZXggaXRlbXMtY2VudGVyIHJlbGF0aXZlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTAgZmxleCBpdGVtcy1zdHJldGNoIGdhcC0xIHB4LTIgb3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAge3RhYnMubWFwKChpZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2ggPSBjaGFwdGVycy5maW5kKChjKSA9PiBjLmlkID09PSBpZCk7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmUgPSBpZCA9PT0gYWN0aXZlSWQ7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGlkID09PSBTRVRUSU5HU19UQUJfSUQgPyAnU2V0dGluZ3MnIDogKGlkID09PSBDSEFSQUNURVJTX1RBQl9JRCA/ICdDaGFyYWN0ZXJzJyA6IChjaD8udGl0bGUgfHwgJ1VudGl0bGVkJykpO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17aWR9XG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiBvbkRyYWdTdGFydChlLCBpZCl9XG4gICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgICAgICAgICAgICBvbkRyb3A9eyhlKSA9PiBvbkRyb3AoZSwgaWQpfVxuICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4geyBpZiAoZS5idXR0b24gPT09IDEpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBjbG9zZVRhYihpZCk7IH0gfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bncm91cCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IGgtMTAgcm91bmRlZC10LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCAke2FjdGl2ZSA/ICdiZy1iZy1lbGV2YXRlZCB0ZXh0LXRleHQtcHJpbWFyeScgOiAndGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXInfWB9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlSWQoaWQpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0cnVuY2F0ZSBtYXgtdy1bMTYwcHhdXCI+e2xhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIm9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCBob3Zlcjp0ZXh0LXJlZC00MDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTE1MFwiIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGNsb3NlVGFiKGlkKTsgfX0+w5c8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXRleHQtcHJpbWFyeSB0cnVuY2F0ZSBtYXgtdy1bNjAlXSB0cmFja2luZy1lbGVnYW50XCI+e3Byb2plY3RUaXRsZSB8fCAnUHJvamVjdCd9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTIgdG9wLTEgei0xMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMyBweS0xLjUgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLWVsZXZhdGVkIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC1hY2NlbnQgaG92ZXI6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2V0dGluZ3NNZW51T3BlbigodikgPT4gIXYpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5TZXR0aW5nczwvc3Bhbj5cbiAgICAgICAgICAgIDxJY29uU2V0dGluZ3MgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAge3NldHRpbmdzTWVudU9wZW4gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0wIHRvcC0xMCB6LTIwIHctNDggcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLWVsZXZhdGVkIHNoYWRvdy1lbGV2YXRpb25cIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yIHRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlciBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFNldHRpbmdzTWVudU9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgLy8gT3BlbiBzZXR0aW5ncyBhcyBhIGNlbnRyYWwgdGFiXG4gICAgICAgICAgICAgICAgICBpZiAoIXRhYnMuaW5jbHVkZXMoU0VUVElOR1NfVEFCX0lEKSkgc2V0VGFicygocHJldikgPT4gWy4uLnByZXYsIFNFVFRJTkdTX1RBQl9JRF0pO1xuICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlSWQoU0VUVElOR1NfVEFCX0lEKTtcbiAgICAgICAgICAgICAgICAgIHNldFJlbmFtZVRpdGxlKHByb2plY3RUaXRsZSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICBzZXRSZW5hbWVEZXNjKHByb2plY3REZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICBzZXRSZW5hbWVFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+UHJvamVjdCBTZXR0aW5nczwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyIGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2V0dGluZ3NNZW51T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIXRhYnMuaW5jbHVkZXMoV09STERfVEFCX0lEKSkgc2V0VGFicygocHJldikgPT4gWy4uLnByZXYsIFdPUkxEX1RBQl9JRF0pO1xuICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlSWQoV09STERfVEFCX0lEKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+V29ybGQgU2V0dGluZ3M8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yIHRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlciBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFNldHRpbmdzTWVudU9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgaWYgKCF0YWJzLmluY2x1ZGVzKENIQVJBQ1RFUlNfVEFCX0lEKSkgc2V0VGFicygocHJldikgPT4gWy4uLnByZXYsIENIQVJBQ1RFUlNfVEFCX0lEXSk7XG4gICAgICAgICAgICAgICAgICBzZXRBY3RpdmVJZChDSEFSQUNURVJTX1RBQl9JRCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPkNoYXJhY3RlcnM8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtsZWZ0Q29sbGFwc2VkICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMiB0b3AtMTQgei0xMCB0ZXh0LXhzIHB4LTMgcHktMiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctZWxldmF0ZWQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LWFjY2VudCBob3Zlcjpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBzaGFkb3ctZWxldmF0aW9uXCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRMZWZ0Q29sbGFwc2VkKGZhbHNlKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgPHNwYW4+Q2hhcHRlcnM8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cblxuICAgICAgey8qIExheW91dDogTGVmdCBzaWRlYmFyICsgTWFpbiBlZGl0b3IgKyBSaWdodCBzaWRlYmFyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIG1pbi1oLTBcIiBzdHlsZT17eyBncmlkVGVtcGxhdGVDb2x1bW5zOiBncmlkQ29scyB9fT5cbiAgICAgICAgeyFsZWZ0Q29sbGFwc2VkICYmIChcbiAgICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cImJnLWJnLXByaW1hcnkgbWluLWgtMCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC01IHB5LTQgdGV4dC14cyBmb250LXNlbWlib2xkIHRyYWNraW5nLVswLjA1ZW1dIHVwcGVyY2FzZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC10ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgPHNwYW4+Q0hBUFRFUlM8L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LWFjY2VudCByb3VuZGVkIHAtMSBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIiBvbkNsaWNrPXsoKSA9PiBzZXRMZWZ0Q29sbGFwc2VkKHRydWUpfT5cbiAgICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+Q29sbGFwc2U8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcHgtNFwiPlxuICAgICAgICAgICAge2xvYWRpbmdDaCAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXNlY29uZGFyeSBweC0yIHB5LTJcIj5Mb2FkaW5n4oCmPC9kaXY+fVxuICAgICAgICAgICAge2Vycm9yQ2ggJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTQwMCBweC0yIHB5LTIgYmctcmVkLTk1MC8yMCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMFwiPntlcnJvckNofTwvZGl2Pn1cbiAgICAgICAgICAgIHtjaGFwdGVycy5tYXAoKGMsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB3b3JkQ291bnQgPSBjLmNvbnRlbnQgPyBjLmNvbnRlbnQudHJpbSgpLnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtjLmlkfSBjbGFzc05hbWU9e2Bncm91cCB3LWZ1bGwgZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcHgtMyBweS0zIHJvdW5kZWQtbGcgbWItMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgJHthY3RpdmVJZCA9PT0gYy5pZCA/ICdiZy1iZy1lbGV2YXRlZCBib3JkZXItbC0zIGJvcmRlci1hY2NlbnQnIDogJ2hvdmVyOmJnLWJnLWhvdmVyJ31gfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9wZW5UYWIoYy5pZCl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0ZXh0LXRleHQtdGVydGlhcnkgbWItMVwiPkNoYXB0ZXIge2lkeCArIDF9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1tZWRpdW0gbWItMSAke2FjdGl2ZUlkID09PSBjLmlkID8gJ3RleHQtdGV4dC1wcmltYXJ5JyA6ICd0ZXh0LXRleHQtc2Vjb25kYXJ5J31gfT57Yy50aXRsZSB8fCAnVW50aXRsZWQnfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPnt3b3JkQ291bnR9IHdvcmRzPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0xNTAgJHtkZWxldGluZ0lkID09PSBjLmlkID8gJ3RleHQtcmVkLTQwMCBvcGFjaXR5LTYwIGN1cnNvci1ub3QtYWxsb3dlZCcgOiAndGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtcmVkLTQwMCd9YH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGlmIChkZWxldGluZ0lkKSByZXR1cm47IHZvaWQgb25EZWxldGVDaGFwdGVyKGMuaWQpOyB9fVxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUgY2hhcHRlclwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGVsZXRpbmdJZCA9PT0gYy5pZH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7ZGVsZXRpbmdJZCA9PT0gYy5pZCA/IDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgYW5pbWF0ZS1zcGluXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz4gOiA8VHJhc2gyIGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPn1cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5EZWxldGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTt9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItYm9yZGVyLWRlZmF1bHRcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQtbGcgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBob3Zlcjpib3JkZXItYWNjZW50IGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBweC00IHB5LTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIGhvdmVyOi10cmFuc2xhdGUteS0wLjVcIiBvbkNsaWNrPXtvbk5ld0NoYXB0ZXJ9PlxuICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4+TmV3IENoYXB0ZXI8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgKX1cbiAgICAgICAgeyFsZWZ0Q29sbGFwc2VkICYmIChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICByb2xlPVwic2VwYXJhdG9yXCJcbiAgICAgICAgICAgIGFyaWEtb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICBvbk1vdXNlRG93bj17c3RhcnRMZWZ0UmVzaXplfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3Vyc29yLWNvbC1yZXNpemUgdy0xIGJnLXRyYW5zcGFyZW50IGhvdmVyOmJnLWJnLWhvdmVyXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHVzZXJTZWxlY3Q6ICdub25lJyB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIENlbnRlcjogRWRpdG9yICovfVxuICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJtaW4taC0wIG92ZXJmbG93LWhpZGRlbiBiZy1iZy1wcmltYXJ5IGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICB7YWN0aXZlSWQgPT09IFNFVFRJTkdTX1RBQl9JRCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGdyaWQgZ3JpZC1yb3dzLVthdXRvXzFmcl9hdXRvXSBiZy1iZy1lbGV2YXRlZFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ib3JkZXItZGVmYXVsdCBweC02IHB5LTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5IHRyYWNraW5nLWVsZWdhbnRcIj5Qcm9qZWN0IFNldHRpbmdzPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLTAgb3ZlcmZsb3cteS1hdXRvIHB4LTYgcHktNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNCBtYXgtdy0yeGxcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5UaXRsZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JlbmFtZVRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVuYW1lVGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+RGVzY3JpcHRpb248L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZW5hbWVEZXNjfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVuYW1lRGVzYyhlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LXRlcnRpYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+TW9kZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9qTW9kZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByb2pNb2RlKGUudGFyZ2V0LnZhbHVlIGFzIGFueSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN04oCmPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5vdmVsXCI+Tm92ZWw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWFuaHdhXCI+TWFuaHdhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5HZW5yZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb2pHZW5yZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByb2pHZW5yZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIHsvKiBXb3JsZCBOYW1lIHJlbW92ZWQgKi99XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+Q29yZSBDb25mbGljdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb2pDb3JlQ29uZmxpY3R9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9qQ29yZUNvbmZsaWN0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LXRlcnRpYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlNldHRpbmdzIEpTT048L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9qU2V0dGluZ3NKc29ufVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJvalNldHRpbmdzSnNvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgcm93cz17MTB9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTAgZm9udC1tb25vIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIHtyZW5hbWVFcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNDAwIHAtMyByb3VuZGVkLWxnIGJnLXJlZC05NTAvMjAgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzIwXCI+e3JlbmFtZUVycm9yfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xNCBweC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zIGJvcmRlci10IGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1wcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVJZChudWxsKX0gY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiPkNsb3NlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ1JlbmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2F2aW5nUmVuYW1lKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRSZW5hbWVFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVCb2R5OiBhbnkgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gcmVuYW1lVGl0bGUudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIHQgIT09IHByb2plY3RUaXRsZSkgdXBkYXRlQm9keS50aXRsZSA9IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbmFtZURlc2MgIT09IHByb2plY3REZXNjcmlwdGlvbikgdXBkYXRlQm9keS5kZXNjcmlwdGlvbiA9IHJlbmFtZURlc2M7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHVwZGF0ZUJvZHkpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBhcGkudXBkYXRlUHJvamVjdChwcm9qZWN0SWQsIHVwZGF0ZUJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvamVjdFRpdGxlKHVwZGF0ZWQ/LnRpdGxlIHx8IHQgfHwgcHJvamVjdFRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb2plY3REZXNjcmlwdGlvbih1cGRhdGVkPy5kZXNjcmlwdGlvbiA/PyByZW5hbWVEZXNjID8/IHByb2plY3REZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXM6IGFueSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qTW9kZSkgY2hhbmdlcy5tb2RlID0gcHJvak1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pHZW5yZSkgY2hhbmdlcy5nZW5yZSA9IHByb2pHZW5yZTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvakNvcmVDb25mbGljdCkgY2hhbmdlcy5jb3JlQ29uZmxpY3QgPSBwcm9qQ29yZUNvbmZsaWN0O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qU2V0dGluZ3NKc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyBjaGFuZ2VzLnNldHRpbmdzSnNvbiA9IEpTT04ucGFyc2UocHJvalNldHRpbmdzSnNvbik7IH0gY2F0Y2ggeyBjaGFuZ2VzLnNldHRpbmdzSnNvbiA9IHByb2pTZXR0aW5nc0pzb247IH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoYW5nZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFwaS51cGRhdGVQcm9qZWN0U2V0dGluZ3MocHJvamVjdElkLCBjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Byb2plY3Q6c2V0dGluZ3MtdXBkYXRlZCcsIHsgZGV0YWlsOiB7IHByb2plY3RJZCwgY2hhbmdlcyB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvYXN0OiBTZXR0aW5ncyBzYXZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvYXN0VGltZXIuY3VycmVudCkgY2xlYXJUaW1lb3V0KHRvYXN0VGltZXIuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdE1zZygnU2V0dGluZ3Mgc2F2ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0VGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4gc2V0VG9hc3RNc2coJycpLCAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFJlbmFtZUVycm9yKGU/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzYXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2F2aW5nUmVuYW1lKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLW1kIGJnLWFjY2VudCBob3ZlcjpiZy1hY2NlbnQtaG92ZXIgZGlzYWJsZWQ6b3BhY2l0eS01MCB0ZXh0LXdoaXRlIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3NhdmluZ1JlbmFtZSA/ICdTYXZpbmfigKYnIDogJ1NhdmUgU2V0dGluZ3MnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBhY3RpdmVJZCA9PT0gQ0hBUkFDVEVSU19UQUJfSUQgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBiZy1iZy1lbGV2YXRlZFwiPlxuICAgICAgICAgICAgICA8Q2hhcmFjdGVyTWFuYWdlciBwcm9qZWN0SWQ9e3Byb2plY3RJZH0gcmVxdWlyZUltYWdlPXtwcm9qTW9kZSA9PT0gJ21hbmh3YSd9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogYWN0aXZlSWQgPT09IFdPUkxEX1RBQl9JRCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGJnLWJnLWVsZXZhdGVkXCI+XG4gICAgICAgICAgICAgIDxXb3JsZFNldHRpbmdzTWFuYWdlciBwcm9qZWN0SWQ9e3Byb2plY3RJZH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBhY3RpdmVJZCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgey8qIEVkaXRvciBDYW52YXMgLSBFbGV2YXRlZCBTdXJmYWNlICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4taC0wIG92ZXJmbG93LXktYXV0byBiZy1iZy1lbGV2YXRlZCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctWzgwMHB4XSBweC0xMiBweS0xNlwiPlxuICAgICAgICAgICAgICAgICAgey8qIENoYXB0ZXIgVGl0bGUgSW5wdXQgKi99XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uVGl0bGVDaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNoYXB0ZXIgVGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctdHJhbnNwYXJlbnQgYm9yZGVyLW5vbmUgdGV4dC1bMzJweF0gZm9udC1ib2xkIHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgbWItOCB0cmFja2luZy10aWdodFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgey8qIENoYXB0ZXIgQ29udGVudCAtIENvbnRlbnRlZGl0YWJsZSAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEVkaXRhYmxlXG4gICAgICAgICAgICAgICAgICAgIHN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1xuICAgICAgICAgICAgICAgICAgICBvbklucHV0PXsoZSkgPT4gb25Db250ZW50Q2hhbmdlKGUuY3VycmVudFRhcmdldC50ZXh0Q29udGVudCB8fCAnJyl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBtaW4taC1bNDAwcHhdIHRleHQtbGcgbGVhZGluZy1bMS44XSB0ZXh0LXRleHQtcHJpbWFyeSBvdXRsaW5lLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtjb250ZW50fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7IWNvbnRlbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGcgdGV4dC10ZXh0LXRlcnRpYXJ5IHBvaW50ZXItZXZlbnRzLW5vbmUgLW10LVs0MDBweF0gbGVhZGluZy1bMS44XVwiPlN0YXJ0IHdyaXRpbmcgeW91ciBzdG9yeS4uLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHsvKiBTdGF0dXMgQmFyICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTIgYmctYmctcHJpbWFyeSBib3JkZXItdCBib3JkZXItYm9yZGVyLWRlZmF1bHQgcHgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1bMTNweF0gdGV4dC10ZXh0LXRlcnRpYXJ5XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMS41IGgtMS41IHJvdW5kZWQtZnVsbCAke3NhdmluZyA/ICdiZy13YXJuaW5nIGFuaW1hdGUtcHVsc2UnIDogJ2JnLXN1Y2Nlc3MnfWB9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPntzYXZpbmcgPyAnU2F2aW5n4oCmJyA6ICdTYXZlZCd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2Pntjb250ZW50LnRyaW0oKS5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKS5sZW5ndGh9IHdvcmRzPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2Pntjb250ZW50Lmxlbmd0aH0gY2hhcmFjdGVyczwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj57TWF0aC5jZWlsKGNvbnRlbnQudHJpbSgpLnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCAvIDIwMCl9IG1pbiByZWFkPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIHthY3RpdmVDaGFwdGVyPy5jcmVhdGVkQXQgJiYgYExhc3QgZWRpdGVkICR7bmV3IERhdGUoYWN0aXZlQ2hhcHRlci5jcmVhdGVkQXQpLnRvTG9jYWxlU3RyaW5nKCl9YH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgYmctYmctZWxldmF0ZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYXgtdy1tZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC10ZXh0LXByaW1hcnkgbWItMlwiPk5vIENoYXB0ZXIgU2VsZWN0ZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeVwiPk9wZW4gYSBjaGFwdGVyIGZyb20gdGhlIGxlZnQgc2lkZWJhciB0byBzdGFydCBlZGl0aW5nLjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvbWFpbj5cblxuICAgICAgICB7LyogUmlnaHQ6IENoYXRzIFNpZGViYXIgKi99XG4gICAgICAgIHtyaWdodE9wZW4gJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcm9sZT1cInNlcGFyYXRvclwiXG4gICAgICAgICAgYXJpYS1vcmllbnRhdGlvbj1cInZlcnRpY2FsXCJcbiAgICAgICAgICBvbk1vdXNlRG93bj17c3RhcnRSaWdodFJlc2l6ZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJjdXJzb3ItY29sLXJlc2l6ZSB3LTEgYmctdHJhbnNwYXJlbnQgaG92ZXI6YmctYmctaG92ZXJcIlxuICAgICAgICAgIHN0eWxlPXt7IHVzZXJTZWxlY3Q6ICdub25lJyB9fVxuICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICB7cmlnaHRPcGVuICYmIChcbiAgICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cImJnLWJnLXByaW1hcnkgbWluLWgtMCBmbGV4IGZsZXgtY29sIHJlbGF0aXZlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC01IHB5LTQgdGV4dC14cyBmb250LXNlbWlib2xkIHRyYWNraW5nLVswLjA1ZW1dIHVwcGVyY2FzZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC10ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5XCIgb25DbGljaz17KCkgPT4gc2V0Q2hhdE1lbnVPcGVuKCh2KT0+IXYpfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJ1bmNhdGUgbWF4LXctWzE0MHB4XSB0ZXh0LXRleHQtcHJpbWFyeSBub3JtYWwtY2FzZSB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+eyhjaGF0cy5maW5kKGM9PmMuaWQ9PT1hY3RpdmVDaGF0SWQpPy50aXRsZSkgfHwgJ1NlbGVjdCBjaGF0J308L3NwYW4+XG4gICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9e2B3LTMuNSBoLTMuNSB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke2NoYXRNZW51T3BlbiA/ICdyb3RhdGUtMTgwJyA6ICcnfWB9IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC1hY2NlbnQgcm91bmRlZCBwLTEgaG92ZXI6YmctYmctaG92ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCIgb25DbGljaz17KCkgPT4geyBzZXROZXdDaGF0T3Blbih0cnVlKTsgc2V0Q2hhdE1lbnVPcGVuKHRydWUpOyB9fSB0aXRsZT1cIk5ldyBDaGF0XCI+XG4gICAgICAgICAgICAgICAgPFBsdXMgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LWFjY2VudCByb3VuZGVkIHAtMSBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIiBvbkNsaWNrPXsoKSA9PiBzZXRSaWdodE9wZW4oZmFsc2UpfT5cbiAgICAgICAgICAgICAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5Db2xsYXBzZTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Y2hhdE1lbnVPcGVuICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHJpZ2h0LTMgdG9wLTE0IHotMjAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLWVsZXZhdGVkIHNoYWRvdy1lbGV2YXRpb25cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYm9yZGVyLWIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+Q2hhdHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeVwiIG9uQ2xpY2s9eygpPT4gc2V0Q2hhdE1lbnVPcGVuKGZhbHNlKX0+4pyVPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICB7bmV3Q2hhdE9wZW4gJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbGcgcC0zIGJnLWJnLXByaW1hcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSBtYi0yXCI+Q3JlYXRlIGEgbmV3IGNoYXQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgeyhbJ3Bsb3QnLCdjaGFyYWN0ZXInLCd3b3JsZCddIGFzIGNvbnN0KS5tYXAoKHQpPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGtleT17dH0gY2xhc3NOYW1lPXtgdGV4dC14cyBweC0zIHB5LTEuNSByb3VuZGVkLW1kIGJvcmRlciBjdXJzb3ItcG9pbnRlciAke25ld0NoYXRUeXBlPT09dCA/ICdib3JkZXItYWNjZW50IHRleHQtYWNjZW50JyA6ICdib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiY2hhdC10eXBlXCIgY2xhc3NOYW1lPVwiaGlkZGVuXCIgY2hlY2tlZD17bmV3Q2hhdFR5cGU9PT10fSBvbkNoYW5nZT17KCk9PnNldE5ld0NoYXRUeXBlKHQpfSAvPnt0fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17bmV3Q2hhdFRpdGxlfSBvbkNoYW5nZT17KGUpPT5zZXROZXdDaGF0VGl0bGUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIlRpdGxlIChvcHRpb25hbClcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTMgcHktMiB0ZXh0LXRleHQtcHJpbWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0ZXh0LXNtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAge2NyZWF0ZUNoYXRFcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXJlZC00MDBcIj57Y3JlYXRlQ2hhdEVycm9yfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJweC0zIHB5LTEuNSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlclwiIG9uQ2xpY2s9eygpPT57IHNldE5ld0NoYXRPcGVuKGZhbHNlKTsgc2V0TmV3Q2hhdFRpdGxlKCcnKTsgc2V0Q3JlYXRlQ2hhdEVycm9yKG51bGwpOyB9fT5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInB4LTMgcHktMS41IHJvdW5kZWQtbWQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciB0ZXh0LXdoaXRlIGRpc2FibGVkOm9wYWNpdHktNTBcIiBkaXNhYmxlZD17Y3JlYXRpbmdDaGF0fSBvbkNsaWNrPXthc3luYyAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlYXRpbmdDaGF0KHRydWUpOyBzZXRDcmVhdGVDaGF0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXQocHJvamVjdElkLCB7IHR5cGU6IG5ld0NoYXRUeXBlLCB0aXRsZTogbmV3Q2hhdFRpdGxlIHx8IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2hhdHMoKHByZXYpPT5bLi4ucHJldiwgY10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVDaGF0SWQoYy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldE5ld0NoYXRPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TmV3Q2hhdFRpdGxlKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2hhdE1lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmVhdGVDaGF0RXJyb3IoZT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBjaGF0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgeyBzZXRDcmVhdGluZ0NoYXQoZmFsc2UpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgfX0+e2NyZWF0aW5nQ2hhdCA/ICdDcmVhdGluZ+KApicgOiAnQ3JlYXRlJ308L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtNjQgb3ZlcmZsb3cteS1hdXRvIHByLTFcIj5cbiAgICAgICAgICAgICAgICAgIHshY2hhdHMubGVuZ3RoICYmICFuZXdDaGF0T3BlbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgcHgtMiBweS0yXCI+Tm8gY2hhdHMgeWV0LiA8YnV0dG9uIGNsYXNzTmFtZT1cInVuZGVybGluZVwiIG9uQ2xpY2s9eygpPT57IHNldE5ld0NoYXRUeXBlKCdwbG90Jyk7IHNldE5ld0NoYXRPcGVuKHRydWUpOyB9fT5DcmVhdGUgeW91ciBmaXJzdCBjaGF0PC9idXR0b24+LjwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtjaGF0cy5tYXAoKGMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2MuaWR9IGNsYXNzTmFtZT17YGdyb3VwIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcHgtMyBweS0yIHJvdW5kZWQtbWQgbWItMSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgJHthY3RpdmVDaGF0SWQ9PT1jLmlkID8gJ2JnLWJnLWhvdmVyJyA6ICdob3ZlcjpiZy1iZy1ob3Zlcid9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1sZWZ0XCIgb25DbGljaz17KCkgPT4geyBzZXRBY3RpdmVDaGF0SWQoYy5pZCk7IHNldENoYXRNZW51T3BlbihmYWxzZSk7IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdGV4dC10ZXh0LXRlcnRpYXJ5IG1iLTAuNVwiPntjLnR5cGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1tZWRpdW0gJHthY3RpdmVDaGF0SWQ9PT1jLmlkID8gJ3RleHQtdGV4dC1wcmltYXJ5JyA6ICd0ZXh0LXRleHQtc2Vjb25kYXJ5J31gfT57Yy50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTE1MCB0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC1yZWQtNDAwYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jIChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGlmICghY29uZmlybSgnRGVsZXRlIHRoaXMgY2hhdD8nKSkgcmV0dXJuOyB0cnkgeyBhd2FpdCBhcGkuZGVsZXRlQ2hhdChwcm9qZWN0SWQsIGMuaWQpOyBzZXRDaGF0cygocHJldik9PnByZXYuZmlsdGVyKHg9PnguaWQhPT1jLmlkKSk7IGlmIChhY3RpdmVDaGF0SWQ9PT1jLmlkKSBzZXRBY3RpdmVDaGF0SWQoY2hhdHMuZmluZCh4PT54LmlkIT09Yy5pZCk/LmlkIHx8IG51bGwpOyB9IGNhdGNoIHt9IH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBjaGF0XCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPkRlbGV0ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHsvKiBDaGF0IHZpZXcgZmlsbHMgdGhlIHNpZGViYXIgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC0wIGZsZXgtMSBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLXQgYm9yZGVyLWJvcmRlci1kZWZhdWx0XCI+XG4gICAgICAgICAgICB7YWN0aXZlQ2hhdElkID8gKFxuICAgICAgICAgICAgICA8Q2hhdFxuICAgICAgICAgICAgICAgIGNoYXRJZD17YWN0aXZlQ2hhdElkfVxuICAgICAgICAgICAgICAgIHByb2plY3RJZD17cHJvamVjdElkfVxuICAgICAgICAgICAgICAgIGNoYXRUeXBlPXsoY2hhdHMuZmluZChjID0+IGMuaWQgPT09IGFjdGl2ZUNoYXRJZCk/LnR5cGUpIHx8ICdwbG90J31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGdyaWQgcGxhY2UtaXRlbXMtY2VudGVyIHRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5XCI+T3BlbiB0aGUgY2hhdCBtZW51IHRvIGNyZWF0ZSBvciBzZWxlY3QgYSBjaGF0LjwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7IXJpZ2h0T3BlbiAmJiAoXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiB0b3AtMTQgei0xMCB0ZXh0LXhzIHB4LTMgcHktMiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctZWxldmF0ZWQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LWFjY2VudCBob3Zlcjpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBzaGFkb3ctZWxldmF0aW9uXCIgb25DbGljaz17KCkgPT4gc2V0UmlnaHRPcGVuKHRydWUpfT5PcGVuIENoYXRzPC9idXR0b24+XG4gICAgICApfVxuXG4gICAgICB7LyogTm8gbW9kYWw6IGRyb3Bkb3duIGlzIGFuY2hvcmVkIHRvIGhlYWRlciBpbnNpZGUgdGhlIHNpZGViYXIgKi99XG5cbiAgICAgIHtzZXR0aW5nc09wZW4gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBncmlkIHBsYWNlLWl0ZW1zLWNlbnRlciBiZy1ibGFjay82MCBiYWNrZHJvcC1ibHVyLXNtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctbWQgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLXhsIHAtNiBzaGFkb3ctZWxldmF0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC10ZXh0LXByaW1hcnlcIj5Qcm9qZWN0IFNldHRpbmdzPC9oMz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTZXR0aW5nc09wZW4oZmFsc2UpfSBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwXCI+4pyVPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtM1wiPlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMSB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnlcIj5UaXRsZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZW5hbWVUaXRsZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVuYW1lVGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtMyBweS0yIHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIHtyZW5hbWVFcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNDAwIHAtMyByb3VuZGVkLWxnIGJnLXJlZC05NTAvMjAgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzIwXCI+e3JlbmFtZUVycm9yfTwvZGl2Pn1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMiBtdC00XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTZXR0aW5nc09wZW4oZmFsc2UpfSBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ1JlbmFtZSB8fCAhcmVuYW1lVGl0bGUudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTYXZpbmdSZW5hbWUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlbmFtZUVycm9yKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBhcGkudXBkYXRlUHJvamVjdChwcm9qZWN0SWQsIHsgdGl0bGU6IHJlbmFtZVRpdGxlLnRyaW0oKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9qZWN0VGl0bGUodXBkYXRlZD8udGl0bGUgfHwgcmVuYW1lVGl0bGUudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTZXR0aW5nc09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRSZW5hbWVFcnJvcihlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2F2ZScpO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNhdmluZ1JlbmFtZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZC1tZCBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIGRpc2FibGVkOm9wYWNpdHktNTAgdGV4dC13aGl0ZSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtzYXZpbmdSZW5hbWUgPyAnU2F2aW5n4oCmJyA6ICdTYXZlJ31cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7dG9hc3RNc2cgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIHRvcC00IHJpZ2h0LTQgei01MCBhbmltYXRlLWluIHNsaWRlLWluLWZyb20tYm90dG9tLTQgZHVyYXRpb24tMjAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgcm91bmRlZC1sZyBiZy1iZy1lbGV2YXRlZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1wcmltYXJ5IHRleHQtc20gc2hhZG93LWVsZXZhdGlvblwiPlxuICAgICAgICAgICAge3RvYXN0TXNnfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VTdXBhYmFzZSIsImNyZWF0ZUFwaSIsIkNoYXQiLCJDaGFyYWN0ZXJNYW5hZ2VyIiwiV29ybGRTZXR0aW5nc01hbmFnZXIiLCJTZXR0aW5ncyIsIkljb25TZXR0aW5ncyIsIkNoZXZyb25MZWZ0IiwiQ2hldnJvblJpZ2h0IiwiUGx1cyIsIlRyYXNoMiIsIkxvYWRlcjIiLCJDaGV2cm9uRG93biIsIldvcmtzcGFjZSIsInByb2plY3RJZCIsImNoYXRzIiwic3VwYWJhc2UiLCJhcGkiLCJjaGFwdGVycyIsInNldENoYXB0ZXJzIiwibG9hZGluZ0NoIiwic2V0TG9hZGluZ0NoIiwiZXJyb3JDaCIsInNldEVycm9yQ2giLCJ0YWJzIiwic2V0VGFicyIsImFjdGl2ZUlkIiwic2V0QWN0aXZlSWQiLCJ0aXRsZSIsInNldFRpdGxlIiwiY29udGVudCIsInNldENvbnRlbnQiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJzYXZlVGltZXIiLCJsZWZ0Q29sbGFwc2VkIiwic2V0TGVmdENvbGxhcHNlZCIsImFpTXVzZU9wZW4iLCJzZXRBaU11c2VPcGVuIiwiZGVsZXRpbmdJZCIsInNldERlbGV0aW5nSWQiLCJwcm9qZWN0VGl0bGUiLCJzZXRQcm9qZWN0VGl0bGUiLCJwcm9qZWN0RGVzY3JpcHRpb24iLCJzZXRQcm9qZWN0RGVzY3JpcHRpb24iLCJzZXR0aW5nc09wZW4iLCJzZXRTZXR0aW5nc09wZW4iLCJyZW5hbWVUaXRsZSIsInNldFJlbmFtZVRpdGxlIiwicmVuYW1lRGVzYyIsInNldFJlbmFtZURlc2MiLCJzYXZpbmdSZW5hbWUiLCJzZXRTYXZpbmdSZW5hbWUiLCJyZW5hbWVFcnJvciIsInNldFJlbmFtZUVycm9yIiwic2V0dGluZ3NNZW51T3BlbiIsInNldFNldHRpbmdzTWVudU9wZW4iLCJwcm9qTW9kZSIsInNldFByb2pNb2RlIiwicHJvakdlbnJlIiwic2V0UHJvakdlbnJlIiwicHJvakNvcmVDb25mbGljdCIsInNldFByb2pDb3JlQ29uZmxpY3QiLCJwcm9qU2V0dGluZ3NKc29uIiwic2V0UHJvalNldHRpbmdzSnNvbiIsInRvYXN0TXNnIiwic2V0VG9hc3RNc2ciLCJ0b2FzdFRpbWVyIiwiU0VUVElOR1NfVEFCX0lEIiwiQ0hBUkFDVEVSU19UQUJfSUQiLCJXT1JMRF9UQUJfSUQiLCJyaWdodE9wZW4iLCJzZXRSaWdodE9wZW4iLCJjaGF0c0NhY2hlS2V5IiwiY2hhdHNBY3RpdmVLZXkiLCJjaGFwdGVyc0NhY2hlS2V5IiwidGFic0NhY2hlS2V5IiwiYWN0aXZlVGFiS2V5IiwibGVmdENvbGxhcHNlZEtleSIsInJpZ2h0T3BlbktleSIsImxlZnRXaWR0aEtleSIsInJpZ2h0V2lkdGhLZXkiLCJzZXRDaGF0cyIsImFjdGl2ZUNoYXRJZCIsInNldEFjdGl2ZUNoYXRJZCIsImhhc0NoYXRzQ2FjaGUiLCJzZXRIYXNDaGF0c0NhY2hlIiwiY2hhdHNSZWYiLCJuZXdDaGF0VHlwZSIsInNldE5ld0NoYXRUeXBlIiwibmV3Q2hhdFRpdGxlIiwic2V0TmV3Q2hhdFRpdGxlIiwibmV3Q2hhdE9wZW4iLCJzZXROZXdDaGF0T3BlbiIsImNyZWF0aW5nQ2hhdCIsInNldENyZWF0aW5nQ2hhdCIsImNyZWF0ZUNoYXRFcnJvciIsInNldENyZWF0ZUNoYXRFcnJvciIsImNoYXRNZW51T3BlbiIsInNldENoYXRNZW51T3BlbiIsImhhc0NoYXB0ZXJzQ2FjaGUiLCJzZXRIYXNDaGFwdGVyc0NhY2hlIiwibGVmdFdpZHRoIiwic2V0TGVmdFdpZHRoIiwicmlnaHRXaWR0aCIsInNldFJpZ2h0V2lkdGgiLCJzIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFyciIsIkpTT04iLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInYiLCJjaHMiLCJ2YWxpZCIsInQiLCJhdCIsImxjIiwicm8iLCJsdyIsIm4iLCJwYXJzZUludCIsIk51bWJlciIsImlzTmFOIiwiTWF0aCIsIm1heCIsIm1pbiIsInJ3Iiwic29ydENoYXB0ZXJzIiwic29ydCIsImEiLCJiIiwidGEiLCJjcmVhdGVkQXQiLCJEYXRlIiwiZ2V0VGltZSIsInRiIiwibG9jYWxlQ29tcGFyZSIsIm1vdW50ZWQiLCJpdGVtcyIsImxpc3RDaGFwdGVyc1BhZ2luYXRlZCIsImUiLCJtZXNzYWdlIiwib25TZXR0aW5ncyIsImRldGFpbCIsImNoYW5nZXMiLCJ1bmRlZmluZWQiLCJkZXNjcmlwdGlvbiIsIm1vZGUiLCJnZW5yZSIsImNvcmVDb25mbGljdCIsInNldHRpbmdzSnNvbiIsInN0cmluZ2lmeSIsIm9uTW9kZSIsIm0iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZXIiLCJTdHJpbmciLCJjIiwicGFuZWxfc2NyaXB0IiwicmVzIiwiY3JlYXRlQ2hhcHRlciIsIm5ld0lkIiwiaWQiLCJwcmV2IiwiaW5jbHVkZXMiLCJ0YXJnZXRJZCIsImNoYXB0ZXJfbnVtYmVyIiwiaXNJbnRlZ2VyIiwic29ydGVkIiwiaWR4IiwibWF0Y2giLCJmaW5kIiwidG9Mb3dlckNhc2UiLCJ1cGRhdGVkIiwidXBkYXRlQ2hhcHRlciIsIm1hcCIsInAiLCJnZXRQcm9qZWN0IiwieHMiLCJsaXN0Q2hhdHMiLCJuZXh0IiwiY3VycmVudCIsImNyZWF0ZWQiLCJjcmVhdGVDaGF0IiwidHlwZSIsInNldEl0ZW0iLCJvcGVuVGFiIiwiY2giLCJjbG9zZVRhYiIsImZpbHRlciIsImN1cnIiLCJpbmRleE9mIiwib25EcmFnU3RhcnQiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwib25Ecm9wIiwic3JjSWQiLCJnZXREYXRhIiwic2kiLCJ0aSIsInNwbGljZSIsInN0YXJ0TGVmdFJlc2l6ZSIsInByZXZlbnREZWZhdWx0Iiwic3RhcnRYIiwiY2xpZW50WCIsInN0YXJ0VyIsIm9uTW92ZSIsImV2IiwiZHgiLCJvblVwIiwic3RhcnRSaWdodFJlc2l6ZSIsInNjaGVkdWxlU2F2ZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvblRpdGxlQ2hhbmdlIiwib25Db250ZW50Q2hhbmdlIiwib25OZXdDaGFwdGVyIiwib25EZWxldGVDaGFwdGVyIiwiY29uZmlybSIsImRlbGV0ZUNoYXB0ZXIiLCJtc2ciLCJFcnJvciIsImFjdGl2ZUNoYXB0ZXIiLCJncmlkQ29scyIsImNvbHMiLCJwdXNoIiwiam9pbiIsImRpdiIsImNsYXNzTmFtZSIsImFjdGl2ZSIsImxhYmVsIiwiZHJhZ2dhYmxlIiwib25EcmFnT3ZlciIsIm9uTW91c2VEb3duIiwiYnV0dG9uIiwib25DbGljayIsInNwYW4iLCJzdG9wUHJvcGFnYXRpb24iLCJhcmlhLWhpZGRlbiIsInN0eWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsImFzaWRlIiwid29yZENvdW50IiwidHJpbSIsInNwbGl0IiwiQm9vbGVhbiIsImRpc2FibGVkIiwicm9sZSIsImFyaWEtb3JpZW50YXRpb24iLCJ1c2VyU2VsZWN0IiwibWFpbiIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInRleHRhcmVhIiwicm93cyIsInNlbGVjdCIsIm9wdGlvbiIsInVwZGF0ZUJvZHkiLCJPYmplY3QiLCJrZXlzIiwidXBkYXRlUHJvamVjdCIsInVwZGF0ZVByb2plY3RTZXR0aW5ncyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsInJlcXVpcmVJbWFnZSIsInBsYWNlaG9sZGVyIiwiY29udGVudEVkaXRhYmxlIiwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIiwib25JbnB1dCIsImN1cnJlbnRUYXJnZXQiLCJ0ZXh0Q29udGVudCIsIndoaXRlU3BhY2UiLCJjZWlsIiwidG9Mb2NhbGVTdHJpbmciLCJuYW1lIiwiY2hlY2tlZCIsImRlbGV0ZUNoYXQiLCJ4IiwiY2hhdElkIiwiY2hhdFR5cGUiLCJoMyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/workspace/Workspace.tsx\n"));

/***/ })

});