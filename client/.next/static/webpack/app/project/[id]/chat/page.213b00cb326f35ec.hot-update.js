"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/project/[id]/chat/page",{

/***/ "(app-pages-browser)/./src/components/workspace/CharacterManager.tsx":
/*!*******************************************************!*\
  !*** ./src/components/workspace/CharacterManager.tsx ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CharacterManager: function() { return /* binding */ CharacterManager; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(app-pages-browser)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ CharacterManager auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\nfunction classNames() {\n    for(var _len = arguments.length, xs = new Array(_len), _key = 0; _key < _len; _key++){\n        xs[_key] = arguments[_key];\n    }\n    return xs.filter(Boolean).join(\" \");\n}\nfunction setByPath(base, path, value) {\n    const root = base && typeof base === \"object\" ? {\n        ...base\n    } : {};\n    let curr = root;\n    for(let i = 0; i < path.length - 1; i++){\n        const k = path[i];\n        if (!curr[k] || typeof curr[k] !== \"object\") curr[k] = {};\n        curr = curr[k];\n    }\n    curr[path[path.length - 1]] = value;\n    return root;\n}\nfunction delByPath(base, path) {\n    const root = base && typeof base === \"object\" ? {\n        ...base\n    } : {};\n    let curr = root;\n    for(let i = 0; i < path.length - 1; i++){\n        const k = path[i];\n        if (!curr[k] || typeof curr[k] !== \"object\") return root;\n        curr = curr[k];\n    }\n    delete curr[path[path.length - 1]];\n    return root;\n}\nfunction toNestedFromTags(tags) {\n    let obj = {};\n    for (const t of tags){\n        const parts = t.key.split(\".\").map((s)=>s.trim()).filter(Boolean);\n        if (!parts.length) continue;\n        obj = setByPath(obj, parts, t.value);\n    }\n    return obj;\n}\nfunction CharacterManager(param) {\n    let { projectId, requireImage } = param;\n    var _form_images, _form_images1;\n    _s();\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_3__.createApi)(supabase), [\n        supabase\n    ]);\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [filter, setFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deleting, setDeleting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [toast, setToast] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [form, setForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\",\n        images: []\n    });\n    const [traits, setTraits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const dropRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_characters\"), [\n        projectId\n    ]);\n    const activeKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_characters_active\"), [\n        projectId\n    ]);\n    const [hasCache, setHasCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const itemsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(items);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const s =  true ? window.localStorage.getItem(cacheKey) : 0;\n            if (s) {\n                const arr = JSON.parse(s);\n                if (Array.isArray(arr)) {\n                    setItems(arr);\n                    const valid = arr.length > 0;\n                    setHasCache(valid);\n                    if (valid) setLoading(false);\n                }\n            }\n        } catch (e) {}\n    }, [\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasCache) {\n                return;\n            }\n            try {\n                if (!hasCache) setLoading(true);\n                const res = await api.listCharacters(projectId);\n                if (!mounted) return;\n                const next = res || [];\n                try {\n                    if (hasCache && JSON.stringify(next) === JSON.stringify(itemsRef.current)) {\n                        return;\n                    }\n                } catch (e) {}\n                setItems(next);\n            } catch (e) {\n                if (!mounted) return;\n                setError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load characters\");\n            } finally{\n                if (mounted) setLoading(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        hasCache\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(cacheKey, JSON.stringify(items));\n        } catch (e) {}\n    }, [\n        items,\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        itemsRef.current = items;\n    }, [\n        items\n    ]);\n    // Restore last active selection\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const v =  true ? window.localStorage.getItem(activeKey) : 0;\n            if (v) setActiveId(v);\n        } catch (e) {}\n    }, [\n        activeKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (activeId && \"object\" !== \"undefined\") window.localStorage.setItem(activeKey, activeId);\n        } catch (e) {}\n    }, [\n        activeId,\n        activeKey\n    ]);\n    // Reflect chat-driven upserts instantly\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onUpsert(ev) {\n            var _ce_detail;\n            const ce = ev;\n            const item = ce === null || ce === void 0 ? void 0 : (_ce_detail = ce.detail) === null || _ce_detail === void 0 ? void 0 : _ce_detail.item;\n            if (!item || !item.id) return;\n            setItems((prev)=>{\n                const idx = prev.findIndex((x)=>x.id === item.id);\n                if (idx >= 0) {\n                    const next = [\n                        ...prev\n                    ];\n                    next[idx] = {\n                        ...next[idx],\n                        ...item\n                    };\n                    return next;\n                }\n                return [\n                    ...prev,\n                    item\n                ];\n            });\n            if (activeId === item.id) {\n                var _item_images;\n                setForm({\n                    id: item.id,\n                    name: item.name,\n                    role: item.role || \"\",\n                    summary: item.summary || \"\",\n                    images: (_item_images = item.images) !== null && _item_images !== void 0 ? _item_images : item.imageUrl ? [\n                        item.imageUrl\n                    ] : [],\n                    traits: item.traits || null\n                });\n                setTraits(item.traits || {});\n            }\n            notify(\"Character updated via chat\");\n        }\n        window.addEventListener(\"workspace:character-upsert\", onUpsert);\n        return ()=>window.removeEventListener(\"workspace:character-upsert\", onUpsert);\n    }, [\n        activeId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeId) return;\n        if (activeId === \"__new__\") {\n            setForm({\n                name: \"\",\n                images: []\n            });\n            setTraits({});\n            return;\n        }\n        const it = items.find((x)=>x.id === activeId);\n        if (!it) return;\n        var _it_images;\n        setForm({\n            id: it.id,\n            name: it.name,\n            role: it.role || \"\",\n            summary: it.summary || \"\",\n            images: (_it_images = it.images) !== null && _it_images !== void 0 ? _it_images : it.imageUrl ? [\n                it.imageUrl\n            ] : [],\n            traits: it.traits || null\n        });\n        setTraits(it.traits || {});\n    }, [\n        activeId,\n        items\n    ]);\n    const filtered = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const q = filter.trim().toLowerCase();\n        if (!q) return items;\n        return items.filter((x)=>(x.name || \"\").toLowerCase().includes(q) || (x.role || \"\").toLowerCase().includes(q));\n    }, [\n        items,\n        filter\n    ]);\n    const onNew = ()=>{\n        setActiveId(\"__new__\");\n        setForm({\n            name: \"\",\n            images: []\n        });\n        setTraits({});\n    };\n    // Removed brainstorm/refine suggestion logic\n    const notify = (msg)=>{\n        if (toastTimer.current) clearTimeout(toastTimer.current);\n        setToast(msg);\n        toastTimer.current = setTimeout(()=>setToast(\"\"), 2500);\n    };\n    const onUploadFile = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (file)=>{\n        if (!file) return;\n        setUploading(true);\n        try {\n            const bucket = process.env.NEXT_PUBLIC_SUPABASE_CHAR_BUCKET || \"character-images\";\n            const ext = file.name.split(\".\").pop() || \"jpg\";\n            const path = \"\".concat(projectId, \"/\").concat(Date.now(), \"-\").concat(Math.random().toString(36).slice(2), \".\").concat(ext);\n            const { error: upErr } = await supabase.storage.from(bucket).upload(path, file, {\n                upsert: true,\n                contentType: file.type\n            });\n            if (upErr) throw upErr;\n            const { data } = supabase.storage.from(bucket).getPublicUrl(path);\n            const url = data.publicUrl;\n            setForm((f)=>({\n                    ...f,\n                    images: [\n                        url\n                    ]\n                }));\n            notify(\"Image uploaded\");\n        } catch (e) {\n            notify((e === null || e === void 0 ? void 0 : e.message) || \"Upload failed\");\n        } finally{\n            setUploading(false);\n        }\n    }, [\n        projectId,\n        supabase\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = dropRef.current;\n        if (!el) return;\n        const onDrop = (e)=>{\n            var _e_dataTransfer_files, _e_dataTransfer;\n            e.preventDefault();\n            const f = (_e_dataTransfer = e.dataTransfer) === null || _e_dataTransfer === void 0 ? void 0 : (_e_dataTransfer_files = _e_dataTransfer.files) === null || _e_dataTransfer_files === void 0 ? void 0 : _e_dataTransfer_files[0];\n            if (f) void onUploadFile(f);\n            el.classList.remove(\"ring-2\", \"ring-blue-500\");\n        };\n        const onDrag = (e)=>{\n            e.preventDefault();\n            el.classList.add(\"ring-2\", \"ring-blue-500\");\n        };\n        const onLeave = (e)=>{\n            e.preventDefault();\n            el.classList.remove(\"ring-2\", \"ring-blue-500\");\n        };\n        el.addEventListener(\"drop\", onDrop);\n        el.addEventListener(\"dragover\", onDrag);\n        el.addEventListener(\"dragleave\", onLeave);\n        return ()=>{\n            el.removeEventListener(\"drop\", onDrop);\n            el.removeEventListener(\"dragover\", onDrag);\n            el.removeEventListener(\"dragleave\", onLeave);\n        };\n    }, [\n        onUploadFile\n    ]);\n    // ----- Traits editor helpers (strings-only values, arrays supported, depth<=5) -----\n    const clone = (o)=>JSON.parse(JSON.stringify(o !== null && o !== void 0 ? o : {}));\n    const isObj = (v)=>v && typeof v === \"object\" && !Array.isArray(v);\n    const setVal = (path, val)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < path.length - 1; i++)ref = ref[path[i]];\n            ref[path[path.length - 1]] = val;\n            return nxt;\n        });\n    };\n    const delKey = (pathToParent, key)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToParent.length; i++)ref = ref[pathToParent[i]];\n            if (Array.isArray(ref) && typeof key === \"number\") ref.splice(key, 1);\n            else if (ref && typeof ref === \"object\") delete ref[key];\n            return nxt;\n        });\n    };\n    const renameKey = (pathToParent, oldKey, newKey)=>{\n        if (!newKey) return;\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToParent.length; i++)ref = ref[pathToParent[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            if (oldKey === newKey) return nxt;\n            const val = ref[oldKey];\n            delete ref[oldKey];\n            ref[newKey] = val;\n            return nxt;\n        });\n    };\n    const addChild = (pathToObj, depth)=>{\n        if (depth >= 5) return; // depth limit\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToObj.length; i++)ref = ref[pathToObj[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            let base = \"key\";\n            let i2 = 1;\n            let key = base;\n            while(Object.prototype.hasOwnProperty.call(ref, key)){\n                key = \"\".concat(base, \"-\").concat(i2++);\n            }\n            ref[key] = \"\"; // default as string leaf\n            return nxt;\n        });\n    };\n    const addRootKey = ()=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let base = \"key\";\n            let i = 1;\n            let k = base;\n            while(Object.prototype.hasOwnProperty.call(nxt, k)){\n                k = \"\".concat(base, \"-\").concat(i++);\n            }\n            nxt[k] = \"\";\n            return nxt;\n        });\n    };\n    const convertType = (path, parentPath, key, nextType, depth)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < parentPath.length; i++)ref = ref[parentPath[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            if (nextType === \"string\") ref[key] = \"\";\n            else if (nextType === \"object\") ref[key] = depth >= 5 ? \"\" : {};\n            else if (nextType === \"array\") ref[key] = [];\n            return nxt;\n        });\n    };\n    const addArrayItem = (pathToArr)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToArr.length; i++)ref = ref[pathToArr[i]];\n            if (Array.isArray(ref)) ref.push(\"\");\n            return nxt;\n        });\n    };\n    // Expose handlers to nested TraitObject/TraitRow without prop-drilling\n    TraitObject._parent = {\n        setVal,\n        delKey,\n        renameKey,\n        addChild,\n        convertType,\n        addArrayItem\n    };\n    const onSave = async ()=>{\n        if (!form.name.trim()) {\n            notify(\"Name is required\");\n            return;\n        }\n        if (requireImage && !(Array.isArray(form.images) && form.images.length > 0)) {\n            notify(\"Image is required in manhwa mode\");\n            return;\n        }\n        setSaving(true);\n        try {\n            const traitsObj = traits;\n            if (activeId === \"__new__\") {\n                const res = await api.createCharacter(projectId, {\n                    name: form.name.trim(),\n                    role: form.role || undefined,\n                    summary: form.summary || undefined,\n                    images: Array.isArray(form.images) ? form.images : undefined,\n                    traits: traitsObj\n                });\n                setItems((prev)=>[\n                        ...prev,\n                        res\n                    ]);\n                setActiveId(res.id);\n            } else if (activeId) {\n                const res = await api.updateCharacter(projectId, activeId, {\n                    name: form.name.trim(),\n                    role: form.role || undefined,\n                    summary: form.summary || undefined,\n                    images: Array.isArray(form.images) ? form.images : undefined,\n                    traits: traitsObj\n                });\n                setItems((prev)=>prev.map((x)=>x.id === res.id ? res : x));\n            }\n            notify(\"Saved\");\n        } catch (e) {\n            notify((e === null || e === void 0 ? void 0 : e.message) || \"Save failed\");\n        } finally{\n            setSaving(false);\n        }\n    };\n    const onDelete = async ()=>{\n        if (!activeId || activeId === \"__new__\") return;\n        if (!confirm(\"Delete this character?\")) return;\n        setDeleting(true);\n        try {\n            await api.deleteCharacter(projectId, activeId);\n            setItems((prev)=>prev.filter((x)=>x.id !== activeId));\n            setActiveId(null);\n            setForm({\n                name: \"\",\n                images: []\n            });\n            setTraits({});\n            notify(\"Deleted\");\n        } catch (e) {\n            notify((e === null || e === void 0 ? void 0 : e.message) || \"Delete failed\");\n        } finally{\n            setDeleting(false);\n        }\n    };\n    const count = items.length;\n    const active = activeId === \"__new__\" ? form : items.find((x)=>x.id === activeId) || null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full grid grid-rows-[auto_1fr]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-b border-border-default px-6 py-4 flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-base font-semibold text-text-primary\",\n                                children: \"Character Management\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 392,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs px-2 py-1 rounded-md border border-border-default text-text-secondary\",\n                                children: [\n                                    count,\n                                    \" Characters\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 393,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 391,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onNew,\n                            className: \"rounded-lg bg-bg-elevated border border-border-default hover:border-accent hover:bg-bg-hover text-text-secondary hover:text-text-primary text-sm px-4 py-3 inline-flex items-center justify-center gap-2 transition-all duration-150 hover:-translate-y-0.5\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 397,\n                                    columnNumber: 13\n                                }, this),\n                                \"New Character\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 396,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 395,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 390,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-0 grid\",\n                style: {\n                    gridTemplateColumns: \"35% 65%\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"border-r border-border-default min-h-0 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-3\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: filter,\n                                            onChange: (e)=>setFilter(e.target.value),\n                                            placeholder: \"Search characters\",\n                                            className: \"w-full bg-bg-primary border border-border-default rounded-md pl-9 pr-3 py-2.5 text-sm text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 407,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            className: \"w-4 h-4 absolute left-3 top-3 text-text-tertiary\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 408,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 406,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 405,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto px-3 pb-3\",\n                                children: [\n                                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-text-secondary px-2 py-2\",\n                                        children: \"Loading…\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 412,\n                                        columnNumber: 25\n                                    }, this),\n                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-red-400 px-2 py-2 bg-red-950/20 rounded-md border border-red-500/20\",\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 413,\n                                        columnNumber: 23\n                                    }, this),\n                                    !loading && !filtered.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-10 text-center text-text-tertiary text-sm\",\n                                        children: \"No characters yet. Create your first character!\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 415,\n                                        columnNumber: 15\n                                    }, this),\n                                    filtered.map((c)=>{\n                                        var _c_images, _c_images1;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setActiveId(c.id),\n                                            className: classNames(\"w-full text-left px-3 py-3 rounded-md mb-2 transition-all\", activeId === c.id ? \"border-l-2 border-blue-500 bg-bg-elevated\" : \"hover:bg-bg-hover\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-12 h-12 rounded-full bg-bg-primary border border-border-default overflow-hidden flex items-center justify-center\",\n                                                        children: ((_c_images = c.images) === null || _c_images === void 0 ? void 0 : _c_images[0]) || c.imageUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: ((_c_images1 = c.images) === null || _c_images1 === void 0 ? void 0 : _c_images1[0]) || c.imageUrl,\n                                                            alt: c.name,\n                                                            className: \"w-full h-full object-cover\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 422,\n                                                            columnNumber: 23\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: \"No Img\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 424,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                        lineNumber: 420,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1 min-w-0\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-sm font-medium text-text-primary truncate\",\n                                                                children: c.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 428,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-text-tertiary truncate\",\n                                                                children: c.role || \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 429,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                        lineNumber: 427,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                lineNumber: 419,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, c.id, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 418,\n                                            columnNumber: 15\n                                        }, this);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 411,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 404,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"min-h-0 overflow-y-auto p-6\",\n                        \"aria-label\": \"Character details\",\n                        children: activeId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-2xl mx-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: dropRef,\n                                    className: \"flex flex-col items-center mb-6 p-4 rounded-xl border border-border-default bg-bg-elevated\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-30 h-30 w-[120px] h-[120px] rounded-full overflow-hidden border border-border-default bg-bg-primary flex items-center justify-center\",\n                                            children: ((_form_images = form.images) === null || _form_images === void 0 ? void 0 : _form_images[0]) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: form.images[0],\n                                                alt: \"avatar\",\n                                                className: \"w-full h-full object-cover\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                lineNumber: 442,\n                                                columnNumber: 41\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-text-tertiary\",\n                                                children: \"No Image\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                lineNumber: 442,\n                                                columnNumber: 124\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 441,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"px-3 py-2 rounded-md border border-border-default bg-bg-primary text-text-secondary hover:text-text-primary inline-flex items-center gap-2 cursor-pointer\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 446,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        ((_form_images1 = form.images) === null || _form_images1 === void 0 ? void 0 : _form_images1[0]) ? \"Change Image\" : \"Upload Image\",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"file\",\n                                                            accept: \"image/*\",\n                                                            className: \"hidden\",\n                                                            onChange: (e)=>{\n                                                                var _e_target_files;\n                                                                const f = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n                                                                if (f) void onUploadFile(f);\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 448,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 445,\n                                                    columnNumber: 19\n                                                }, this),\n                                                form.images && form.images.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>setForm((f)=>({\n                                                                ...f,\n                                                                images: []\n                                                            })),\n                                                    className: \"text-text-tertiary hover:text-red-400 text-sm inline-flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 452,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Remove\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 451,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 444,\n                                            columnNumber: 17\n                                        }, this),\n                                        uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 text-xs text-text-tertiary inline-flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    className: \"w-3 h-3 animate-spin\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 457,\n                                                    columnNumber: 111\n                                                }, this),\n                                                \" Uploading…\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 457,\n                                            columnNumber: 31\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 440,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Name\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 462,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    value: form.name,\n                                                    onChange: (e)=>setForm((f)=>({\n                                                                ...f,\n                                                                name: e.target.value\n                                                            })),\n                                                    className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 463,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 461,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Role\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 466,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    value: form.role || \"\",\n                                                    onChange: (e)=>setForm((f)=>({\n                                                                ...f,\n                                                                role: e.target.value\n                                                            })),\n                                                    list: \"roles\",\n                                                    className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 467,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"datalist\", {\n                                                    id: \"roles\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Protagonist\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 469,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Antagonist\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 470,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Supporting\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 471,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Mentor\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 472,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Love Interest\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 473,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 468,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 465,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Summary\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 477,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                    value: form.summary || \"\",\n                                                    onChange: (e)=>setForm((f)=>({\n                                                                ...f,\n                                                                summary: e.target.value\n                                                            })),\n                                                    rows: 5,\n                                                    className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent text-sm\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 478,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[11px] text-text-tertiary\",\n                                                    children: [\n                                                        (form.summary || \"\").length,\n                                                        \" characters\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 479,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 476,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                            children: \"Traits\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 484,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: addRootKey,\n                                                            className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                    lineNumber: 485,\n                                                                    columnNumber: 195\n                                                                }, this),\n                                                                \" Add key\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 485,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 483,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1\",\n                                                    children: [\n                                                        Object.keys(traits || {}).length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: \"No traits yet. Add a key.\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 489,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitObject, {\n                                                            obj: traits,\n                                                            path: [],\n                                                            depth: 1\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 491,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 487,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 482,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between pt-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: onDelete,\n                                                    disabled: !activeId || activeId === \"__new__\" || deleting,\n                                                    className: \"text-red-400 hover:text-red-300 inline-flex items-center gap-2 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 497,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Delete Character\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 496,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>{\n                                                                setActiveId(null);\n                                                            },\n                                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover\",\n                                                            children: \"Cancel\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 501,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: onSave,\n                                                            disabled: saving,\n                                                            className: \"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 text-white\",\n                                                            children: saving ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"inline-flex items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                        className: \"w-4 h-4 animate-spin\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                        lineNumber: 503,\n                                                                        columnNumber: 82\n                                                                    }, this),\n                                                                    \" Saving…\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 503,\n                                                                columnNumber: 33\n                                                            }, this) : \"Save Character\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 502,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 500,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 495,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 460,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 439,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-tertiary\",\n                            children: \"Select a character or create a new one.\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 510,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 437,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 403,\n                columnNumber: 7\n            }, this),\n            toast && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-4 right-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 rounded-lg bg-bg-elevated border border-border-default text-text-primary text-sm shadow-elevation\",\n                    children: toast\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                    lineNumber: 517,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 516,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n        lineNumber: 389,\n        columnNumber: 5\n    }, this);\n}\n_s(CharacterManager, \"TLwu4rYj/6AZvu2663ZeE6HfLl4=\", false, function() {\n    return [\n        _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase\n    ];\n});\n_c = CharacterManager;\nfunction TraitObject(param) {\n    let { obj, path, depth } = param;\n    _s1();\n    const [_, setTick] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Access editor functions from outer scope via window proxy is not ideal; we rely on closures in parent component.\n    // This inline component depends on functions bound on window by parent closure.\n    // To keep everything in one file and avoid prop-drilling many handlers, we will re-grab them from React context via closures.\n    const parent = TraitObject._parent;\n    const ctx = parent || useCharacterManagerContext();\n    TraitObject._parent = ctx;\n    const keys = Object.keys(obj || {});\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-2\",\n        children: keys.map((k)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitRow, {\n                k: k,\n                v: obj[k],\n                parentPath: path,\n                depth: depth,\n                ctx: ctx\n            }, k, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 546,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n        lineNumber: 544,\n        columnNumber: 5\n    }, this);\n}\n_s1(TraitObject, \"zOcHNBKn7qg+tcYrb4+cCN0ex+w=\", false, function() {\n    return [\n        useCharacterManagerContext\n    ];\n});\n_c1 = TraitObject;\nfunction TraitRow(param) {\n    let { k, v, parentPath, depth, ctx } = param;\n    _s2();\n    const isArray = Array.isArray(v);\n    const isObject = v && typeof v === \"object\" && !isArray;\n    const type = isArray ? \"array\" : isObject ? \"object\" : \"string\";\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(k);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setName(k);\n    }, [\n        k\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border border-border-default rounded-md p-2 bg-bg-elevated\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        value: name,\n                        onChange: (e)=>setName(e.target.value),\n                        onBlur: ()=>{\n                            if (name !== k && name.trim()) ctx.renameKey(parentPath, k, name.trim());\n                        },\n                        onKeyDown: (e)=>{\n                            if (e.key === \"Enter\") {\n                                e.target.blur();\n                            }\n                        },\n                        placeholder: \"key\",\n                        className: \"flex-none w-48 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 562,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        value: type,\n                        onChange: (e)=>ctx.convertType([\n                                ...parentPath,\n                                k\n                            ], parentPath, k, e.target.value, depth),\n                        className: \"flex-none w-28 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"string\",\n                                children: \"String\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 571,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"object\",\n                                disabled: depth >= 5,\n                                children: \"Object\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 572,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"array\",\n                                children: \"Array\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 573,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 570,\n                        columnNumber: 9\n                    }, this),\n                    type === \"string\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        value: String(v || \"\"),\n                        onChange: (e)=>ctx.setVal([\n                                ...parentPath,\n                                k\n                            ], e.target.value),\n                        placeholder: \"value\",\n                        className: \"flex-1 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 576,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.delKey(parentPath, k),\n                        className: \"text-text-tertiary hover:text-red-400 text-sm ml-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 578,\n                            columnNumber: 123\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 578,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 561,\n                columnNumber: 7\n            }, this),\n            type === \"object\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 ml-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.addChild([\n                                ...parentPath,\n                                k\n                            ], depth + 1),\n                        disabled: depth >= 5,\n                        className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-3 h-3\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 582,\n                                columnNumber: 240\n                            }, this),\n                            \" Add child\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 582,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitObject, {\n                        obj: v,\n                        path: [\n                            ...parentPath,\n                            k\n                        ],\n                        depth: depth + 1\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 583,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 581,\n                columnNumber: 9\n            }, this),\n            type === \"array\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 ml-4 space-y-2\",\n                children: [\n                    v.map((item, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-text-tertiary\",\n                                    children: [\n                                        \"[\",\n                                        idx,\n                                        \"]\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 590,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    value: item,\n                                    onChange: (e)=>ctx.setVal([\n                                            ...parentPath,\n                                            k,\n                                            idx\n                                        ], e.target.value),\n                                    placeholder: \"value\",\n                                    className: \"flex-1 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 591,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>ctx.delKey([\n                                            ...parentPath,\n                                            k\n                                        ], idx),\n                                    className: \"text-text-tertiary hover:text-red-400 text-sm\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 592,\n                                        columnNumber: 131\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 592,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, idx, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 589,\n                            columnNumber: 13\n                        }, this)),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.addArrayItem([\n                                ...parentPath,\n                                k\n                            ]),\n                        className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-3 h-3\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 595,\n                                columnNumber: 215\n                            }, this),\n                            \" Add item\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 595,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 587,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n        lineNumber: 560,\n        columnNumber: 5\n    }, this);\n}\n_s2(TraitRow, \"2CRc8BCoJQOtlrNJKf0TrH86iqk=\");\n_c2 = TraitRow;\n// Lightweight context via closure binding\nfunction useCharacterManagerContext() {\n    // Find the nearest CharacterManager by walking React closure. In TSX single-file component, we pass handlers by property in TraitObject._parent above.\n    // Instead of a real React Context provider (extra boilerplate), expose noop fallbacks; they get overwritten when first TraitObject renders.\n    return {\n        setVal: (_p, _v)=>{},\n        delKey: (_pp, _k)=>{},\n        renameKey: (_pp, _old, _n)=>{},\n        addChild: (_p, _d)=>{},\n        convertType: (_p, _pp, _k, _t, _d)=>{},\n        addArrayItem: (_p)=>{}\n    };\n}\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"CharacterManager\");\n$RefreshReg$(_c1, \"TraitObject\");\n$RefreshReg$(_c2, \"TraitRow\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3dvcmtzcGFjZS9DaGFyYWN0ZXJNYW5hZ2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFMEU7QUFDSjtBQUNoQztBQUNrQztBQWN4RSxTQUFTYTtJQUFXO1FBQUdDLEdBQUgsdUJBQStDOztJQUNqRSxPQUFPQSxHQUFHQyxNQUFNLENBQUNDLFNBQVNDLElBQUksQ0FBQztBQUNqQztBQUVBLFNBQVNDLFVBQVVDLElBQVMsRUFBRUMsSUFBYyxFQUFFQyxLQUFVO0lBQ3RELE1BQU1DLE9BQU9ILFFBQVEsT0FBT0EsU0FBUyxXQUFXO1FBQUUsR0FBR0EsSUFBSTtJQUFDLElBQUksQ0FBQztJQUMvRCxJQUFJSSxPQUFZRDtJQUNoQixJQUFLLElBQUlFLElBQUksR0FBR0EsSUFBSUosS0FBS0ssTUFBTSxHQUFHLEdBQUdELElBQUs7UUFDeEMsTUFBTUUsSUFBSU4sSUFBSSxDQUFDSSxFQUFFO1FBQ2pCLElBQUksQ0FBQ0QsSUFBSSxDQUFDRyxFQUFFLElBQUksT0FBT0gsSUFBSSxDQUFDRyxFQUFFLEtBQUssVUFBVUgsSUFBSSxDQUFDRyxFQUFFLEdBQUcsQ0FBQztRQUN4REgsT0FBT0EsSUFBSSxDQUFDRyxFQUFFO0lBQ2hCO0lBQ0FILElBQUksQ0FBQ0gsSUFBSSxDQUFDQSxLQUFLSyxNQUFNLEdBQUcsRUFBRSxDQUFDLEdBQUdKO0lBQzlCLE9BQU9DO0FBQ1Q7QUFFQSxTQUFTSyxVQUFVUixJQUFTLEVBQUVDLElBQWM7SUFDMUMsTUFBTUUsT0FBT0gsUUFBUSxPQUFPQSxTQUFTLFdBQVc7UUFBRSxHQUFHQSxJQUFJO0lBQUMsSUFBSSxDQUFDO0lBQy9ELElBQUlJLE9BQVlEO0lBQ2hCLElBQUssSUFBSUUsSUFBSSxHQUFHQSxJQUFJSixLQUFLSyxNQUFNLEdBQUcsR0FBR0QsSUFBSztRQUN4QyxNQUFNRSxJQUFJTixJQUFJLENBQUNJLEVBQUU7UUFDakIsSUFBSSxDQUFDRCxJ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OzRDQUFZdko7eUNBQUUsRUFBRXlFO29DQUFNZ0csV0FBVTs4Q0FBZ0QsNEVBQUN2TCwrR0FBQ0E7d0NBQUN1TCxXQUFVOzs7Ozs7Ozs7Ozs7MkJBSHpIaEc7Ozs7O2tDQU1aLDhEQUFDaUc7d0JBQU9DLFNBQVMsSUFBSTJCLElBQUk3QyxZQUFZLENBQUM7bUNBQUlGO2dDQUFZdko7NkJBQUU7d0JBQUd5SyxXQUFVOzswQ0FBdUksOERBQUMzTCwrR0FBSUE7Z0NBQUMyTCxXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLbFA7SUFoRFMrQjtNQUFBQTtBQWtEVCwwQ0FBMEM7QUFDMUMsU0FBU0Q7SUFDUCx1SkFBdUo7SUFDdkosNElBQTRJO0lBQzVJLE9BQU87UUFDTHBFLFFBQVEsQ0FBQzZFLElBQTBCQyxNQUFhO1FBQ2hEMUUsUUFBUSxDQUFDMkUsS0FBMkJDLE1BQWE7UUFDakR6RSxXQUFXLENBQUN3RSxLQUEyQkUsTUFBY0MsTUFBZ0I7UUFDckV4RSxVQUFVLENBQUNtRSxJQUEwQk0sTUFBZ0I7UUFDckRoRSxhQUFhLENBQUMwRCxJQUEwQkUsS0FBMkJDLElBQVlJLElBQStCRCxNQUFnQjtRQUM5SDdELGNBQWMsQ0FBQ3VELE1BQThCO0lBQy9DO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvd29ya3NwYWNlL0NoYXJhY3Rlck1hbmFnZXIudHN4Pzk0ZDMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVN1cGFiYXNlIH0gZnJvbSBcIkAvY29tcG9uZW50cy9wcm92aWRlcnMvU3VwYWJhc2VQcm92aWRlclwiO1xuaW1wb3J0IHsgY3JlYXRlQXBpIH0gZnJvbSBcIkAvbGliL2FwaVwiO1xuaW1wb3J0IHsgTG9hZGVyMiwgUGx1cywgU2VhcmNoLCBUcmFzaDIsIFVwbG9hZCwgWCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxudHlwZSBDaGFyYWN0ZXJJdGVtID0ge1xuICBpZD86IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICByb2xlPzogc3RyaW5nIHwgbnVsbDtcbiAgc3VtbWFyeT86IHN0cmluZyB8IG51bGw7XG4gIGltYWdlcz86IHN0cmluZ1tdIHwgbnVsbDtcbiAgaW1hZ2VVcmw/OiBzdHJpbmcgfCBudWxsO1xuICB0cmFpdHM/OiBhbnkgfCBudWxsO1xuICBjcmVhdGVkQXQ/OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdD86IHN0cmluZztcbn07XG5cbmZ1bmN0aW9uIGNsYXNzTmFtZXMoLi4ueHM6IEFycmF5PHN0cmluZyB8IGZhbHNlIHwgbnVsbCB8IHVuZGVmaW5lZD4pIHtcbiAgcmV0dXJuIHhzLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbn1cblxuZnVuY3Rpb24gc2V0QnlQYXRoKGJhc2U6IGFueSwgcGF0aDogc3RyaW5nW10sIHZhbHVlOiBhbnkpIHtcbiAgY29uc3Qgcm9vdCA9IGJhc2UgJiYgdHlwZW9mIGJhc2UgPT09IFwib2JqZWN0XCIgPyB7IC4uLmJhc2UgfSA6IHt9O1xuICBsZXQgY3VycjogYW55ID0gcm9vdDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGNvbnN0IGsgPSBwYXRoW2ldO1xuICAgIGlmICghY3VycltrXSB8fCB0eXBlb2YgY3VycltrXSAhPT0gXCJvYmplY3RcIikgY3VycltrXSA9IHt9O1xuICAgIGN1cnIgPSBjdXJyW2tdO1xuICB9XG4gIGN1cnJbcGF0aFtwYXRoLmxlbmd0aCAtIDFdXSA9IHZhbHVlO1xuICByZXR1cm4gcm9vdDtcbn1cblxuZnVuY3Rpb24gZGVsQnlQYXRoKGJhc2U6IGFueSwgcGF0aDogc3RyaW5nW10pIHtcbiAgY29uc3Qgcm9vdCA9IGJhc2UgJiYgdHlwZW9mIGJhc2UgPT09IFwib2JqZWN0XCIgPyB7IC4uLmJhc2UgfSA6IHt9O1xuICBsZXQgY3VycjogYW55ID0gcm9vdDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGNvbnN0IGsgPSBwYXRoW2ldO1xuICAgIGlmICghY3VycltrXSB8fCB0eXBlb2YgY3VycltrXSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJvb3Q7XG4gICAgY3VyciA9IGN1cnJba107XG4gIH1cbiAgZGVsZXRlIGN1cnJbcGF0aFtwYXRoLmxlbmd0aCAtIDFdXTtcbiAgcmV0dXJuIHJvb3Q7XG59XG5cbmZ1bmN0aW9uIHRvTmVzdGVkRnJvbVRhZ3ModGFnczogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9Pikge1xuICBsZXQgb2JqOiBhbnkgPSB7fTtcbiAgZm9yIChjb25zdCB0IG9mIHRhZ3MpIHtcbiAgICBjb25zdCBwYXJ0cyA9IHQua2V5LnNwbGl0KFwiLlwiKS5tYXAoKHMpID0+IHMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKCFwYXJ0cy5sZW5ndGgpIGNvbnRpbnVlO1xuICAgIG9iaiA9IHNldEJ5UGF0aChvYmosIHBhcnRzLCB0LnZhbHVlKTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhcmFjdGVyTWFuYWdlcih7IHByb2plY3RJZCwgcmVxdWlyZUltYWdlIH06IHsgcHJvamVjdElkOiBzdHJpbmc7IHJlcXVpcmVJbWFnZTogYm9vbGVhbiB9KSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gdXNlU3VwYWJhc2UoKTtcbiAgY29uc3QgYXBpID0gdXNlTWVtbygoKSA9PiBjcmVhdGVBcGkoc3VwYWJhc2UpLCBbc3VwYWJhc2VdKTtcblxuICBjb25zdCBbaXRlbXMsIHNldEl0ZW1zXSA9IHVzZVN0YXRlPENoYXJhY3Rlckl0ZW1bXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2ZpbHRlciwgc2V0RmlsdGVyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYWN0aXZlSWQsIHNldEFjdGl2ZUlkXSA9IHVzZVN0YXRlPHN0cmluZyB8IFwiX19uZXdfX1wiIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkZWxldGluZywgc2V0RGVsZXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdG9hc3QsIHNldFRvYXN0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCB0b2FzdFRpbWVyID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgW2Zvcm0sIHNldEZvcm1dID0gdXNlU3RhdGU8Q2hhcmFjdGVySXRlbT4oeyBuYW1lOiBcIlwiLCBpbWFnZXM6IFtdIH0pO1xuICBjb25zdCBbdHJhaXRzLCBzZXRUcmFpdHNdID0gdXNlU3RhdGU8YW55Pih7fSk7XG4gIGNvbnN0IFt1cGxvYWRpbmcsIHNldFVwbG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGRyb3BSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBjYWNoZUtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X2NoYXJhY3RlcnNgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGFjdGl2ZUtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X2NoYXJhY3RlcnNfYWN0aXZlYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBbaGFzQ2FjaGUsIHNldEhhc0NhY2hlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgaXRlbXNSZWYgPSB1c2VSZWY8Q2hhcmFjdGVySXRlbVtdPihpdGVtcyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNhY2hlS2V5KSA6IG51bGw7XG4gICAgICBpZiAocykge1xuICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKHMpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICAgICAgc2V0SXRlbXMoYXJyIGFzIENoYXJhY3Rlckl0ZW1bXSk7XG4gICAgICAgICAgY29uc3QgdmFsaWQgPSAoYXJyIGFzIGFueVtdKS5sZW5ndGggPiAwO1xuICAgICAgICAgIHNldEhhc0NhY2hlKHZhbGlkKTtcbiAgICAgICAgICBpZiAodmFsaWQpIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbY2FjaGVLZXldKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKGhhc0NhY2hlKSB7IHJldHVybjsgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFoYXNDYWNoZSkgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmxpc3RDaGFyYWN0ZXJzKHByb2plY3RJZCk7XG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBuZXh0ID0gcmVzIHx8IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChoYXNDYWNoZSAmJiBKU09OLnN0cmluZ2lmeShuZXh0KSA9PT0gSlNPTi5zdHJpbmdpZnkoaXRlbXNSZWYuY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgc2V0SXRlbXMobmV4dCk7XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG4gICAgICAgIHNldEVycm9yKGU/Lm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gbG9hZCBjaGFyYWN0ZXJzXCIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuICgpID0+IHsgbW91bnRlZCA9IGZhbHNlOyB9O1xuICB9LCBbYXBpLCBwcm9qZWN0SWQsIGhhc0NhY2hlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oY2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KGl0ZW1zKSk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbaXRlbXMsIGNhY2hlS2V5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgaXRlbXNSZWYuY3VycmVudCA9IGl0ZW1zOyB9LCBbaXRlbXNdKTtcblxuICAvLyBSZXN0b3JlIGxhc3QgYWN0aXZlIHNlbGVjdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB2ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oYWN0aXZlS2V5KSA6IG51bGw7XG4gICAgICBpZiAodikgc2V0QWN0aXZlSWQodiBhcyBhbnkpO1xuICAgIH0gY2F0Y2gge31cbiAgfSwgW2FjdGl2ZUtleV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoYWN0aXZlSWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShhY3RpdmVLZXksIGFjdGl2ZUlkKTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFthY3RpdmVJZCwgYWN0aXZlS2V5XSk7XG5cbiAgLy8gUmVmbGVjdCBjaGF0LWRyaXZlbiB1cHNlcnRzIGluc3RhbnRseVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIG9uVXBzZXJ0KGV2OiBFdmVudCkge1xuICAgICAgY29uc3QgY2UgPSBldiBhcyBDdXN0b21FdmVudDtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjZT8uZGV0YWlsPy5pdGVtIGFzIGFueTtcbiAgICAgIGlmICghaXRlbSB8fCAhaXRlbS5pZCkgcmV0dXJuO1xuICAgICAgc2V0SXRlbXMoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgaWR4ID0gcHJldi5maW5kSW5kZXgoKHgpID0+IHguaWQgPT09IGl0ZW0uaWQpO1xuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgICAgIG5leHRbaWR4XSA9IHsgLi4ubmV4dFtpZHhdLCAuLi5pdGVtIH0gYXMgYW55O1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4ucHJldiwgaXRlbV07XG4gICAgICB9KTtcbiAgICAgIGlmIChhY3RpdmVJZCA9PT0gaXRlbS5pZCkge1xuICAgICAgICBzZXRGb3JtKHsgaWQ6IGl0ZW0uaWQsIG5hbWU6IGl0ZW0ubmFtZSwgcm9sZTogaXRlbS5yb2xlIHx8IFwiXCIsIHN1bW1hcnk6IGl0ZW0uc3VtbWFyeSB8fCBcIlwiLCBpbWFnZXM6IChpdGVtIGFzIGFueSkuaW1hZ2VzID8/ICgoaXRlbSBhcyBhbnkpLmltYWdlVXJsID8gWyhpdGVtIGFzIGFueSkuaW1hZ2VVcmxdIDogW10pLCB0cmFpdHM6IGl0ZW0udHJhaXRzIHx8IG51bGwgfSk7XG4gICAgICAgIHNldFRyYWl0cyhpdGVtLnRyYWl0cyB8fCB7fSk7XG4gICAgICB9XG4gICAgICBub3RpZnkoXCJDaGFyYWN0ZXIgdXBkYXRlZCB2aWEgY2hhdFwiKTtcbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3dvcmtzcGFjZTpjaGFyYWN0ZXItdXBzZXJ0Jywgb25VcHNlcnQgYXMgYW55KTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dvcmtzcGFjZTpjaGFyYWN0ZXItdXBzZXJ0Jywgb25VcHNlcnQgYXMgYW55KTtcbiAgfSwgW2FjdGl2ZUlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFjdGl2ZUlkKSByZXR1cm47XG4gICAgaWYgKGFjdGl2ZUlkID09PSBcIl9fbmV3X19cIikge1xuICAgICAgc2V0Rm9ybSh7IG5hbWU6IFwiXCIsIGltYWdlczogW10gfSk7XG4gICAgICBzZXRUcmFpdHMoe30pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpdCA9IGl0ZW1zLmZpbmQoKHgpID0+IHguaWQgPT09IGFjdGl2ZUlkKTtcbiAgICBpZiAoIWl0KSByZXR1cm47XG4gICAgc2V0Rm9ybSh7IGlkOiBpdC5pZCwgbmFtZTogaXQubmFtZSwgcm9sZTogaXQucm9sZSB8fCBcIlwiLCBzdW1tYXJ5OiBpdC5zdW1tYXJ5IHx8IFwiXCIsIGltYWdlczogKGl0IGFzIGFueSkuaW1hZ2VzID8/IChpdC5pbWFnZVVybCA/IFtpdC5pbWFnZVVybF0gOiBbXSksIHRyYWl0czogaXQudHJhaXRzIHx8IG51bGwgfSk7XG4gICAgc2V0VHJhaXRzKGl0LnRyYWl0cyB8fCB7fSk7XG4gIH0sIFthY3RpdmVJZCwgaXRlbXNdKTtcblxuICBjb25zdCBmaWx0ZXJlZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHEgPSBmaWx0ZXIudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCFxKSByZXR1cm4gaXRlbXM7XG4gICAgcmV0dXJuIGl0ZW1zLmZpbHRlcigoeCkgPT4gKHgubmFtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8ICh4LnJvbGUgfHwgXCJcIikudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSk7XG4gIH0sIFtpdGVtcywgZmlsdGVyXSk7XG5cbiAgY29uc3Qgb25OZXcgPSAoKSA9PiB7XG4gICAgc2V0QWN0aXZlSWQoXCJfX25ld19fXCIpO1xuICAgIHNldEZvcm0oeyBuYW1lOiBcIlwiLCBpbWFnZXM6IFtdIH0pO1xuICAgIHNldFRyYWl0cyh7fSk7XG4gIH07XG5cbiAgLy8gUmVtb3ZlZCBicmFpbnN0b3JtL3JlZmluZSBzdWdnZXN0aW9uIGxvZ2ljXG5cbiAgY29uc3Qgbm90aWZ5ID0gKG1zZzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHRvYXN0VGltZXIuY3VycmVudCkgY2xlYXJUaW1lb3V0KHRvYXN0VGltZXIuY3VycmVudCk7XG4gICAgc2V0VG9hc3QobXNnKTtcbiAgICB0b2FzdFRpbWVyLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHNldFRvYXN0KFwiXCIpLCAyNTAwKTtcbiAgfTtcblxuICBjb25zdCBvblVwbG9hZEZpbGUgPSB1c2VDYWxsYmFjayhhc3luYyAoZmlsZTogRmlsZSkgPT4ge1xuICAgIGlmICghZmlsZSkgcmV0dXJuO1xuICAgIHNldFVwbG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYnVja2V0ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQ0hBUl9CVUNLRVQgfHwgXCJjaGFyYWN0ZXItaW1hZ2VzXCI7XG4gICAgICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpIHx8IFwianBnXCI7XG4gICAgICBjb25zdCBwYXRoID0gYCR7cHJvamVjdElkfS8ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMil9LiR7ZXh0fWA7XG4gICAgICBjb25zdCB7IGVycm9yOiB1cEVyciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZS5mcm9tKGJ1Y2tldCkudXBsb2FkKHBhdGgsIGZpbGUsIHsgdXBzZXJ0OiB0cnVlLCBjb250ZW50VHlwZTogZmlsZS50eXBlIH0pO1xuICAgICAgaWYgKHVwRXJyKSB0aHJvdyB1cEVycjtcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gc3VwYWJhc2Uuc3RvcmFnZS5mcm9tKGJ1Y2tldCkuZ2V0UHVibGljVXJsKHBhdGgpO1xuICAgICAgY29uc3QgdXJsID0gZGF0YS5wdWJsaWNVcmw7XG4gICAgICBzZXRGb3JtKChmKSA9PiAoeyAuLi5mLCBpbWFnZXM6IFt1cmxdIH0pKTtcbiAgICAgIG5vdGlmeShcIkltYWdlIHVwbG9hZGVkXCIpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgbm90aWZ5KGU/Lm1lc3NhZ2UgfHwgXCJVcGxvYWQgZmFpbGVkXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRVcGxvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3Byb2plY3RJZCwgc3VwYWJhc2VdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gZHJvcFJlZi5jdXJyZW50O1xuICAgIGlmICghZWwpIHJldHVybjtcbiAgICBjb25zdCBvbkRyb3AgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBmID0gZS5kYXRhVHJhbnNmZXI/LmZpbGVzPy5bMF07XG4gICAgICBpZiAoZikgdm9pZCBvblVwbG9hZEZpbGUoZik7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFwicmluZy0yXCIsIFwicmluZy1ibHVlLTUwMFwiKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uRHJhZyA9IChlOiBEcmFnRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoXCJyaW5nLTJcIiwgXCJyaW5nLWJsdWUtNTAwXCIpO1xuICAgIH07XG4gICAgY29uc3Qgb25MZWF2ZSA9IChlOiBEcmFnRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJyaW5nLTJcIiwgXCJyaW5nLWJsdWUtNTAwXCIpO1xuICAgIH07XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgb25Ecm9wIGFzIGFueSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIG9uRHJhZyBhcyBhbnkpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIiwgb25MZWF2ZSBhcyBhbnkpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBvbkRyb3AgYXMgYW55KTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBvbkRyYWcgYXMgYW55KTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIiwgb25MZWF2ZSBhcyBhbnkpO1xuICAgIH07XG4gIH0sIFtvblVwbG9hZEZpbGVdKTtcblxuICAvLyAtLS0tLSBUcmFpdHMgZWRpdG9yIGhlbHBlcnMgKHN0cmluZ3Mtb25seSB2YWx1ZXMsIGFycmF5cyBzdXBwb3J0ZWQsIGRlcHRoPD01KSAtLS0tLVxuICBjb25zdCBjbG9uZSA9IChvOiBhbnkpID0+IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobyA/PyB7fSkpO1xuICBjb25zdCBpc09iaiA9ICh2OiBhbnkpID0+IHYgJiYgdHlwZW9mIHYgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHYpO1xuXG4gIGNvbnN0IHNldFZhbCA9IChwYXRoOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgdmFsOiBhbnkpID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSByZWYgPSByZWZbcGF0aFtpXV07XG4gICAgICByZWZbcGF0aFtwYXRoLmxlbmd0aCAtIDFdXSA9IHZhbDtcbiAgICAgIHJldHVybiBueHQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGRlbEtleSA9IChwYXRoVG9QYXJlbnQ6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBrZXk6IHN0cmluZ3xudW1iZXIpID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhUb1BhcmVudC5sZW5ndGg7IGkrKykgcmVmID0gcmVmW3BhdGhUb1BhcmVudFtpXV07XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWYpICYmIHR5cGVvZiBrZXkgPT09ICdudW1iZXInKSByZWYuc3BsaWNlKGtleSwgMSk7XG4gICAgICBlbHNlIGlmIChyZWYgJiYgdHlwZW9mIHJlZiA9PT0gJ29iamVjdCcpIGRlbGV0ZSByZWZba2V5IGFzIGFueV07XG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCByZW5hbWVLZXkgPSAocGF0aFRvUGFyZW50OiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgb2xkS2V5OiBzdHJpbmcsIG5ld0tleTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFuZXdLZXkpIHJldHVybjtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhUb1BhcmVudC5sZW5ndGg7IGkrKykgcmVmID0gcmVmW3BhdGhUb1BhcmVudFtpXV07XG4gICAgICBpZiAoIXJlZiB8fCB0eXBlb2YgcmVmICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJlZikpIHJldHVybiBueHQ7XG4gICAgICBpZiAob2xkS2V5ID09PSBuZXdLZXkpIHJldHVybiBueHQ7XG4gICAgICBjb25zdCB2YWwgPSByZWZbb2xkS2V5XTtcbiAgICAgIGRlbGV0ZSByZWZbb2xkS2V5XTtcbiAgICAgIHJlZltuZXdLZXldID0gdmFsO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgYWRkQ2hpbGQgPSAocGF0aFRvT2JqOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgZGVwdGg6IG51bWJlcikgPT4ge1xuICAgIGlmIChkZXB0aCA+PSA1KSByZXR1cm47IC8vIGRlcHRoIGxpbWl0XG4gICAgc2V0VHJhaXRzKChjdXJyOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG54dCA9IGNsb25lKGN1cnIpO1xuICAgICAgbGV0IHJlZjogYW55ID0gbnh0O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoVG9PYmoubGVuZ3RoOyBpKyspIHJlZiA9IHJlZltwYXRoVG9PYmpbaV1dO1xuICAgICAgaWYgKCFyZWYgfHwgdHlwZW9mIHJlZiAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShyZWYpKSByZXR1cm4gbnh0O1xuICAgICAgbGV0IGJhc2UgPSAna2V5JzsgbGV0IGkyID0gMTsgbGV0IGtleSA9IGJhc2U7XG4gICAgICB3aGlsZSAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlZiwga2V5KSkgeyBrZXkgPSBgJHtiYXNlfS0ke2kyKyt9YDsgfVxuICAgICAgcmVmW2tleV0gPSBcIlwiOyAvLyBkZWZhdWx0IGFzIHN0cmluZyBsZWFmXG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBhZGRSb290S2V5ID0gKCkgPT4ge1xuICAgIHNldFRyYWl0cygoY3VycjogYW55KSA9PiB7XG4gICAgICBjb25zdCBueHQgPSBjbG9uZShjdXJyKTtcbiAgICAgIGxldCBiYXNlID0gJ2tleSc7IGxldCBpID0gMTsgbGV0IGsgPSBiYXNlO1xuICAgICAgd2hpbGUgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChueHQsIGspKSB7IGsgPSBgJHtiYXNlfS0ke2krK31gOyB9XG4gICAgICAobnh0IGFzIGFueSlba10gPSBcIlwiO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgY29udmVydFR5cGUgPSAocGF0aDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIHBhcmVudFBhdGg6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBrZXk6IHN0cmluZywgbmV4dFR5cGU6ICdzdHJpbmcnfCdvYmplY3QnfCdhcnJheScsIGRlcHRoOiBudW1iZXIpID0+IHtcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmVudFBhdGgubGVuZ3RoOyBpKyspIHJlZiA9IHJlZltwYXJlbnRQYXRoW2ldXTtcbiAgICAgIGlmICghcmVmIHx8IHR5cGVvZiByZWYgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocmVmKSkgcmV0dXJuIG54dDtcbiAgICAgIGlmIChuZXh0VHlwZSA9PT0gJ3N0cmluZycpIHJlZltrZXldID0gXCJcIjtcbiAgICAgIGVsc2UgaWYgKG5leHRUeXBlID09PSAnb2JqZWN0JykgcmVmW2tleV0gPSBkZXB0aCA+PSA1ID8gXCJcIiA6IHt9O1xuICAgICAgZWxzZSBpZiAobmV4dFR5cGUgPT09ICdhcnJheScpIHJlZltrZXldID0gW10gYXMgc3RyaW5nW107XG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBhZGRBcnJheUl0ZW0gPSAocGF0aFRvQXJyOiBBcnJheTxzdHJpbmd8bnVtYmVyPikgPT4ge1xuICAgIHNldFRyYWl0cygoY3VycjogYW55KSA9PiB7XG4gICAgICBjb25zdCBueHQgPSBjbG9uZShjdXJyKTtcbiAgICAgIGxldCByZWY6IGFueSA9IG54dDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aFRvQXJyLmxlbmd0aDsgaSsrKSByZWYgPSByZWZbcGF0aFRvQXJyW2ldXTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlZikpIHJlZi5wdXNoKFwiXCIpO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBFeHBvc2UgaGFuZGxlcnMgdG8gbmVzdGVkIFRyYWl0T2JqZWN0L1RyYWl0Um93IHdpdGhvdXQgcHJvcC1kcmlsbGluZ1xuICAoVHJhaXRPYmplY3QgYXMgYW55KS5fcGFyZW50ID0ge1xuICAgIHNldFZhbCxcbiAgICBkZWxLZXksXG4gICAgcmVuYW1lS2V5LFxuICAgIGFkZENoaWxkLFxuICAgIGNvbnZlcnRUeXBlLFxuICAgIGFkZEFycmF5SXRlbSxcbiAgfSBhcyBUcmFpdEN0eDtcblxuICBjb25zdCBvblNhdmUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFmb3JtLm5hbWUudHJpbSgpKSB7XG4gICAgICBub3RpZnkoXCJOYW1lIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocmVxdWlyZUltYWdlICYmICEoQXJyYXkuaXNBcnJheShmb3JtLmltYWdlcykgJiYgZm9ybS5pbWFnZXMubGVuZ3RoID4gMCkpIHtcbiAgICAgIG5vdGlmeShcIkltYWdlIGlzIHJlcXVpcmVkIGluIG1hbmh3YSBtb2RlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRyYWl0c09iaiA9IHRyYWl0cztcbiAgICAgIGlmIChhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXJhY3Rlcihwcm9qZWN0SWQsIHsgbmFtZTogZm9ybS5uYW1lLnRyaW0oKSwgcm9sZTogZm9ybS5yb2xlIHx8IHVuZGVmaW5lZCwgc3VtbWFyeTogZm9ybS5zdW1tYXJ5IHx8IHVuZGVmaW5lZCwgaW1hZ2VzOiBBcnJheS5pc0FycmF5KGZvcm0uaW1hZ2VzKSA/IGZvcm0uaW1hZ2VzIDogdW5kZWZpbmVkLCB0cmFpdHM6IHRyYWl0c09iaiB9KTtcbiAgICAgICAgc2V0SXRlbXMoKHByZXYpID0+IFsuLi5wcmV2LCByZXNdKTtcbiAgICAgICAgc2V0QWN0aXZlSWQocmVzLmlkKTtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSWQpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnVwZGF0ZUNoYXJhY3Rlcihwcm9qZWN0SWQsIGFjdGl2ZUlkLCB7IG5hbWU6IGZvcm0ubmFtZS50cmltKCksIHJvbGU6IGZvcm0ucm9sZSB8fCB1bmRlZmluZWQsIHN1bW1hcnk6IGZvcm0uc3VtbWFyeSB8fCB1bmRlZmluZWQsIGltYWdlczogQXJyYXkuaXNBcnJheShmb3JtLmltYWdlcykgPyBmb3JtLmltYWdlcyA6IHVuZGVmaW5lZCwgdHJhaXRzOiB0cmFpdHNPYmogfSk7XG4gICAgICAgIHNldEl0ZW1zKChwcmV2KSA9PiBwcmV2Lm1hcCgoeCkgPT4gKHguaWQgPT09IHJlcy5pZCA/IHJlcyA6IHgpKSk7XG4gICAgICB9XG4gICAgICBub3RpZnkoXCJTYXZlZFwiKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIG5vdGlmeShlPy5tZXNzYWdlIHx8IFwiU2F2ZSBmYWlsZWRcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uRGVsZXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghYWN0aXZlSWQgfHwgYWN0aXZlSWQgPT09IFwiX19uZXdfX1wiKSByZXR1cm47XG4gICAgaWYgKCFjb25maXJtKFwiRGVsZXRlIHRoaXMgY2hhcmFjdGVyP1wiKSkgcmV0dXJuO1xuICAgIHNldERlbGV0aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhcGkuZGVsZXRlQ2hhcmFjdGVyKHByb2plY3RJZCwgYWN0aXZlSWQpO1xuICAgICAgc2V0SXRlbXMoKHByZXYpID0+IHByZXYuZmlsdGVyKCh4KSA9PiB4LmlkICE9PSBhY3RpdmVJZCkpO1xuICAgICAgc2V0QWN0aXZlSWQobnVsbCk7XG4gICAgICBzZXRGb3JtKHsgbmFtZTogXCJcIiwgaW1hZ2VzOiBbXSB9KTtcbiAgICAgIHNldFRyYWl0cyh7fSk7XG4gICAgICBub3RpZnkoXCJEZWxldGVkXCIpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgbm90aWZ5KGU/Lm1lc3NhZ2UgfHwgXCJEZWxldGUgZmFpbGVkXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXREZWxldGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuICBjb25zdCBhY3RpdmUgPSBhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIgPyBmb3JtIDogaXRlbXMuZmluZCgoeCkgPT4geC5pZCA9PT0gYWN0aXZlSWQpIHx8IG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBncmlkIGdyaWQtcm93cy1bYXV0b18xZnJdXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ib3JkZXItZGVmYXVsdCBweC02IHB5LTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+Q2hhcmFjdGVyIE1hbmFnZW1lbnQ8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+e2NvdW50fSBDaGFyYWN0ZXJzPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbk5ld30gY2xhc3NOYW1lPVwicm91bmRlZC1sZyBiZy1iZy1lbGV2YXRlZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGhvdmVyOmJvcmRlci1hY2NlbnQgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIHB4LTQgcHktMyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIGhvdmVyOi10cmFuc2xhdGUteS0wLjVcIj5cbiAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgTmV3IENoYXJhY3RlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLTAgZ3JpZFwiIHN0eWxlPXt7IGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMzUlIDY1JVwiIH19PlxuICAgICAgICA8YXNpZGUgY2xhc3NOYW1lPVwiYm9yZGVyLXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IG1pbi1oLTAgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17ZmlsdGVyfSBvbkNoYW5nZT17KGUpID0+IHNldEZpbHRlcihlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiU2VhcmNoIGNoYXJhY3RlcnNcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcGwtOSBwci0zIHB5LTIuNSB0ZXh0LXNtIHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiIC8+XG4gICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwidy00IGgtNCBhYnNvbHV0ZSBsZWZ0LTMgdG9wLTMgdGV4dC10ZXh0LXRlcnRpYXJ5XCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBweC0zIHBiLTNcIj5cbiAgICAgICAgICAgIHtsb2FkaW5nICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IHB4LTIgcHktMlwiPkxvYWRpbmfigKY8L2Rpdj59XG4gICAgICAgICAgICB7ZXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTQwMCBweC0yIHB5LTIgYmctcmVkLTk1MC8yMCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMFwiPntlcnJvcn08L2Rpdj59XG4gICAgICAgICAgICB7IWxvYWRpbmcgJiYgIWZpbHRlcmVkLmxlbmd0aCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgdGV4dC1jZW50ZXIgdGV4dC10ZXh0LXRlcnRpYXJ5IHRleHQtc21cIj5ObyBjaGFyYWN0ZXJzIHlldC4gQ3JlYXRlIHlvdXIgZmlyc3QgY2hhcmFjdGVyITwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtmaWx0ZXJlZC5tYXAoKGMpID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e2MuaWR9IG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZUlkKGMuaWQhKX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKFwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTMgcm91bmRlZC1tZCBtYi0yIHRyYW5zaXRpb24tYWxsXCIsIGFjdGl2ZUlkPT09Yy5pZCA/IFwiYm9yZGVyLWwtMiBib3JkZXItYmx1ZS01MDAgYmctYmctZWxldmF0ZWRcIiA6IFwiaG92ZXI6YmctYmctaG92ZXJcIikgfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiByb3VuZGVkLWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IG92ZXJmbG93LWhpZGRlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICB7KCgoYyBhcyBhbnkpLmltYWdlcz8uWzBdKSB8fCBjLmltYWdlVXJsKSA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17KCgoYyBhcyBhbnkpLmltYWdlcz8uWzBdKSB8fCBjLmltYWdlVXJsKSBhcyBzdHJpbmd9IGFsdD17Yy5uYW1lfSBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPk5vIEltZzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXRleHQtcHJpbWFyeSB0cnVuY2F0ZVwiPntjLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdHJ1bmNhdGVcIj57Yy5yb2xlIHx8IFwiXCJ9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9hc2lkZT5cblxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJtaW4taC0wIG92ZXJmbG93LXktYXV0byBwLTZcIiBhcmlhLWxhYmVsPVwiQ2hhcmFjdGVyIGRldGFpbHNcIj5cbiAgICAgICAgICB7YWN0aXZlSWQgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgIDxkaXYgcmVmPXtkcm9wUmVmfSBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBtYi02IHAtNCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctZWxldmF0ZWRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMzAgaC0zMCB3LVsxMjBweF0gaC1bMTIwcHhdIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1wcmltYXJ5IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICB7KGZvcm0uaW1hZ2VzPy5bMF0pID8gPGltZyBzcmM9e2Zvcm0uaW1hZ2VzWzBdfSBhbHQ9XCJhdmF0YXJcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiIC8+IDogPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPk5vIEltYWdlPC9kaXY+fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInB4LTMgcHktMiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctcHJpbWFyeSB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8VXBsb2FkIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICB7KGZvcm0uaW1hZ2VzPy5bMF0pID8gXCJDaGFuZ2UgSW1hZ2VcIiA6IFwiVXBsb2FkIEltYWdlXCJ9XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGFjY2VwdD1cImltYWdlLypcIiBjbGFzc05hbWU9XCJoaWRkZW5cIiBvbkNoYW5nZT17KGUpID0+IHsgY29uc3QgZiA9IGUudGFyZ2V0LmZpbGVzPy5bMF07IGlmIChmKSB2b2lkIG9uVXBsb2FkRmlsZShmKTsgfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICB7KGZvcm0uaW1hZ2VzICYmIGZvcm0uaW1hZ2VzLmxlbmd0aCA+IDApICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRGb3JtKChmKT0+KHsgLi4uZiwgaW1hZ2VzOiBbXSB9KSl9IGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXJlZC00MDAgdGV4dC1zbSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBSZW1vdmVcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHt1cGxvYWRpbmcgJiYgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxMb2FkZXIyIGNsYXNzTmFtZT1cInctMyBoLTMgYW5pbWF0ZS1zcGluXCIgLz4gVXBsb2FkaW5n4oCmPC9kaXY+fVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPk5hbWU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e2Zvcm0ubmFtZX0gb25DaGFuZ2U9eyhlKT0+c2V0Rm9ybSgoZik9Pih7IC4uLmYsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pKX0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50XCIgLz5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+Um9sZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17Zm9ybS5yb2xlIHx8IFwiXCJ9IG9uQ2hhbmdlPXsoZSk9PnNldEZvcm0oKGYpPT4oeyAuLi5mLCByb2xlOiBlLnRhcmdldC52YWx1ZSB9KSl9IGxpc3Q9XCJyb2xlc1wiIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiIC8+XG4gICAgICAgICAgICAgICAgICA8ZGF0YWxpc3QgaWQ9XCJyb2xlc1wiPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiUHJvdGFnb25pc3RcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQW50YWdvbmlzdFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJTdXBwb3J0aW5nXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1lbnRvclwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJMb3ZlIEludGVyZXN0XCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGF0YWxpc3Q+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlN1bW1hcnk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgdmFsdWU9e2Zvcm0uc3VtbWFyeSB8fCBcIlwifSBvbkNoYW5nZT17KGUpPT5zZXRGb3JtKChmKT0+KHsgLi4uZiwgc3VtbWFyeTogZS50YXJnZXQudmFsdWUgfSkpfSByb3dzPXs1fSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdGV4dC1zbVwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMXB4XSB0ZXh0LXRleHQtdGVydGlhcnlcIj57KGZvcm0uc3VtbWFyeSB8fCBcIlwiKS5sZW5ndGh9IGNoYXJhY3RlcnM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlRyYWl0czwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXthZGRSb290S2V5fSBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC14cyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj48UGx1cyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQWRkIGtleTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAge09iamVjdC5rZXlzKHRyYWl0cyB8fCB7fSkubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5XCI+Tm8gdHJhaXRzIHlldC4gQWRkIGEga2V5LjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8VHJhaXRPYmplY3Qgb2JqPXt0cmFpdHN9IHBhdGg9e1tdfSBkZXB0aD17MX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHQtNFwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkRlbGV0ZX0gZGlzYWJsZWQ9eyFhY3RpdmVJZCB8fCBhY3RpdmVJZD09PVwiX19uZXdfX1wiIHx8IGRlbGV0aW5nfSBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDAgaG92ZXI6dGV4dC1yZWQtMzAwIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIERlbGV0ZSBDaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0QWN0aXZlSWQobnVsbCk7IH19IGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlclwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uU2F2ZX0gZGlzYWJsZWQ9e3NhdmluZ30gY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQtbWQgYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS01MDAgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtzYXZpbmcgPyA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTQgaC00IGFuaW1hdGUtc3BpblwiIC8+IFNhdmluZ+KApjwvc3Bhbj4gOiBcIlNhdmUgQ2hhcmFjdGVyXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXRleHQtdGVydGlhcnlcIj5TZWxlY3QgYSBjaGFyYWN0ZXIgb3IgY3JlYXRlIGEgbmV3IG9uZS48L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3RvYXN0ICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtNCByaWdodC00IHotNTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyByb3VuZGVkLWxnIGJnLWJnLWVsZXZhdGVkIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBzaGFkb3ctZWxldmF0aW9uXCI+e3RvYXN0fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIC0tLSBOZXN0ZWQgVHJhaXRzIEVkaXRvciAoc3RyaW5ncy1vbmx5IGxlYXZlcywgYXJyYXlzIHN1cHBvcnRlZCkgLS0tXG50eXBlIFRyYWl0Q3R4ID0ge1xuICBzZXRWYWw6IChwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgdjogYW55KSA9PiB2b2lkO1xuICBkZWxLZXk6IChwcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIGs6IGFueSkgPT4gdm9pZDtcbiAgcmVuYW1lS2V5OiAocHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBvbGRLOiBzdHJpbmcsIG5ld0s6IHN0cmluZykgPT4gdm9pZDtcbiAgYWRkQ2hpbGQ6IChwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgZDogbnVtYmVyKSA9PiB2b2lkO1xuICBjb252ZXJ0VHlwZTogKHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBwcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIGs6IHN0cmluZywgdDogJ3N0cmluZyd8J29iamVjdCd8J2FycmF5JywgZDogbnVtYmVyKSA9PiB2b2lkO1xuICBhZGRBcnJheUl0ZW06IChwOiBBcnJheTxzdHJpbmd8bnVtYmVyPikgPT4gdm9pZDtcbn07XG5mdW5jdGlvbiBUcmFpdE9iamVjdCh7IG9iaiwgcGF0aCwgZGVwdGggfTogeyBvYmo6IGFueTsgcGF0aDogQXJyYXk8c3RyaW5nfG51bWJlcj47IGRlcHRoOiBudW1iZXIgfSkge1xuICBjb25zdCBbXywgc2V0VGlja10gPSB1c2VTdGF0ZSgwKTtcbiAgLy8gQWNjZXNzIGVkaXRvciBmdW5jdGlvbnMgZnJvbSBvdXRlciBzY29wZSB2aWEgd2luZG93IHByb3h5IGlzIG5vdCBpZGVhbDsgd2UgcmVseSBvbiBjbG9zdXJlcyBpbiBwYXJlbnQgY29tcG9uZW50LlxuICAvLyBUaGlzIGlubGluZSBjb21wb25lbnQgZGVwZW5kcyBvbiBmdW5jdGlvbnMgYm91bmQgb24gd2luZG93IGJ5IHBhcmVudCBjbG9zdXJlLlxuICAvLyBUbyBrZWVwIGV2ZXJ5dGhpbmcgaW4gb25lIGZpbGUgYW5kIGF2b2lkIHByb3AtZHJpbGxpbmcgbWFueSBoYW5kbGVycywgd2Ugd2lsbCByZS1ncmFiIHRoZW0gZnJvbSBSZWFjdCBjb250ZXh0IHZpYSBjbG9zdXJlcy5cbiAgY29uc3QgcGFyZW50OiBUcmFpdEN0eCB8IHVuZGVmaW5lZCA9IChUcmFpdE9iamVjdCBhcyBhbnkpLl9wYXJlbnQgYXMgVHJhaXRDdHggfCB1bmRlZmluZWQ7XG4gIGNvbnN0IGN0eDogVHJhaXRDdHggPSBwYXJlbnQgfHwgdXNlQ2hhcmFjdGVyTWFuYWdlckNvbnRleHQoKTtcbiAgKFRyYWl0T2JqZWN0IGFzIGFueSkuX3BhcmVudCA9IGN0eDtcblxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqIHx8IHt9KTtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAge2tleXMubWFwKChrKSA9PiAoXG4gICAgICAgIDxUcmFpdFJvdyBrZXk9e2t9IGs9e2t9IHY9eyhvYmogYXMgYW55KVtrXX0gcGFyZW50UGF0aD17cGF0aH0gZGVwdGg9e2RlcHRofSBjdHg9e2N0eH0gLz5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBUcmFpdFJvdyh7IGssIHYsIHBhcmVudFBhdGgsIGRlcHRoLCBjdHggfTogeyBrOiBzdHJpbmc7IHY6IGFueTsgcGFyZW50UGF0aDogQXJyYXk8c3RyaW5nfG51bWJlcj47IGRlcHRoOiBudW1iZXI7IGN0eDogVHJhaXRDdHggfSkge1xuICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSh2KTtcbiAgY29uc3QgaXNPYmplY3QgPSB2ICYmIHR5cGVvZiB2ID09PSAnb2JqZWN0JyAmJiAhaXNBcnJheTtcbiAgY29uc3QgdHlwZTogJ3N0cmluZyd8J29iamVjdCd8J2FycmF5JyA9IGlzQXJyYXkgPyAnYXJyYXknIDogKGlzT2JqZWN0ID8gJ29iamVjdCcgOiAnc3RyaW5nJyk7XG4gIGNvbnN0IFtuYW1lLCBzZXROYW1lXSA9IHVzZVN0YXRlPHN0cmluZz4oayk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7IHNldE5hbWUoayk7IH0sIFtrXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBwLTIgYmctYmctZWxldmF0ZWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdmFsdWU9e25hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKT0+c2V0TmFtZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgb25CbHVyPXsoKT0+eyBpZiAobmFtZSAhPT0gayAmJiBuYW1lLnRyaW0oKSkgY3R4LnJlbmFtZUtleShwYXJlbnRQYXRoLCBrLCBuYW1lLnRyaW0oKSk7IH19XG4gICAgICAgICAgb25LZXlEb3duPXsoZSk9PnsgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5ibHVyKCk7IH0gfX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cImtleVwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC1ub25lIHctNDggYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtMiBweS0xLjUgdGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiXG4gICAgICAgIC8+XG4gICAgICAgIDxzZWxlY3QgdmFsdWU9e3R5cGV9IG9uQ2hhbmdlPXsoZSk9PmN0eC5jb252ZXJ0VHlwZShbLi4ucGFyZW50UGF0aCwga10sIHBhcmVudFBhdGgsIGssIGUudGFyZ2V0LnZhbHVlIGFzIGFueSwgZGVwdGgpfSBjbGFzc05hbWU9XCJmbGV4LW5vbmUgdy0yOCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC0yIHB5LTEuNSB0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50XCI+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInN0cmluZ1wiPlN0cmluZzwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJvYmplY3RcIiBkaXNhYmxlZD17ZGVwdGg+PTV9Pk9iamVjdDwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhcnJheVwiPkFycmF5PC9vcHRpb24+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICB7dHlwZT09PSdzdHJpbmcnICYmIChcbiAgICAgICAgICA8aW5wdXQgdmFsdWU9e1N0cmluZyh2IHx8ICcnKX0gb25DaGFuZ2U9eyhlKT0+Y3R4LnNldFZhbChbLi4ucGFyZW50UGF0aCwga10sIGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9XCJ2YWx1ZVwiIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC0yIHB5LTEuNSB0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50XCIgLz5cbiAgICAgICAgKX1cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+Y3R4LmRlbEtleShwYXJlbnRQYXRoLCBrKX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtcmVkLTQwMCB0ZXh0LXNtIG1sLWF1dG9cIj48WCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz48L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAge3R5cGU9PT0nb2JqZWN0JyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBtbC00XCI+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+Y3R4LmFkZENoaWxkKFsuLi5wYXJlbnRQYXRoLCBrXSwgZGVwdGgrMSl9IGRpc2FibGVkPXtkZXB0aD49NX0gY2xhc3NOYW1lPVwicHgtMiBweS0xIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRleHQteHMgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+PFBsdXMgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IEFkZCBjaGlsZDwvYnV0dG9uPlxuICAgICAgICAgIDxUcmFpdE9iamVjdCBvYmo9e3Z9IHBhdGg9e1suLi5wYXJlbnRQYXRoLCBrXX0gZGVwdGg9e2RlcHRoKzF9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIHt0eXBlPT09J2FycmF5JyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBtbC00IHNwYWNlLXktMlwiPlxuICAgICAgICAgIHsodiBhcyBzdHJpbmdbXSkubWFwKChpdGVtLCBpZHgpID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5XCI+W3tpZHh9XTwvc3Bhbj5cbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtpdGVtfSBvbkNoYW5nZT17KGUpPT5jdHguc2V0VmFsKFsuLi5wYXJlbnRQYXRoLCBrLCBpZHhdLCBlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwidmFsdWVcIiBjbGFzc05hbWU9XCJmbGV4LTEgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtMiBweS0xLjUgdGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiIC8+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PmN0eC5kZWxLZXkoWy4uLnBhcmVudFBhdGgsIGtdLCBpZHgpfSBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC1yZWQtNDAwIHRleHQtc21cIj48WCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz48L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PmN0eC5hZGRBcnJheUl0ZW0oWy4uLnBhcmVudFBhdGgsIGtdKX0gY2xhc3NOYW1lPVwicHgtMiBweS0xIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRleHQteHMgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+PFBsdXMgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IEFkZCBpdGVtPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy8gTGlnaHR3ZWlnaHQgY29udGV4dCB2aWEgY2xvc3VyZSBiaW5kaW5nXG5mdW5jdGlvbiB1c2VDaGFyYWN0ZXJNYW5hZ2VyQ29udGV4dCgpOiBUcmFpdEN0eCB7XG4gIC8vIEZpbmQgdGhlIG5lYXJlc3QgQ2hhcmFjdGVyTWFuYWdlciBieSB3YWxraW5nIFJlYWN0IGNsb3N1cmUuIEluIFRTWCBzaW5nbGUtZmlsZSBjb21wb25lbnQsIHdlIHBhc3MgaGFuZGxlcnMgYnkgcHJvcGVydHkgaW4gVHJhaXRPYmplY3QuX3BhcmVudCBhYm92ZS5cbiAgLy8gSW5zdGVhZCBvZiBhIHJlYWwgUmVhY3QgQ29udGV4dCBwcm92aWRlciAoZXh0cmEgYm9pbGVycGxhdGUpLCBleHBvc2Ugbm9vcCBmYWxsYmFja3M7IHRoZXkgZ2V0IG92ZXJ3cml0dGVuIHdoZW4gZmlyc3QgVHJhaXRPYmplY3QgcmVuZGVycy5cbiAgcmV0dXJuIHtcbiAgICBzZXRWYWw6IChfcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIF92OiBhbnkpID0+IHt9LFxuICAgIGRlbEtleTogKF9wcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIF9rOiBhbnkpID0+IHt9LFxuICAgIHJlbmFtZUtleTogKF9wcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIF9vbGQ6IHN0cmluZywgX246IHN0cmluZykgPT4ge30sXG4gICAgYWRkQ2hpbGQ6IChfcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIF9kOiBudW1iZXIpID0+IHt9LFxuICAgIGNvbnZlcnRUeXBlOiAoX3A6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBfcHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBfazogc3RyaW5nLCBfdDogJ3N0cmluZyd8J29iamVjdCd8J2FycmF5JywgX2Q6IG51bWJlcikgPT4ge30sXG4gICAgYWRkQXJyYXlJdGVtOiAoX3A6IEFycmF5PHN0cmluZ3xudW1iZXI+KSA9PiB7fSxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZVN1cGFiYXNlIiwiY3JlYXRlQXBpIiwiTG9hZGVyMiIsIlBsdXMiLCJTZWFyY2giLCJUcmFzaDIiLCJVcGxvYWQiLCJYIiwiY2xhc3NOYW1lcyIsInhzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJzZXRCeVBhdGgiLCJiYXNlIiwicGF0aCIsInZhbHVlIiwicm9vdCIsImN1cnIiLCJpIiwibGVuZ3RoIiwiayIsImRlbEJ5UGF0aCIsInRvTmVzdGVkRnJvbVRhZ3MiLCJ0YWdzIiwib2JqIiwidCIsInBhcnRzIiwia2V5Iiwic3BsaXQiLCJtYXAiLCJzIiwidHJpbSIsIkNoYXJhY3Rlck1hbmFnZXIiLCJwcm9qZWN0SWQiLCJyZXF1aXJlSW1hZ2UiLCJmb3JtIiwic3VwYWJhc2UiLCJhcGkiLCJpdGVtcyIsInNldEl0ZW1zIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwic2V0RmlsdGVyIiwiYWN0aXZlSWQiLCJzZXRBY3RpdmVJZCIsInNhdmluZyIsInNldFNhdmluZyIsImRlbGV0aW5nIiwic2V0RGVsZXRpbmciLCJ0b2FzdCIsInNldFRvYXN0IiwidG9hc3RUaW1lciIsInNldEZvcm0iLCJuYW1lIiwiaW1hZ2VzIiwidHJhaXRzIiwic2V0VHJhaXRzIiwidXBsb2FkaW5nIiwic2V0VXBsb2FkaW5nIiwiZHJvcFJlZiIsImNhY2hlS2V5IiwiYWN0aXZlS2V5IiwiaGFzQ2FjaGUiLCJzZXRIYXNDYWNoZSIsIml0ZW1zUmVmIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFyciIsIkpTT04iLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsInZhbGlkIiwibW91bnRlZCIsInJlcyIsImxpc3RDaGFyYWN0ZXJzIiwibmV4dCIsInN0cmluZ2lmeSIsImN1cnJlbnQiLCJlIiwibWVzc2FnZSIsInNldEl0ZW0iLCJ2Iiwib25VcHNlcnQiLCJldiIsImNlIiwiaXRlbSIsImRldGFpbCIsImlkIiwicHJldiIsImlkeCIsImZpbmRJbmRleCIsIngiLCJyb2xlIiwic3VtbWFyeSIsImltYWdlVXJsIiwibm90aWZ5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpdCIsImZpbmQiLCJmaWx0ZXJlZCIsInEiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwib25OZXciLCJtc2ciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwib25VcGxvYWRGaWxlIiwiZmlsZSIsImJ1Y2tldCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9DSEFSX0JVQ0tFVCIsImV4dCIsInBvcCIsIkRhdGUiLCJNYXRoIiwibm93IiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsInVwRXJyIiwic3RvcmFnZSIsImZyb20iLCJ1cGxvYWQiLCJ1cHNlcnQiLCJjb250ZW50VHlwZSIsInR5cGUiLCJkYXRhIiwiZ2V0UHVibGljVXJsIiwidXJsIiwicHVibGljVXJsIiwiZiIsImVsIiwib25Ecm9wIiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJmaWxlcyIsImNsYXNzTGlzdCIsInJlbW92ZSIsIm9uRHJhZyIsImFkZCIsIm9uTGVhdmUiLCJjbG9uZSIsIm8iLCJpc09iaiIsInNldFZhbCIsInZhbCIsIm54dCIsInJlZiIsImRlbEtleSIsInBhdGhUb1BhcmVudCIsInNwbGljZSIsInJlbmFtZUtleSIsIm9sZEtleSIsIm5ld0tleSIsImFkZENoaWxkIiwicGF0aFRvT2JqIiwiZGVwdGgiLCJpMiIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFkZFJvb3RLZXkiLCJjb252ZXJ0VHlwZSIsInBhcmVudFBhdGgiLCJuZXh0VHlwZSIsImFkZEFycmF5SXRlbSIsInBhdGhUb0FyciIsInB1c2giLCJUcmFpdE9iamVjdCIsIl9wYXJlbnQiLCJvblNhdmUiLCJ0cmFpdHNPYmoiLCJjcmVhdGVDaGFyYWN0ZXIiLCJ1bmRlZmluZWQiLCJ1cGRhdGVDaGFyYWN0ZXIiLCJvbkRlbGV0ZSIsImNvbmZpcm0iLCJkZWxldGVDaGFyYWN0ZXIiLCJjb3VudCIsImFjdGl2ZSIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzdHlsZSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJhc2lkZSIsImlucHV0Iiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsImMiLCJpbWciLCJzcmMiLCJhbHQiLCJzZWN0aW9uIiwiYXJpYS1sYWJlbCIsImxhYmVsIiwiYWNjZXB0Iiwic3BhbiIsImxpc3QiLCJkYXRhbGlzdCIsIm9wdGlvbiIsInRleHRhcmVhIiwicm93cyIsImtleXMiLCJkaXNhYmxlZCIsIl8iLCJzZXRUaWNrIiwicGFyZW50IiwiY3R4IiwidXNlQ2hhcmFjdGVyTWFuYWdlckNvbnRleHQiLCJUcmFpdFJvdyIsImlzT2JqZWN0Iiwic2V0TmFtZSIsIm9uQmx1ciIsIm9uS2V5RG93biIsImJsdXIiLCJzZWxlY3QiLCJTdHJpbmciLCJfcCIsIl92IiwiX3BwIiwiX2siLCJfb2xkIiwiX24iLCJfZCIsIl90Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/workspace/CharacterManager.tsx\n"));

/***/ })

});