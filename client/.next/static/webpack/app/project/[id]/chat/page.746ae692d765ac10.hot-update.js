"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/project/[id]/chat/page",{

/***/ "(app-pages-browser)/./src/components/workspace/Workspace.tsx":
/*!************************************************!*\
  !*** ./src/components/workspace/Workspace.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Workspace: function() { return /* binding */ Workspace; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(app-pages-browser)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _components_chat_Chat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/chat/Chat */ \"(app-pages-browser)/./src/components/chat/Chat.tsx\");\n/* harmony import */ var _components_workspace_CharacterManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/workspace/CharacterManager */ \"(app-pages-browser)/./src/components/workspace/CharacterManager.tsx\");\n/* harmony import */ var _components_workspace_WorldSettingsManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/workspace/WorldSettingsManager */ \"(app-pages-browser)/./src/components/workspace/WorldSettingsManager.tsx\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronLeft,ChevronRight,Loader2,Plus,Settings,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* __next_internal_client_entry_do_not_use__ Workspace auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction Workspace(param) {\n    let { projectId } = param;\n    var _chats_find;\n    _s();\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_3__.createApi)(supabase), [\n        supabase\n    ]);\n    const [chapters, setChapters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loadingCh, setLoadingCh] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [errorCh, setErrorCh] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [tabs, setTabs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [content, setContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const saveTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [leftCollapsed, setLeftCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiMuseOpen, setAiMuseOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deletingId, setDeletingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [projectTitle, setProjectTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projectDescription, setProjectDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [settingsOpen, setSettingsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [renameTitle, setRenameTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [renameDesc, setRenameDesc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [savingRename, setSavingRename] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [renameError, setRenameError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [settingsMenuOpen, setSettingsMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [projMode, setProjMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projGenre, setProjGenre] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Removed worldName field from Project\n    const [projCoreConflict, setProjCoreConflict] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [projSettingsJson, setProjSettingsJson] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [toastMsg, setToastMsg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const SETTINGS_TAB_ID = \"__settings__\";\n    const CHARACTERS_TAB_ID = \"__characters__\";\n    const WORLD_TAB_ID = \"__world__\";\n    // Chats sidebar (right)\n    const [rightOpen, setRightOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const chatsCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_chats\"), [\n        projectId\n    ]);\n    const chatsActiveKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_active_chat\"), [\n        projectId\n    ]);\n    const chaptersCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_chapters\"), [\n        projectId\n    ]);\n    const tabsCacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_open_tabs\"), [\n        projectId\n    ]);\n    const activeTabKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_active_tab\"), [\n        projectId\n    ]);\n    const leftCollapsedKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_left_collapsed\"), [\n        projectId\n    ]);\n    const rightOpenKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_right_open\"), [\n        projectId\n    ]);\n    const [chats, setChats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeChatId, setActiveChatId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasChatsCache, setHasChatsCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const chatsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(chats);\n    const [newChatType, setNewChatType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"plot\");\n    const [newChatTitle, setNewChatTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChatOpen, setNewChatOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [creatingChat, setCreatingChat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [createChatError, setCreateChatError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [chatMenuOpen, setChatMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [hasChaptersCache, setHasChaptersCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Hydrate chats from localStorage after mount (prevents SSR/client mismatch)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) {\n                const s = window.localStorage.getItem(chatsCacheKey);\n                if (s) {\n                    const arr = JSON.parse(s);\n                    if (Array.isArray(arr)) {\n                        setChats(arr);\n                        setHasChatsCache(arr.length > 0);\n                    }\n                }\n                const v = window.localStorage.getItem(chatsActiveKey);\n                if (v) setActiveChatId(v);\n                // Hydrate chapters\n                const chs = window.localStorage.getItem(chaptersCacheKey);\n                if (chs) {\n                    const arr = JSON.parse(chs);\n                    if (Array.isArray(arr)) {\n                        setChapters(arr);\n                        const valid = arr.length > 0;\n                        setHasChaptersCache(valid);\n                        if (valid) setLoadingCh(false);\n                    }\n                }\n                // Hydrate tabs and active tab\n                const t = window.localStorage.getItem(tabsCacheKey);\n                if (t) {\n                    const arr = JSON.parse(t);\n                    if (Array.isArray(arr)) setTabs(arr);\n                }\n                const at = window.localStorage.getItem(activeTabKey);\n                if (at) setActiveId(at);\n                // Hydrate UI toggles\n                const lc = window.localStorage.getItem(leftCollapsedKey);\n                if (lc !== null) setLeftCollapsed(lc === \"1\");\n                const ro = window.localStorage.getItem(rightOpenKey);\n                if (ro !== null) setRightOpen(ro === \"1\");\n            }\n        } catch (e) {}\n    }, [\n        chatsCacheKey,\n        chatsActiveKey,\n        chaptersCacheKey,\n        tabsCacheKey,\n        activeTabKey,\n        leftCollapsedKey,\n        rightOpenKey\n    ]);\n    // Helper: sort chapters by createdAt asc (fallback by title)\n    const sortChapters = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((arr)=>{\n        return [\n            ...arr\n        ].sort((a, b)=>{\n            const ta = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n            const tb = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n            if (ta !== tb) return ta - tb;\n            return (a.title || \"\").localeCompare(b.title || \"\");\n        });\n    }, []);\n    // Load chapters for tree\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasChaptersCache) {\n                return;\n            }\n            try {\n                setLoadingCh(true);\n                const { items } = await api.listChaptersPaginated(projectId, 0, 100);\n                if (!mounted) return;\n                setChapters(sortChapters(items));\n            } catch (e) {\n                if (mounted) setErrorCh((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load chapters\");\n            } finally{\n                if (mounted) setLoadingCh(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        sortChapters,\n        hasChaptersCache\n    ]);\n    // Reflect settings updates triggered from Chat or elsewhere immediately\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onSettings = (e)=>{\n            const detail = (e === null || e === void 0 ? void 0 : e.detail) || {};\n            const changes = detail.changes || {};\n            if (changes.mode) setProjMode(changes.mode);\n            if (changes.genre !== undefined) setProjGenre(changes.genre || \"\");\n            if (changes.coreConflict !== undefined) setProjCoreConflict(changes.coreConflict || \"\");\n            if (changes.settingsJson !== undefined) {\n                try {\n                    setProjSettingsJson(typeof changes.settingsJson === \"string\" ? changes.settingsJson : JSON.stringify(changes.settingsJson));\n                } catch (e) {\n                    setProjSettingsJson(\"\");\n                }\n            }\n        };\n        const onMode = (e)=>{\n            var _e_detail;\n            const m = e === null || e === void 0 ? void 0 : (_e_detail = e.detail) === null || _e_detail === void 0 ? void 0 : _e_detail.mode;\n            if (m === \"novel\" || m === \"manhwa\") setProjMode(m);\n        };\n        if (true) {\n            window.addEventListener(\"project:settings-updated\", onSettings);\n            window.addEventListener(\"project:mode-updated\", onMode);\n        }\n        return ()=>{\n            if (true) {\n                window.removeEventListener(\"project:settings-updated\", onSettings);\n                window.removeEventListener(\"project:mode-updated\", onMode);\n            }\n        };\n    }, []);\n    // Listen for chat actions to create/open chapters in editor\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handler = async (e)=>{\n            try {\n                const detail = (e === null || e === void 0 ? void 0 : e.detail) || {};\n                const t = String(detail.title || \"Untitled Chapter\");\n                const c = detail.content !== undefined ? String(detail.content) : \"\";\n                var _detail_panel_script;\n                const panel_script = (_detail_panel_script = detail.panel_script) !== null && _detail_panel_script !== void 0 ? _detail_panel_script : undefined;\n                const res = await api.createChapter(projectId, panel_script ? {\n                    title: t,\n                    panel_script\n                } : {\n                    title: t,\n                    content: c\n                });\n                const newId = res.id;\n                const createdAt = res.createdAt;\n                setChapters((prev)=>sortChapters([\n                        ...prev,\n                        {\n                            id: newId,\n                            title: res.title,\n                            content: panel_script ? \"\" : c,\n                            createdAt\n                        }\n                    ]));\n                setTabs((prev)=>prev.includes(newId) ? prev : [\n                        ...prev,\n                        newId\n                    ]);\n                setActiveId(newId);\n                setTitle(res.title);\n                setContent(panel_script ? \"\" : c);\n            } catch (e) {}\n        };\n        if (true) window.addEventListener(\"workspace:create-draft\", handler);\n        return ()=>{\n            if (true) window.removeEventListener(\"workspace:create-draft\", handler);\n        };\n    }, [\n        api,\n        projectId,\n        sortChapters\n    ]);\n    // Listen for chat-driven chapter updates (rewrite)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handler = async (e)=>{\n            const detail = (e === null || e === void 0 ? void 0 : e.detail) || {};\n            const content = String(detail.content || \"\");\n            let targetId = detail.id || null;\n            if (!targetId) {\n                // Resolve by chapter_number (1-based) against sorted order\n                if (detail.chapter_number && Number.isInteger(detail.chapter_number)) {\n                    var _sorted_idx;\n                    const sorted = sortChapters(chapters);\n                    const idx = Math.max(0, Math.min(sorted.length - 1, detail.chapter_number - 1));\n                    targetId = ((_sorted_idx = sorted[idx]) === null || _sorted_idx === void 0 ? void 0 : _sorted_idx.id) || null;\n                } else if (detail.title) {\n                    const match = chapters.find((c)=>(c.title || \"\").toLowerCase() === String(detail.title).toLowerCase());\n                    targetId = (match === null || match === void 0 ? void 0 : match.id) || null;\n                }\n            }\n            if (!targetId) return;\n            try {\n                const updated = await api.updateChapter(projectId, targetId, {\n                    content\n                });\n                setChapters((prev)=>prev.map((c)=>c.id === targetId ? {\n                            ...c,\n                            content\n                        } : c));\n                // Open or refresh active tab\n                if (!tabs.includes(targetId)) setTabs((prev)=>[\n                        ...prev,\n                        targetId\n                    ]);\n                setActiveId(targetId);\n                if (activeId === targetId) setContent(content);\n            } catch (e) {}\n        };\n        if (true) window.addEventListener(\"workspace:update-chapter\", handler);\n        return ()=>{\n            if (true) window.removeEventListener(\"workspace:update-chapter\", handler);\n        };\n    }, [\n        api,\n        projectId,\n        chapters,\n        tabs,\n        activeId,\n        sortChapters\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            try {\n                const p = await api.getProject(projectId);\n                if (!mounted) return;\n                setProjectTitle((p === null || p === void 0 ? void 0 : p.title) || \"\");\n                setProjectDescription((p === null || p === void 0 ? void 0 : p.description) || \"\");\n                try {\n                    if ((p === null || p === void 0 ? void 0 : p.mode) && (p.mode === \"novel\" || p.mode === \"manhwa\")) setProjMode(p.mode);\n                    if (typeof (p === null || p === void 0 ? void 0 : p.genre) === \"string\") setProjGenre(p.genre);\n                    if (typeof (p === null || p === void 0 ? void 0 : p.coreConflict) === \"string\") setProjCoreConflict(p.coreConflict);\n                    if ((p === null || p === void 0 ? void 0 : p.settingsJson) !== undefined) {\n                        setProjSettingsJson(typeof p.settingsJson === \"string\" ? p.settingsJson : JSON.stringify(p.settingsJson));\n                    }\n                } catch (e) {}\n            } catch (e) {}\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId\n    ]);\n    // Load chats (hydrate from cache first, then revalidate)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasChatsCache) {\n                return;\n            }\n            try {\n                const xs = await api.listChats(projectId);\n                if (!mounted) return;\n                const next = xs || [];\n                try {\n                    if (hasChatsCache && JSON.stringify(next) === JSON.stringify(chatsRef.current)) {\n                        return;\n                    }\n                } catch (e) {}\n                setChats(next);\n                if (!activeChatId) {\n                    if (next && next.length) setActiveChatId(next[0].id);\n                    else {\n                        // ensure at least one plot chat exists\n                        const created = await api.createChat(projectId, {\n                            type: \"plot\"\n                        });\n                        setChats([\n                            created\n                        ]);\n                        setActiveChatId(created.id);\n                    }\n                }\n            } catch (e) {}\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        hasChatsCache,\n        activeChatId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        chatsRef.current = chats;\n    }, [\n        chats\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(chatsCacheKey, JSON.stringify(chats));\n        } catch (e) {}\n        setHasChatsCache(Array.isArray(chats) && chats.length > 0);\n    }, [\n        chats,\n        chatsCacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if ( true && activeChatId) window.localStorage.setItem(chatsActiveKey, activeChatId);\n        } catch (e) {}\n    }, [\n        activeChatId,\n        chatsActiveKey\n    ]);\n    // Persist chapters cache\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(chaptersCacheKey, JSON.stringify(chapters));\n        } catch (e) {}\n        setHasChaptersCache(Array.isArray(chapters) && chapters.length > 0);\n    }, [\n        chapters,\n        chaptersCacheKey\n    ]);\n    // Persist tabs and active tab\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(tabsCacheKey, JSON.stringify(tabs));\n        } catch (e) {}\n    }, [\n        tabs,\n        tabsCacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if ( true && activeId) window.localStorage.setItem(activeTabKey, activeId);\n        } catch (e) {}\n    }, [\n        activeId,\n        activeTabKey\n    ]);\n    // Persist UI toggles\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(leftCollapsedKey, leftCollapsed ? \"1\" : \"0\");\n        } catch (e) {}\n    }, [\n        leftCollapsed,\n        leftCollapsedKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(rightOpenKey, rightOpen ? \"1\" : \"0\");\n        } catch (e) {}\n    }, [\n        rightOpen,\n        rightOpenKey\n    ]);\n    const openTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setTabs((prev)=>prev.includes(id) ? prev : [\n                ...prev,\n                id\n            ]);\n        setActiveId(id);\n        const ch = chapters.find((c)=>c.id === id);\n        setTitle((ch === null || ch === void 0 ? void 0 : ch.title) || \"\");\n        setContent((ch === null || ch === void 0 ? void 0 : ch.content) || \"\");\n    }, [\n        chapters\n    ]);\n    const closeTab = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setTabs((prev)=>prev.filter((t)=>t !== id));\n        setActiveId((curr)=>{\n            if (curr !== id) return curr;\n            const idx = tabs.indexOf(id);\n            const next = tabs[idx + 1] || tabs[idx - 1] || null;\n            return next || null;\n        });\n    }, [\n        tabs\n    ]);\n    // Hydrate editor fields when activeId and chapters are restored from cache\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeId) return;\n        if (activeId === SETTINGS_TAB_ID || activeId === CHARACTERS_TAB_ID || activeId === WORLD_TAB_ID) return;\n        const ch = chapters.find((c)=>c.id === activeId);\n        if (!ch) return;\n        setTitle(ch.title || \"\");\n        setContent(ch.content || \"\");\n    }, [\n        activeId,\n        chapters\n    ]);\n    const onDragStart = (e, id)=>{\n        e.dataTransfer.setData(\"text/tab\", id);\n    };\n    const onDrop = (e, targetId)=>{\n        const srcId = e.dataTransfer.getData(\"text/tab\");\n        if (!srcId || srcId === targetId) return;\n        setTabs((prev)=>{\n            const arr = [\n                ...prev\n            ];\n            const si = arr.indexOf(srcId);\n            const ti = arr.indexOf(targetId);\n            if (si < 0 || ti < 0) return prev;\n            arr.splice(ti, 0, arr.splice(si, 1)[0]);\n            return arr;\n        });\n    };\n    // Persist edits (debounced)\n    const scheduleSave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id, t, c)=>{\n        if (!id) return;\n        if (saveTimer.current) clearTimeout(saveTimer.current);\n        saveTimer.current = setTimeout(async ()=>{\n            setSaving(true);\n            try {\n                await api.updateChapter(projectId, id, {\n                    title: t,\n                    content: c\n                });\n                setChapters((prev)=>prev.map((ch)=>ch.id === id ? {\n                            ...ch,\n                            title: t,\n                            content: c\n                        } : ch));\n            } finally{\n                setSaving(false);\n            }\n        }, 500);\n    }, [\n        api,\n        projectId\n    ]);\n    // Active change handlers\n    const onTitleChange = (v)=>{\n        if (!activeId) return;\n        setTitle(v);\n        scheduleSave(activeId, v, content);\n    };\n    const onContentChange = (v)=>{\n        if (!activeId) return;\n        setContent(v);\n        scheduleSave(activeId, title, v);\n    };\n    const onNewChapter = async ()=>{\n        try {\n            const res = await api.createChapter(projectId, {\n                title: \"Untitled Chapter\"\n            });\n            const createdAt = res.createdAt;\n            setChapters((prev)=>sortChapters([\n                    ...prev,\n                    {\n                        id: res.id,\n                        title: res.title,\n                        content: \"\",\n                        createdAt\n                    }\n                ]));\n            openTab(res.id);\n        } catch (e) {}\n    };\n    const onDeleteChapter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id)=>{\n        try {\n            // eslint-disable-next-line no-alert\n            if (!confirm(\"Delete this chapter permanently?\")) return;\n            setDeletingId(id);\n            await api.deleteChapter(projectId, id);\n            setChapters((prev)=>prev.filter((c)=>c.id !== id));\n            setTabs((prev)=>prev.filter((t)=>t !== id));\n            setActiveId((curr)=>curr === id ? null : curr);\n        } catch (e) {\n            const msg = e instanceof Error ? e.message : \"Failed to delete\";\n            setErrorCh(msg);\n        } finally{\n            setDeletingId(null);\n        }\n    }, [\n        api,\n        projectId\n    ]);\n    const activeChapter = chapters.find((c)=>c.id === activeId) || null;\n    const gridCols = \"\".concat(leftCollapsed ? \"\" : \"260px \", \"1fr\").concat(rightOpen ? \" 260px\" : \"\");\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen w-screen bg-bg-primary text-text-primary grid grid-rows-[auto_1fr] relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-12 border-b border-border-default bg-bg-primary flex items-center relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 min-w-0 flex items-stretch gap-1 px-2 overflow-x-auto\",\n                        children: tabs.map((id)=>{\n                            const ch = chapters.find((c)=>c.id === id);\n                            const active = id === activeId;\n                            const label = id === SETTINGS_TAB_ID ? \"Settings\" : id === CHARACTERS_TAB_ID ? \"Characters\" : (ch === null || ch === void 0 ? void 0 : ch.title) || \"Untitled\";\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                draggable: true,\n                                onDragStart: (e)=>onDragStart(e, id),\n                                onDragOver: (e)=>e.preventDefault(),\n                                onDrop: (e)=>onDrop(e, id),\n                                onMouseDown: (e)=>{\n                                    if (e.button === 1) {\n                                        e.preventDefault();\n                                        closeTab(id);\n                                    }\n                                },\n                                className: \"group flex items-center gap-2 px-4 h-10 rounded-t-md transition-all duration-150 \".concat(active ? \"bg-bg-elevated text-text-primary\" : \"text-text-tertiary hover:text-text-secondary hover:bg-bg-hover\"),\n                                onClick: ()=>setActiveId(id),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm truncate max-w-[160px]\",\n                                        children: label\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 429,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity duration-150\",\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            closeTab(id);\n                                        },\n                                        children: \"\\xd7\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 430,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, id, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 419,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 413,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 flex items-center justify-center pointer-events-none\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm font-semibold text-text-primary truncate max-w-[60%] tracking-elegant\",\n                            children: projectTitle || \"Project\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 436,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 435,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute right-2 top-1 z-10 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"text-xs px-3 py-1.5 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150\",\n                                onClick: ()=>setSettingsMenuOpen((v)=>!v),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"sr-only\",\n                                        children: \"Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 443,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        className: \"w-4 h-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 444,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 439,\n                                columnNumber: 11\n                            }, this),\n                            settingsMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute right-0 top-10 z-20 w-48 rounded-lg border border-border-default bg-bg-elevated shadow-elevation\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            // Open settings as a central tab\n                                            if (!tabs.includes(SETTINGS_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    SETTINGS_TAB_ID\n                                                ]);\n                                            setActiveId(SETTINGS_TAB_ID);\n                                            setRenameTitle(projectTitle || \"\");\n                                            setRenameDesc(projectDescription || \"\");\n                                            setRenameError(null);\n                                        },\n                                        children: \"Project Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 448,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            if (!tabs.includes(WORLD_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    WORLD_TAB_ID\n                                                ]);\n                                            setActiveId(WORLD_TAB_ID);\n                                        },\n                                        children: \"World Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 460,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full text-left px-3 py-2 text-sm text-text-secondary hover:bg-bg-hover hover:text-text-primary transition-all duration-150\",\n                                        onClick: ()=>{\n                                            setSettingsMenuOpen(false);\n                                            if (!tabs.includes(CHARACTERS_TAB_ID)) setTabs((prev)=>[\n                                                    ...prev,\n                                                    CHARACTERS_TAB_ID\n                                                ]);\n                                            setActiveId(CHARACTERS_TAB_ID);\n                                        },\n                                        children: \"Characters\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 468,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 447,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 438,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 412,\n                columnNumber: 7\n            }, this),\n            leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"absolute left-2 top-14 z-10 text-xs px-3 py-2 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150 flex items-center gap-1 shadow-elevation\",\n                onClick: ()=>setLeftCollapsed(false),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        className: \"w-4 h-4\",\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 486,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: \"Chapters\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 487,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 482,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid min-h-0\",\n                style: {\n                    gridTemplateColumns: gridCols\n                },\n                children: [\n                    !leftCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"border-r border-border-default bg-bg-primary min-h-0 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-5 py-4 text-xs font-semibold tracking-[0.05em] uppercase flex items-center justify-between text-text-secondary\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"CHAPTERS\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 497,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                        onClick: ()=>setLeftCollapsed(true),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-4 h-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 499,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"sr-only\",\n                                                children: \"Collapse\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 500,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 498,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 496,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto px-4\",\n                                children: [\n                                    loadingCh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-text-secondary px-2 py-2\",\n                                        children: \"Loadingâ€¦\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 504,\n                                        columnNumber: 27\n                                    }, this),\n                                    errorCh && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-red-400 px-2 py-2 bg-red-950/20 rounded-md border border-red-500/20\",\n                                        children: errorCh\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 505,\n                                        columnNumber: 25\n                                    }, this),\n                                    chapters.map((c, idx)=>{\n                                        const wordCount = c.content ? c.content.trim().split(/\\s+/).filter(Boolean).length : 0;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"group w-full flex items-start justify-between gap-2 px-3 py-3 rounded-lg mb-2 transition-all duration-150 \".concat(activeId === c.id ? \"bg-bg-elevated border-l-3 border-accent\" : \"hover:bg-bg-hover\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"flex-1 text-left\",\n                                                    onClick: ()=>openTab(c.id),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs uppercase text-text-tertiary mb-1\",\n                                                            children: [\n                                                                \"Chapter \",\n                                                                idx + 1\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 514,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm font-medium mb-1 \".concat(activeId === c.id ? \"text-text-primary\" : \"text-text-secondary\"),\n                                                            children: c.title || \"Untitled\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 515,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: [\n                                                                wordCount,\n                                                                \" words\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 516,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 510,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"opacity-0 group-hover:opacity-100 transition-opacity duration-150 \".concat(deletingId === c.id ? \"text-red-400 opacity-60 cursor-not-allowed\" : \"text-text-tertiary hover:text-red-400\"),\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        if (deletingId) return;\n                                                        void onDeleteChapter(c.id);\n                                                    },\n                                                    title: \"Delete chapter\",\n                                                    disabled: deletingId === c.id,\n                                                    children: [\n                                                        deletingId === c.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                            className: \"w-4 h-4 animate-spin\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 524,\n                                                            columnNumber: 42\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                            className: \"w-4 h-4\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 524,\n                                                            columnNumber: 108\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"sr-only\",\n                                                            children: \"Delete\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 525,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 518,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, c.id, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 509,\n                                            columnNumber: 15\n                                        }, this);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 503,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4 border-t border-border-default\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"w-full rounded-lg bg-bg-elevated border border-border-default hover:border-accent hover:bg-bg-hover text-text-secondary hover:text-text-primary text-sm px-4 py-3 flex items-center justify-center gap-2 transition-all duration-150 hover:-translate-y-0.5\",\n                                    onClick: onNewChapter,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            className: \"w-4 h-4\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 532,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"New Chapter\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 533,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 531,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 530,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 495,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"min-h-0 overflow-hidden bg-bg-primary flex flex-col\",\n                        children: activeId === SETTINGS_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full grid grid-rows-[auto_1fr_auto] bg-bg-elevated\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-b border-border-default px-6 py-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-base font-semibold text-text-primary tracking-elegant\",\n                                        children: \"Project Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 544,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 543,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-h-0 overflow-y-auto px-6 py-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid gap-4 max-w-2xl\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Title\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 549,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: renameTitle,\n                                                        onChange: (e)=>setRenameTitle(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 550,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 548,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Description\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 557,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        value: renameDesc,\n                                                        onChange: (e)=>setRenameDesc(e.target.value),\n                                                        rows: 3,\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150 text-sm\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 558,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 556,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Mode\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 566,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        value: projMode,\n                                                        onChange: (e)=>setProjMode(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent transition-colors duration-150\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"\",\n                                                                children: \"Selectâ€¦\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 572,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"novel\",\n                                                                children: \"Novel\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 573,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: \"manhwa\",\n                                                                children: \"Manhwa\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 574,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 567,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 565,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Genre\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 578,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: projGenre,\n                                                        onChange: (e)=>setProjGenre(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 579,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 577,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Core Conflict\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 587,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: projCoreConflict,\n                                                        onChange: (e)=>setProjCoreConflict(e.target.value),\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 588,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 586,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"grid gap-2 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                        children: \"Settings JSON\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 595,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        value: projSettingsJson,\n                                                        onChange: (e)=>setProjSettingsJson(e.target.value),\n                                                        rows: 10,\n                                                        className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150 font-mono text-xs\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 596,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 594,\n                                                columnNumber: 19\n                                            }, this),\n                                            renameError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-red-400 p-3 rounded-lg bg-red-950/20 border border-red-500/20\",\n                                                children: renameError\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 603,\n                                                columnNumber: 35\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 547,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 546,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-14 px-6 flex items-center justify-end gap-3 border-t border-border-default bg-bg-primary\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setActiveId(null),\n                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                            children: \"Close\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 607,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            disabled: savingRename,\n                                            onClick: async ()=>{\n                                                setSavingRename(true);\n                                                setRenameError(null);\n                                                try {\n                                                    const updateBody = {};\n                                                    const t = renameTitle.trim();\n                                                    if (t && t !== projectTitle) updateBody.title = t;\n                                                    if (renameDesc !== projectDescription) updateBody.description = renameDesc;\n                                                    if (Object.keys(updateBody).length > 0) {\n                                                        const updated = await api.updateProject(projectId, updateBody);\n                                                        setProjectTitle((updated === null || updated === void 0 ? void 0 : updated.title) || t || projectTitle);\n                                                        var _updated_description, _ref;\n                                                        setProjectDescription((_ref = (_updated_description = updated === null || updated === void 0 ? void 0 : updated.description) !== null && _updated_description !== void 0 ? _updated_description : renameDesc) !== null && _ref !== void 0 ? _ref : projectDescription);\n                                                    }\n                                                    const changes = {};\n                                                    if (projMode) changes.mode = projMode;\n                                                    if (projGenre) changes.genre = projGenre;\n                                                    if (projCoreConflict) changes.coreConflict = projCoreConflict;\n                                                    if (projSettingsJson) {\n                                                        try {\n                                                            changes.settingsJson = JSON.parse(projSettingsJson);\n                                                        } catch (e) {\n                                                            changes.settingsJson = projSettingsJson;\n                                                        }\n                                                    }\n                                                    if (Object.keys(changes).length > 0) {\n                                                        await api.updateProjectSettings(projectId, changes);\n                                                        if (true) {\n                                                            window.dispatchEvent(new CustomEvent(\"project:settings-updated\", {\n                                                                detail: {\n                                                                    projectId,\n                                                                    changes\n                                                                }\n                                                            }));\n                                                        }\n                                                        // Toast: Settings saved\n                                                        if (toastTimer.current) clearTimeout(toastTimer.current);\n                                                        setToastMsg(\"Settings saved\");\n                                                        toastTimer.current = setTimeout(()=>setToastMsg(\"\"), 3000);\n                                                    }\n                                                } catch (e) {\n                                                    setRenameError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to save\");\n                                                } finally{\n                                                    setSavingRename(false);\n                                                }\n                                            },\n                                            className: \"px-4 py-2 rounded-md bg-accent hover:bg-accent-hover disabled:opacity-50 text-white transition-all duration-150\",\n                                            children: savingRename ? \"Savingâ€¦\" : \"Save Settings\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 608,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 606,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 542,\n                            columnNumber: 13\n                        }, this) : activeId === CHARACTERS_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_workspace_CharacterManager__WEBPACK_IMPORTED_MODULE_5__.CharacterManager, {\n                                projectId: projectId,\n                                requireImage: projMode === \"manhwa\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 654,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 653,\n                            columnNumber: 13\n                        }, this) : activeId === WORLD_TAB_ID ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_workspace_WorldSettingsManager__WEBPACK_IMPORTED_MODULE_6__.WorldSettingsManager, {\n                                projectId: projectId\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 658,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 657,\n                            columnNumber: 13\n                        }, this) : activeId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-h-0 overflow-y-auto bg-bg-elevated flex justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full max-w-[800px] px-12 py-16\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: title,\n                                                onChange: (e)=>onTitleChange(e.target.value),\n                                                placeholder: \"Chapter Title\",\n                                                className: \"w-full bg-transparent border-none text-[32px] font-bold text-text-primary placeholder:text-text-tertiary outline-none mb-8 tracking-tight\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 666,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                contentEditable: true,\n                                                suppressContentEditableWarning: true,\n                                                onInput: (e)=>onContentChange(e.currentTarget.textContent || \"\"),\n                                                className: \"w-full min-h-[400px] text-lg leading-[1.8] text-text-primary outline-none\",\n                                                style: {\n                                                    whiteSpace: \"pre-wrap\"\n                                                },\n                                                children: content\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 673,\n                                                columnNumber: 19\n                                            }, this),\n                                            !content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-lg text-text-tertiary pointer-events-none -mt-[400px] leading-[1.8]\",\n                                                children: \"Start writing your story...\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 683,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 664,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 663,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-12 bg-bg-primary border-t border-border-default px-6 flex items-center justify-between text-[13px] text-text-tertiary\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-6\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-1.5 h-1.5 rounded-full \".concat(saving ? \"bg-warning animate-pulse\" : \"bg-success\")\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 691,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: saving ? \"Savingâ€¦\" : \"Saved\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 692,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 690,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        content.trim().split(/\\s+/).filter(Boolean).length,\n                                                        \" words\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 694,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        content.length,\n                                                        \" characters\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 695,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        Math.ceil(content.trim().split(/\\s+/).filter(Boolean).length / 200),\n                                                        \" min read\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 696,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 689,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: (activeChapter === null || activeChapter === void 0 ? void 0 : activeChapter.createdAt) && \"Last edited \".concat(new Date(activeChapter.createdAt).toLocaleString())\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 698,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 688,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 661,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full bg-bg-elevated flex items-center justify-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center max-w-md\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-base font-semibold text-text-primary mb-2\",\n                                        children: \"No Chapter Selected\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 706,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-text-secondary\",\n                                        children: \"Open a chapter from the left sidebar to start editing.\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 707,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 705,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 704,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 540,\n                        columnNumber: 9\n                    }, this),\n                    rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"border-l border-border-default bg-bg-primary min-h-0 flex flex-col relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-5 py-4 text-xs font-semibold tracking-[0.05em] uppercase flex items-center justify-between text-text-secondary\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"flex items-center gap-2 text-text-secondary hover:text-text-primary\",\n                                        onClick: ()=>setChatMenuOpen((v)=>!v),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"truncate max-w-[140px] text-text-primary normal-case text-sm font-medium\",\n                                                children: ((_chats_find = chats.find((c)=>c.id === activeChatId)) === null || _chats_find === void 0 ? void 0 : _chats_find.title) || \"Select chat\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 718,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                className: \"w-3.5 h-3.5 transition-transform \".concat(chatMenuOpen ? \"rotate-180\" : \"\"),\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 719,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 717,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                                onClick: ()=>{\n                                                    setNewChatOpen(true);\n                                                    setChatMenuOpen(true);\n                                                },\n                                                title: \"New Chat\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"w-4 h-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                    lineNumber: 723,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 722,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-accent rounded p-1 hover:bg-bg-hover transition-all duration-150\",\n                                                onClick: ()=>setRightOpen(false),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 726,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"sr-only\",\n                                                        children: \"Collapse\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 727,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 725,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 721,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 716,\n                                columnNumber: 11\n                            }, this),\n                            chatMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute left-3 right-3 top-14 z-20 rounded-lg border border-border-default bg-bg-elevated shadow-elevation\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 border-b border-border-default flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-semibold text-text-primary\",\n                                                children: \"Chats\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 734,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-text-tertiary hover:text-text-primary\",\n                                                onClick: ()=>setChatMenuOpen(false),\n                                                children: \"âœ•\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 735,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 733,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 space-y-3\",\n                                        children: [\n                                            newChatOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border border-border-default rounded-lg p-3 bg-bg-primary\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary mb-2\",\n                                                        children: \"Create a new chat\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 740,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2 mb-2\",\n                                                        children: [\n                                                            \"plot\",\n                                                            \"character\",\n                                                            \"world\"\n                                                        ].map((t)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-xs px-3 py-1.5 rounded-md border cursor-pointer \".concat(newChatType === t ? \"border-accent text-accent\" : \"border-border-default text-text-secondary hover:text-text-primary\"),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"radio\",\n                                                                        name: \"chat-type\",\n                                                                        className: \"hidden\",\n                                                                        checked: newChatType === t,\n                                                                        onChange: ()=>setNewChatType(t)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                        lineNumber: 744,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    t\n                                                                ]\n                                                            }, t, true, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 743,\n                                                                columnNumber: 25\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 741,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        value: newChatTitle,\n                                                        onChange: (e)=>setNewChatTitle(e.target.value),\n                                                        placeholder: \"Title (optional)\",\n                                                        className: \"w-full bg-bg-elevated border border-border-default rounded-md px-3 py-2 text-text-primary outline-none focus:border-accent text-sm\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 748,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    createChatError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2 text-xs text-red-400\",\n                                                        children: createChatError\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 749,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-3 flex items-center justify-end gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"px-3 py-1.5 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover\",\n                                                                onClick: ()=>{\n                                                                    setNewChatOpen(false);\n                                                                    setNewChatTitle(\"\");\n                                                                    setCreateChatError(null);\n                                                                },\n                                                                children: \"Cancel\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 751,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"px-3 py-1.5 rounded-md bg-accent hover:bg-accent-hover text-white disabled:opacity-50\",\n                                                                disabled: creatingChat,\n                                                                onClick: async ()=>{\n                                                                    setCreatingChat(true);\n                                                                    setCreateChatError(null);\n                                                                    try {\n                                                                        const c = await api.createChat(projectId, {\n                                                                            type: newChatType,\n                                                                            title: newChatTitle || undefined\n                                                                        });\n                                                                        setChats((prev)=>[\n                                                                                ...prev,\n                                                                                c\n                                                                            ]);\n                                                                        setActiveChatId(c.id);\n                                                                        setNewChatOpen(false);\n                                                                        setNewChatTitle(\"\");\n                                                                        setChatMenuOpen(false);\n                                                                    } catch (e) {\n                                                                        setCreateChatError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to create chat\");\n                                                                    } finally{\n                                                                        setCreatingChat(false);\n                                                                    }\n                                                                },\n                                                                children: creatingChat ? \"Creatingâ€¦\" : \"Create\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 752,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 750,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 739,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"max-h-64 overflow-y-auto pr-1\",\n                                                children: [\n                                                    !chats.length && !newChatOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-tertiary px-2 py-2\",\n                                                        children: [\n                                                            \"No chats yet. \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"underline\",\n                                                                onClick: ()=>{\n                                                                    setNewChatType(\"plot\");\n                                                                    setNewChatOpen(true);\n                                                                },\n                                                                children: \"Create your first chat\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                lineNumber: 770,\n                                                                columnNumber: 89\n                                                            }, this),\n                                                            \".\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                        lineNumber: 770,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    chats.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"group w-full flex items-center justify-between gap-2 px-3 py-2 rounded-md mb-1 transition-all duration-150 \".concat(activeChatId === c.id ? \"bg-bg-hover\" : \"hover:bg-bg-hover\"),\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"flex-1 text-left\",\n                                                                    onClick: ()=>{\n                                                                        setActiveChatId(c.id);\n                                                                        setChatMenuOpen(false);\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-[10px] uppercase text-text-tertiary mb-0.5\",\n                                                                            children: c.type\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 775,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-sm font-medium \".concat(activeChatId === c.id ? \"text-text-primary\" : \"text-text-secondary\"),\n                                                                            children: c.title\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 776,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                    lineNumber: 774,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"opacity-0 group-hover:opacity-100 transition-opacity duration-150 text-text-tertiary hover:text-red-400\",\n                                                                    onClick: async (e)=>{\n                                                                        e.stopPropagation();\n                                                                        if (!confirm(\"Delete this chat?\")) return;\n                                                                        try {\n                                                                            var _chats_find;\n                                                                            await api.deleteChat(projectId, c.id);\n                                                                            setChats((prev)=>prev.filter((x)=>x.id !== c.id));\n                                                                            if (activeChatId === c.id) setActiveChatId(((_chats_find = chats.find((x)=>x.id !== c.id)) === null || _chats_find === void 0 ? void 0 : _chats_find.id) || null);\n                                                                        } catch (e) {}\n                                                                    },\n                                                                    title: \"Delete chat\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_ChevronLeft_ChevronRight_Loader2_Plus_Settings_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                            className: \"w-4 h-4\",\n                                                                            \"aria-hidden\": \"true\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 783,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"sr-only\",\n                                                                            children: \"Delete\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                            lineNumber: 784,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                                    lineNumber: 778,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, c.id, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                            lineNumber: 773,\n                                                            columnNumber: 21\n                                                        }, this))\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                                lineNumber: 768,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                        lineNumber: 737,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 732,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"min-h-0 flex-1 overflow-hidden border-t border-border-default\",\n                                children: activeChatId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_Chat__WEBPACK_IMPORTED_MODULE_4__.Chat, {\n                                    chatId: activeChatId\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 795,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full grid place-items-center text-xs text-text-tertiary\",\n                                    children: \"Open the chat menu to create or select a chat.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 797,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                lineNumber: 793,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                        lineNumber: 715,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 492,\n                columnNumber: 7\n            }, this),\n            !rightOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"absolute right-2 top-14 z-10 text-xs px-3 py-2 rounded-md border border-border-default bg-bg-elevated text-text-secondary hover:text-accent hover:border-accent transition-all duration-150 flex items-center gap-1 shadow-elevation\",\n                onClick: ()=>setRightOpen(true),\n                children: \"Open Chats\"\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 805,\n                columnNumber: 9\n            }, this),\n            settingsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 grid place-items-center bg-black/60 backdrop-blur-sm\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full max-w-md bg-bg-elevated border border-border-default rounded-xl p-6 shadow-elevation\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-text-primary\",\n                                    children: \"Project Settings\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 814,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setSettingsOpen(false),\n                                    className: \"text-text-tertiary hover:text-text-primary transition-colors duration-150\",\n                                    children: \"âœ•\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 815,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 813,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"grid gap-1 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-text-tertiary\",\n                                            children: \"Title\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 819,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: renameTitle,\n                                            onChange: (e)=>setRenameTitle(e.target.value),\n                                            className: \"bg-bg-primary border border-border-default rounded-md px-3 py-2 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent transition-colors duration-150\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 820,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 818,\n                                    columnNumber: 15\n                                }, this),\n                                renameError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-red-400 p-3 rounded-lg bg-red-950/20 border border-red-500/20\",\n                                    children: renameError\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 826,\n                                    columnNumber: 31\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-end gap-2 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setSettingsOpen(false),\n                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 828,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            disabled: savingRename || !renameTitle.trim(),\n                                            onClick: async ()=>{\n                                                setSavingRename(true);\n                                                setRenameError(null);\n                                                try {\n                                                    const updated = await api.updateProject(projectId, {\n                                                        title: renameTitle.trim()\n                                                    });\n                                                    setProjectTitle((updated === null || updated === void 0 ? void 0 : updated.title) || renameTitle.trim());\n                                                    setSettingsOpen(false);\n                                                } catch (e) {\n                                                    setRenameError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to save\");\n                                                } finally{\n                                                    setSavingRename(false);\n                                                }\n                                            },\n                                            className: \"px-4 py-2 rounded-md bg-accent hover:bg-accent-hover disabled:opacity-50 text-white transition-all duration-150\",\n                                            children: savingRename ? \"Savingâ€¦\" : \"Save\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                            lineNumber: 829,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                                    lineNumber: 827,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                            lineNumber: 817,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                    lineNumber: 812,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 811,\n                columnNumber: 9\n            }, this),\n            toastMsg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-4 right-4 z-50 animate-in slide-in-from-bottom-4 duration-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 rounded-lg bg-bg-elevated border border-border-default text-text-primary text-sm shadow-elevation\",\n                    children: toastMsg\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                    lineNumber: 856,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n                lineNumber: 855,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/Workspace.tsx\",\n        lineNumber: 410,\n        columnNumber: 5\n    }, this);\n}\n_s(Workspace, \"CqiMmOEJS8nb6agftorsA/FLv1E=\", false, function() {\n    return [\n        _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase\n    ];\n});\n_c = Workspace;\nvar _c;\n$RefreshReg$(_c, \"Workspace\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3dvcmtzcGFjZS9Xb3Jrc3BhY2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUUwRTtBQUNKO0FBQ2hDO0FBQ1E7QUFDNkI7QUFDUTtBQUNvQztBQVVoSCxTQUFTa0IsVUFBVSxLQUFvQztRQUFwQyxFQUFFQyxTQUFTLEVBQXlCLEdBQXBDO1FBMnJCaUZDOztJQTFyQnpHLE1BQU1DLFdBQVdoQixtRkFBV0E7SUFDNUIsTUFBTWlCLE1BQU1wQiw4Q0FBT0EsQ0FBQyxJQUFNSSxtREFBU0EsQ0FBQ2UsV0FBVztRQUFDQTtLQUFTO0lBRXpELE1BQU0sQ0FBQ0UsVUFBVUMsWUFBWSxHQUFHcEIsK0NBQVFBLENBQWdCLEVBQUU7SUFDMUQsTUFBTSxDQUFDcUIsV0FBV0MsYUFBYSxHQUFHdEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDdUIsU0FBU0MsV0FBVyxHQUFHeEIsK0NBQVFBLENBQWdCO0lBRXRELE1BQU0sQ0FBQ3lCLE1BQU1DLFFBQVEsR0FBRzFCLCtDQUFRQSxDQUFXLEVBQUU7SUFDN0MsTUFBTSxDQUFDMkIsVUFBVUMsWUFBWSxHQUFHNUIsK0NBQVFBLENBQWdCO0lBRXhELE1BQU0sQ0FBQzZCLE9BQU9DLFNBQVMsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQytCLFNBQVNDLFdBQVcsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2lDLFFBQVFDLFVBQVUsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU1tQyxZQUFZcEMsNkNBQU1BLENBQXVDO0lBQy9ELE1BQU0sQ0FBQ3FDLGVBQWVDLGlCQUFpQixHQUFHckMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDc0MsWUFBWUMsY0FBYyxHQUFHdkMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDd0MsWUFBWUMsY0FBYyxHQUFHekMsK0NBQVFBLENBQWdCO0lBQzVELE1BQU0s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QU9vRixHQUFRO29EQUNmNUUsZUFBZTRFLENBQUFBLGNBQUFBLHdCQUFBQSxFQUFHQyxPQUFPLEtBQUk7Z0RBQy9CLFNBQVU7b0RBQ1IvRSxnQkFBZ0I7Z0RBQ2xCOzRDQUNGOzRDQUNBOEosV0FBVTtzREFFVC9KLGVBQWUsWUFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFRdkNjLDBCQUNDLDhEQUFDZ0o7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOzhCQUNaako7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTWI7R0E1MEJnQnBEOztRQUNHYiwrRUFBV0E7OztLQURkYSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy93b3Jrc3BhY2UvV29ya3NwYWNlLnRzeD81ODU4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTdXBhYmFzZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvcHJvdmlkZXJzL1N1cGFiYXNlUHJvdmlkZXJcIjtcbmltcG9ydCB7IGNyZWF0ZUFwaSB9IGZyb20gXCJAL2xpYi9hcGlcIjtcbmltcG9ydCB7IENoYXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL2NoYXQvQ2hhdFwiO1xuaW1wb3J0IHsgQ2hhcmFjdGVyTWFuYWdlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvd29ya3NwYWNlL0NoYXJhY3Rlck1hbmFnZXJcIjtcbmltcG9ydCB7IFdvcmxkU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy93b3Jrc3BhY2UvV29ybGRTZXR0aW5nc01hbmFnZXJcIjtcbmltcG9ydCB7IFNldHRpbmdzIGFzIEljb25TZXR0aW5ncywgQ2hldnJvbkxlZnQsIENoZXZyb25SaWdodCwgUGx1cywgVHJhc2gyLCBMb2FkZXIyLCBDaGV2cm9uRG93biB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxudHlwZSBDaGFwdGVySXRlbSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgY29udGVudD86IHN0cmluZyB8IG51bGw7XG4gIHBhbmVsU2NyaXB0PzogYW55IHwgbnVsbDtcbiAgY3JlYXRlZEF0Pzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFdvcmtzcGFjZSh7IHByb2plY3RJZCB9OiB7IHByb2plY3RJZDogc3RyaW5nIH0pIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSB1c2VTdXBhYmFzZSgpO1xuICBjb25zdCBhcGkgPSB1c2VNZW1vKCgpID0+IGNyZWF0ZUFwaShzdXBhYmFzZSksIFtzdXBhYmFzZV0pO1xuXG4gIGNvbnN0IFtjaGFwdGVycywgc2V0Q2hhcHRlcnNdID0gdXNlU3RhdGU8Q2hhcHRlckl0ZW1bXT4oW10pO1xuICBjb25zdCBbbG9hZGluZ0NoLCBzZXRMb2FkaW5nQ2hdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvckNoLCBzZXRFcnJvckNoXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IFt0YWJzLCBzZXRUYWJzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFthY3RpdmVJZCwgc2V0QWN0aXZlSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NvbnRlbnQsIHNldENvbnRlbnRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNhdmVUaW1lciA9IHVzZVJlZjxSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbGVmdENvbGxhcHNlZCwgc2V0TGVmdENvbGxhcHNlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthaU11c2VPcGVuLCBzZXRBaU11c2VPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RlbGV0aW5nSWQsIHNldERlbGV0aW5nSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwcm9qZWN0VGl0bGUsIHNldFByb2plY3RUaXRsZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbcHJvamVjdERlc2NyaXB0aW9uLCBzZXRQcm9qZWN0RGVzY3JpcHRpb25dID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3NldHRpbmdzT3Blbiwgc2V0U2V0dGluZ3NPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JlbmFtZVRpdGxlLCBzZXRSZW5hbWVUaXRsZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3JlbmFtZURlc2MsIHNldFJlbmFtZURlc2NdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzYXZpbmdSZW5hbWUsIHNldFNhdmluZ1JlbmFtZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZW5hbWVFcnJvciwgc2V0UmVuYW1lRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZXR0aW5nc01lbnVPcGVuLCBzZXRTZXR0aW5nc01lbnVPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb2pNb2RlLCBzZXRQcm9qTW9kZV0gPSB1c2VTdGF0ZTwnbm92ZWwnIHwgJ21hbmh3YScgfCAnJz4oJycpO1xuICBjb25zdCBbcHJvakdlbnJlLCBzZXRQcm9qR2VucmVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgLy8gUmVtb3ZlZCB3b3JsZE5hbWUgZmllbGQgZnJvbSBQcm9qZWN0XG4gIGNvbnN0IFtwcm9qQ29yZUNvbmZsaWN0LCBzZXRQcm9qQ29yZUNvbmZsaWN0XSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtwcm9qU2V0dGluZ3NKc29uLCBzZXRQcm9qU2V0dGluZ3NKc29uXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFt0b2FzdE1zZywgc2V0VG9hc3RNc2ddID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgdG9hc3RUaW1lciA9IHVzZVJlZjxSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IFNFVFRJTkdTX1RBQl9JRCA9ICdfX3NldHRpbmdzX18nO1xuICBjb25zdCBDSEFSQUNURVJTX1RBQl9JRCA9ICdfX2NoYXJhY3RlcnNfXyc7XG4gIGNvbnN0IFdPUkxEX1RBQl9JRCA9ICdfX3dvcmxkX18nO1xuXG4gIC8vIENoYXRzIHNpZGViYXIgKHJpZ2h0KVxuICBjb25zdCBbcmlnaHRPcGVuLCBzZXRSaWdodE9wZW5dID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IGNoYXRzQ2FjaGVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9jaGF0c2AsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgY2hhdHNBY3RpdmVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9hY3RpdmVfY2hhdGAsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgY2hhcHRlcnNDYWNoZUtleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X2NoYXB0ZXJzYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCB0YWJzQ2FjaGVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9vcGVuX3RhYnNgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGFjdGl2ZVRhYktleSA9IHVzZU1lbW8oKCkgPT4gYGlua3ZlcnNlX3Byb2plY3RfJHtwcm9qZWN0SWR9X2FjdGl2ZV90YWJgLCBbcHJvamVjdElkXSk7XG4gIGNvbnN0IGxlZnRDb2xsYXBzZWRLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9sZWZ0X2NvbGxhcHNlZGAsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgcmlnaHRPcGVuS2V5ID0gdXNlTWVtbygoKSA9PiBgaW5rdmVyc2VfcHJvamVjdF8ke3Byb2plY3RJZH1fcmlnaHRfb3BlbmAsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgW2NoYXRzLCBzZXRDaGF0c10gPSB1c2VTdGF0ZTxBcnJheTx7IGlkOiBzdHJpbmc7IHR5cGU6ICdwbG90J3wnY2hhcmFjdGVyJ3wnd29ybGQnOyB0aXRsZTogc3RyaW5nIH0+PihbXSk7XG4gIGNvbnN0IFthY3RpdmVDaGF0SWQsIHNldEFjdGl2ZUNoYXRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2hhc0NoYXRzQ2FjaGUsIHNldEhhc0NoYXRzQ2FjaGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBjaGF0c1JlZiA9IHVzZVJlZihjaGF0cyk7XG4gIGNvbnN0IFtuZXdDaGF0VHlwZSwgc2V0TmV3Q2hhdFR5cGVdID0gdXNlU3RhdGU8J3Bsb3QnfCdjaGFyYWN0ZXInfCd3b3JsZCc+KCdwbG90Jyk7XG4gIGNvbnN0IFtuZXdDaGF0VGl0bGUsIHNldE5ld0NoYXRUaXRsZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdDaGF0T3Blbiwgc2V0TmV3Q2hhdE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlYXRpbmdDaGF0LCBzZXRDcmVhdGluZ0NoYXRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlYXRlQ2hhdEVycm9yLCBzZXRDcmVhdGVDaGF0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjaGF0TWVudU9wZW4sIHNldENoYXRNZW51T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtoYXNDaGFwdGVyc0NhY2hlLCBzZXRIYXNDaGFwdGVyc0NhY2hlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblxuICAvLyBIeWRyYXRlIGNoYXRzIGZyb20gbG9jYWxTdG9yYWdlIGFmdGVyIG1vdW50IChwcmV2ZW50cyBTU1IvY2xpZW50IG1pc21hdGNoKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgcyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShjaGF0c0NhY2hlS2V5KTtcbiAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKHMpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgICAgICAgIHNldENoYXRzKGFyciBhcyBhbnkpO1xuICAgICAgICAgICAgc2V0SGFzQ2hhdHNDYWNoZSgoYXJyIGFzIGFueVtdKS5sZW5ndGggPiAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShjaGF0c0FjdGl2ZUtleSk7XG4gICAgICAgIGlmICh2KSBzZXRBY3RpdmVDaGF0SWQodik7XG4gICAgICAgIC8vIEh5ZHJhdGUgY2hhcHRlcnNcbiAgICAgICAgY29uc3QgY2hzID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGNoYXB0ZXJzQ2FjaGVLZXkpO1xuICAgICAgICBpZiAoY2hzKSB7XG4gICAgICAgICAgY29uc3QgYXJyID0gSlNPTi5wYXJzZShjaHMpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgICAgICAgIHNldENoYXB0ZXJzKGFyciBhcyBhbnkpO1xuICAgICAgICAgICAgY29uc3QgdmFsaWQgPSAoYXJyIGFzIGFueVtdKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgc2V0SGFzQ2hhcHRlcnNDYWNoZSh2YWxpZCk7XG4gICAgICAgICAgICBpZiAodmFsaWQpIHNldExvYWRpbmdDaChmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEh5ZHJhdGUgdGFicyBhbmQgYWN0aXZlIHRhYlxuICAgICAgICBjb25zdCB0ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRhYnNDYWNoZUtleSk7XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgY29uc3QgYXJyID0gSlNPTi5wYXJzZSh0KTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSBzZXRUYWJzKGFyciBhcyBhbnkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGFjdGl2ZVRhYktleSk7XG4gICAgICAgIGlmIChhdCkgc2V0QWN0aXZlSWQoYXQpO1xuICAgICAgICAvLyBIeWRyYXRlIFVJIHRvZ2dsZXNcbiAgICAgICAgY29uc3QgbGMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obGVmdENvbGxhcHNlZEtleSk7XG4gICAgICAgIGlmIChsYyAhPT0gbnVsbCkgc2V0TGVmdENvbGxhcHNlZChsYyA9PT0gJzEnKTtcbiAgICAgICAgY29uc3Qgcm8gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0ocmlnaHRPcGVuS2V5KTtcbiAgICAgICAgaWYgKHJvICE9PSBudWxsKSBzZXRSaWdodE9wZW4ocm8gPT09ICcxJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbY2hhdHNDYWNoZUtleSwgY2hhdHNBY3RpdmVLZXksIGNoYXB0ZXJzQ2FjaGVLZXksIHRhYnNDYWNoZUtleSwgYWN0aXZlVGFiS2V5LCBsZWZ0Q29sbGFwc2VkS2V5LCByaWdodE9wZW5LZXldKTtcblxuICAvLyBIZWxwZXI6IHNvcnQgY2hhcHRlcnMgYnkgY3JlYXRlZEF0IGFzYyAoZmFsbGJhY2sgYnkgdGl0bGUpXG4gIGNvbnN0IHNvcnRDaGFwdGVycyA9IHVzZUNhbGxiYWNrKChhcnI6IENoYXB0ZXJJdGVtW10pID0+IHtcbiAgICByZXR1cm4gWy4uLmFycl0uc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgdGEgPSBhLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGEuY3JlYXRlZEF0KS5nZXRUaW1lKCkgOiAwO1xuICAgICAgY29uc3QgdGIgPSBiLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGIuY3JlYXRlZEF0KS5nZXRUaW1lKCkgOiAwO1xuICAgICAgaWYgKHRhICE9PSB0YikgcmV0dXJuIHRhIC0gdGI7XG4gICAgICByZXR1cm4gKGEudGl0bGUgfHwgJycpLmxvY2FsZUNvbXBhcmUoYi50aXRsZSB8fCAnJyk7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICAvLyBMb2FkIGNoYXB0ZXJzIGZvciB0cmVlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoaGFzQ2hhcHRlcnNDYWNoZSkgeyByZXR1cm47IH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmdDaCh0cnVlKTtcbiAgICAgICAgY29uc3QgeyBpdGVtcyB9ID0gYXdhaXQgYXBpLmxpc3RDaGFwdGVyc1BhZ2luYXRlZChwcm9qZWN0SWQsIDAsIDEwMCk7XG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBzZXRDaGFwdGVycyhzb3J0Q2hhcHRlcnMoaXRlbXMgYXMgQ2hhcHRlckl0ZW1bXSkpO1xuICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgIGlmIChtb3VudGVkKSBzZXRFcnJvckNoKGU/Lm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gbG9hZCBjaGFwdGVyc1wiKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChtb3VudGVkKSBzZXRMb2FkaW5nQ2goZmFsc2UpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuICgpID0+IHsgbW91bnRlZCA9IGZhbHNlOyB9O1xuICB9LCBbYXBpLCBwcm9qZWN0SWQsIHNvcnRDaGFwdGVycywgaGFzQ2hhcHRlcnNDYWNoZV0pO1xuXG4gIC8vIFJlZmxlY3Qgc2V0dGluZ3MgdXBkYXRlcyB0cmlnZ2VyZWQgZnJvbSBDaGF0IG9yIGVsc2V3aGVyZSBpbW1lZGlhdGVseVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9uU2V0dGluZ3MgPSAoZTogYW55KSA9PiB7XG4gICAgICBjb25zdCBkZXRhaWwgPSBlPy5kZXRhaWwgfHwge307XG4gICAgICBjb25zdCBjaGFuZ2VzID0gZGV0YWlsLmNoYW5nZXMgfHwge307XG4gICAgICBpZiAoY2hhbmdlcy5tb2RlKSBzZXRQcm9qTW9kZShjaGFuZ2VzLm1vZGUpO1xuICAgICAgaWYgKGNoYW5nZXMuZ2VucmUgIT09IHVuZGVmaW5lZCkgc2V0UHJvakdlbnJlKGNoYW5nZXMuZ2VucmUgfHwgJycpO1xuICAgICAgaWYgKGNoYW5nZXMuY29yZUNvbmZsaWN0ICE9PSB1bmRlZmluZWQpIHNldFByb2pDb3JlQ29uZmxpY3QoY2hhbmdlcy5jb3JlQ29uZmxpY3QgfHwgJycpO1xuICAgICAgaWYgKGNoYW5nZXMuc2V0dGluZ3NKc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdHJ5IHsgc2V0UHJvalNldHRpbmdzSnNvbih0eXBlb2YgY2hhbmdlcy5zZXR0aW5nc0pzb24gPT09ICdzdHJpbmcnID8gY2hhbmdlcy5zZXR0aW5nc0pzb24gOiBKU09OLnN0cmluZ2lmeShjaGFuZ2VzLnNldHRpbmdzSnNvbikpOyB9IGNhdGNoIHsgc2V0UHJvalNldHRpbmdzSnNvbignJyk7IH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9uTW9kZSA9IChlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG0gPSBlPy5kZXRhaWw/Lm1vZGU7XG4gICAgICBpZiAobSA9PT0gJ25vdmVsJyB8fCBtID09PSAnbWFuaHdhJykgc2V0UHJvak1vZGUobSk7XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwcm9qZWN0OnNldHRpbmdzLXVwZGF0ZWQnLCBvblNldHRpbmdzIGFzIGFueSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncHJvamVjdDptb2RlLXVwZGF0ZWQnLCBvbk1vZGUgYXMgYW55KTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvamVjdDpzZXR0aW5ncy11cGRhdGVkJywgb25TZXR0aW5ncyBhcyBhbnkpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvamVjdDptb2RlLXVwZGF0ZWQnLCBvbk1vZGUgYXMgYW55KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gTGlzdGVuIGZvciBjaGF0IGFjdGlvbnMgdG8gY3JlYXRlL29wZW4gY2hhcHRlcnMgaW4gZWRpdG9yXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlciA9IGFzeW5jIChlOiBhbnkpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRldGFpbCA9IGU/LmRldGFpbCB8fCB7fTtcbiAgICAgICAgY29uc3QgdCA9IFN0cmluZyhkZXRhaWwudGl0bGUgfHwgJ1VudGl0bGVkIENoYXB0ZXInKTtcbiAgICAgICAgY29uc3QgYyA9IGRldGFpbC5jb250ZW50ICE9PSB1bmRlZmluZWQgPyBTdHJpbmcoZGV0YWlsLmNvbnRlbnQpIDogJyc7XG4gICAgICAgIGNvbnN0IHBhbmVsX3NjcmlwdCA9IGRldGFpbC5wYW5lbF9zY3JpcHQgPz8gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuY3JlYXRlQ2hhcHRlcihwcm9qZWN0SWQsIHBhbmVsX3NjcmlwdCA/IHsgdGl0bGU6IHQsIHBhbmVsX3NjcmlwdCB9IDogeyB0aXRsZTogdCwgY29udGVudDogYyB9KTtcbiAgICAgICAgY29uc3QgbmV3SWQgPSAocmVzIGFzIGFueSkuaWQgYXMgc3RyaW5nO1xuICAgICAgICBjb25zdCBjcmVhdGVkQXQgPSAocmVzIGFzIGFueSkuY3JlYXRlZEF0IGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHNvcnRDaGFwdGVycyhbLi4ucHJldiwgeyBpZDogbmV3SWQsIHRpdGxlOiAocmVzIGFzIGFueSkudGl0bGUsIGNvbnRlbnQ6IHBhbmVsX3NjcmlwdCA/ICcnIDogYywgY3JlYXRlZEF0IH1dKSk7XG4gICAgICAgIHNldFRhYnMoKHByZXYpID0+IChwcmV2LmluY2x1ZGVzKG5ld0lkKSA/IHByZXYgOiBbLi4ucHJldiwgbmV3SWRdKSk7XG4gICAgICAgIHNldEFjdGl2ZUlkKG5ld0lkKTtcbiAgICAgICAgc2V0VGl0bGUoKHJlcyBhcyBhbnkpLnRpdGxlKTtcbiAgICAgICAgc2V0Q29udGVudChwYW5lbF9zY3JpcHQgPyAnJyA6IGMpO1xuICAgICAgfSBjYXRjaCB7fVxuICAgIH07XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd29ya3NwYWNlOmNyZWF0ZS1kcmFmdCcsIGhhbmRsZXIgYXMgYW55KTtcbiAgICByZXR1cm4gKCkgPT4geyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6Y3JlYXRlLWRyYWZ0JywgaGFuZGxlciBhcyBhbnkpOyB9O1xuICB9LCBbYXBpLCBwcm9qZWN0SWQsIHNvcnRDaGFwdGVyc10pO1xuXG4gIC8vIExpc3RlbiBmb3IgY2hhdC1kcml2ZW4gY2hhcHRlciB1cGRhdGVzIChyZXdyaXRlKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBhc3luYyAoZTogYW55KSA9PiB7XG4gICAgICBjb25zdCBkZXRhaWwgPSBlPy5kZXRhaWwgfHwge307XG4gICAgICBjb25zdCBjb250ZW50ID0gU3RyaW5nKGRldGFpbC5jb250ZW50IHx8ICcnKTtcbiAgICAgIGxldCB0YXJnZXRJZDogc3RyaW5nIHwgbnVsbCA9IGRldGFpbC5pZCB8fCBudWxsO1xuICAgICAgaWYgKCF0YXJnZXRJZCkge1xuICAgICAgICAvLyBSZXNvbHZlIGJ5IGNoYXB0ZXJfbnVtYmVyICgxLWJhc2VkKSBhZ2FpbnN0IHNvcnRlZCBvcmRlclxuICAgICAgICBpZiAoZGV0YWlsLmNoYXB0ZXJfbnVtYmVyICYmIE51bWJlci5pc0ludGVnZXIoZGV0YWlsLmNoYXB0ZXJfbnVtYmVyKSkge1xuICAgICAgICAgIGNvbnN0IHNvcnRlZCA9IHNvcnRDaGFwdGVycyhjaGFwdGVycyk7XG4gICAgICAgICAgY29uc3QgaWR4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc29ydGVkLmxlbmd0aCAtIDEsIGRldGFpbC5jaGFwdGVyX251bWJlciAtIDEpKTtcbiAgICAgICAgICB0YXJnZXRJZCA9IHNvcnRlZFtpZHhdPy5pZCB8fCBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGRldGFpbC50aXRsZSkge1xuICAgICAgICAgIGNvbnN0IG1hdGNoID0gY2hhcHRlcnMuZmluZCgoYykgPT4gKGMudGl0bGUgfHwgJycpLnRvTG93ZXJDYXNlKCkgPT09IFN0cmluZyhkZXRhaWwudGl0bGUpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgIHRhcmdldElkID0gbWF0Y2g/LmlkIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdGFyZ2V0SWQpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBhcGkudXBkYXRlQ2hhcHRlcihwcm9qZWN0SWQsIHRhcmdldElkLCB7IGNvbnRlbnQgfSk7XG4gICAgICAgIHNldENoYXB0ZXJzKChwcmV2KSA9PiBwcmV2Lm1hcCgoYykgPT4gYy5pZCA9PT0gdGFyZ2V0SWQgPyB7IC4uLmMsIGNvbnRlbnQgfSA6IGMpKTtcbiAgICAgICAgLy8gT3BlbiBvciByZWZyZXNoIGFjdGl2ZSB0YWJcbiAgICAgICAgaWYgKCF0YWJzLmluY2x1ZGVzKHRhcmdldElkKSkgc2V0VGFicygocHJldikgPT4gWy4uLnByZXYsIHRhcmdldElkIV0pO1xuICAgICAgICBzZXRBY3RpdmVJZCh0YXJnZXRJZCk7XG4gICAgICAgIGlmIChhY3RpdmVJZCA9PT0gdGFyZ2V0SWQpIHNldENvbnRlbnQoY29udGVudCk7XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6dXBkYXRlLWNoYXB0ZXInLCBoYW5kbGVyIGFzIGFueSk7XG4gICAgcmV0dXJuICgpID0+IHsgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignd29ya3NwYWNlOnVwZGF0ZS1jaGFwdGVyJywgaGFuZGxlciBhcyBhbnkpOyB9O1xuICB9LCBbYXBpLCBwcm9qZWN0SWQsIGNoYXB0ZXJzLCB0YWJzLCBhY3RpdmVJZCwgc29ydENoYXB0ZXJzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHAgPSBhd2FpdCBhcGkuZ2V0UHJvamVjdChwcm9qZWN0SWQpO1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgc2V0UHJvamVjdFRpdGxlKHA/LnRpdGxlIHx8IFwiXCIpO1xuICAgICAgICBzZXRQcm9qZWN0RGVzY3JpcHRpb24ocD8uZGVzY3JpcHRpb24gfHwgXCJcIik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHA/Lm1vZGUgJiYgKHAubW9kZSA9PT0gJ25vdmVsJyB8fCBwLm1vZGUgPT09ICdtYW5od2EnKSkgc2V0UHJvak1vZGUocC5tb2RlKTtcbiAgICAgICAgICBpZiAodHlwZW9mIHA/LmdlbnJlID09PSAnc3RyaW5nJykgc2V0UHJvakdlbnJlKHAuZ2VucmUpO1xuICAgICAgICAgIGlmICh0eXBlb2YgcD8uY29yZUNvbmZsaWN0ID09PSAnc3RyaW5nJykgc2V0UHJvakNvcmVDb25mbGljdChwLmNvcmVDb25mbGljdCk7XG4gICAgICAgICAgaWYgKHA/LnNldHRpbmdzSnNvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZXRQcm9qU2V0dGluZ3NKc29uKHR5cGVvZiBwLnNldHRpbmdzSnNvbiA9PT0gJ3N0cmluZycgPyBwLnNldHRpbmdzSnNvbiA6IEpTT04uc3RyaW5naWZ5KHAuc2V0dGluZ3NKc29uKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHt9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkID0gZmFsc2U7IH07XG4gIH0sIFthcGksIHByb2plY3RJZF0pO1xuXG4gIC8vIExvYWQgY2hhdHMgKGh5ZHJhdGUgZnJvbSBjYWNoZSBmaXJzdCwgdGhlbiByZXZhbGlkYXRlKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKGhhc0NoYXRzQ2FjaGUpIHsgcmV0dXJuOyB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB4cyA9IGF3YWl0IGFwaS5saXN0Q2hhdHMocHJvamVjdElkKTtcbiAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG5leHQgPSB4cyB8fCBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoaGFzQ2hhdHNDYWNoZSAmJiBKU09OLnN0cmluZ2lmeShuZXh0KSA9PT0gSlNPTi5zdHJpbmdpZnkoY2hhdHNSZWYuY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgc2V0Q2hhdHMobmV4dCk7XG4gICAgICAgIGlmICghYWN0aXZlQ2hhdElkKSB7XG4gICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGgpIHNldEFjdGl2ZUNoYXRJZChuZXh0WzBdLmlkKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBhdCBsZWFzdCBvbmUgcGxvdCBjaGF0IGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IGFwaS5jcmVhdGVDaGF0KHByb2plY3RJZCwgeyB0eXBlOiAncGxvdCcgfSk7XG4gICAgICAgICAgICBzZXRDaGF0cyhbY3JlYXRlZF0pO1xuICAgICAgICAgICAgc2V0QWN0aXZlQ2hhdElkKGNyZWF0ZWQuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgIH0pKCk7XG4gICAgcmV0dXJuICgpID0+IHsgbW91bnRlZCA9IGZhbHNlOyB9O1xuICB9LCBbYXBpLCBwcm9qZWN0SWQsIGhhc0NoYXRzQ2FjaGUsIGFjdGl2ZUNoYXRJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7IGNoYXRzUmVmLmN1cnJlbnQgPSBjaGF0czsgfSwgW2NoYXRzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHsgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oY2hhdHNDYWNoZUtleSwgSlNPTi5zdHJpbmdpZnkoY2hhdHMpKTsgfSBjYXRjaCB7fVxuICAgIHNldEhhc0NoYXRzQ2FjaGUoQXJyYXkuaXNBcnJheShjaGF0cykgJiYgY2hhdHMubGVuZ3RoID4gMCk7XG4gIH0sIFtjaGF0cywgY2hhdHNDYWNoZUtleV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBhY3RpdmVDaGF0SWQpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShjaGF0c0FjdGl2ZUtleSwgYWN0aXZlQ2hhdElkKTsgfSBjYXRjaCB7fVxuICB9LCBbYWN0aXZlQ2hhdElkLCBjaGF0c0FjdGl2ZUtleV0pO1xuICAvLyBQZXJzaXN0IGNoYXB0ZXJzIGNhY2hlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHsgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oY2hhcHRlcnNDYWNoZUtleSwgSlNPTi5zdHJpbmdpZnkoY2hhcHRlcnMpKTsgfSBjYXRjaCB7fVxuICAgIHNldEhhc0NoYXB0ZXJzQ2FjaGUoQXJyYXkuaXNBcnJheShjaGFwdGVycykgJiYgY2hhcHRlcnMubGVuZ3RoID4gMCk7XG4gIH0sIFtjaGFwdGVycywgY2hhcHRlcnNDYWNoZUtleV0pO1xuICAvLyBQZXJzaXN0IHRhYnMgYW5kIGFjdGl2ZSB0YWJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0YWJzQ2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KHRhYnMpKTsgfSBjYXRjaCB7fVxuICB9LCBbdGFicywgdGFic0NhY2hlS2V5XSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHsgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIGFjdGl2ZUlkKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYWN0aXZlVGFiS2V5LCBhY3RpdmVJZCk7IH0gY2F0Y2gge31cbiAgfSwgW2FjdGl2ZUlkLCBhY3RpdmVUYWJLZXldKTtcbiAgLy8gUGVyc2lzdCBVSSB0b2dnbGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHsgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obGVmdENvbGxhcHNlZEtleSwgbGVmdENvbGxhcHNlZCA/ICcxJyA6ICcwJyk7IH0gY2F0Y2gge31cbiAgfSwgW2xlZnRDb2xsYXBzZWQsIGxlZnRDb2xsYXBzZWRLZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShyaWdodE9wZW5LZXksIHJpZ2h0T3BlbiA/ICcxJyA6ICcwJyk7IH0gY2F0Y2gge31cbiAgfSwgW3JpZ2h0T3BlbiwgcmlnaHRPcGVuS2V5XSk7XG5cbiAgY29uc3Qgb3BlblRhYiA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0VGFicygocHJldikgPT4gKHByZXYuaW5jbHVkZXMoaWQpID8gcHJldiA6IFsuLi5wcmV2LCBpZF0pKTtcbiAgICBzZXRBY3RpdmVJZChpZCk7XG4gICAgY29uc3QgY2ggPSBjaGFwdGVycy5maW5kKChjKSA9PiBjLmlkID09PSBpZCk7XG4gICAgc2V0VGl0bGUoY2g/LnRpdGxlIHx8IFwiXCIpO1xuICAgIHNldENvbnRlbnQoKGNoPy5jb250ZW50IHx8IFwiXCIpIGFzIHN0cmluZyk7XG4gIH0sIFtjaGFwdGVyc10pO1xuXG4gIGNvbnN0IGNsb3NlVGFiID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRUYWJzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigodCkgPT4gdCAhPT0gaWQpKTtcbiAgICBzZXRBY3RpdmVJZCgoY3VycikgPT4ge1xuICAgICAgaWYgKGN1cnIgIT09IGlkKSByZXR1cm4gY3VycjtcbiAgICAgIGNvbnN0IGlkeCA9IHRhYnMuaW5kZXhPZihpZCk7XG4gICAgICBjb25zdCBuZXh0ID0gdGFic1tpZHggKyAxXSB8fCB0YWJzW2lkeCAtIDFdIHx8IG51bGw7XG4gICAgICByZXR1cm4gbmV4dCB8fCBudWxsO1xuICAgIH0pO1xuICB9LCBbdGFic10pO1xuXG4gIC8vIEh5ZHJhdGUgZWRpdG9yIGZpZWxkcyB3aGVuIGFjdGl2ZUlkIGFuZCBjaGFwdGVycyBhcmUgcmVzdG9yZWQgZnJvbSBjYWNoZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlSWQpIHJldHVybjtcbiAgICBpZiAoYWN0aXZlSWQgPT09IFNFVFRJTkdTX1RBQl9JRCB8fCBhY3RpdmVJZCA9PT0gQ0hBUkFDVEVSU19UQUJfSUQgfHwgYWN0aXZlSWQgPT09IFdPUkxEX1RBQl9JRCkgcmV0dXJuO1xuICAgIGNvbnN0IGNoID0gY2hhcHRlcnMuZmluZCgoYykgPT4gYy5pZCA9PT0gYWN0aXZlSWQpO1xuICAgIGlmICghY2gpIHJldHVybjtcbiAgICBzZXRUaXRsZShjaC50aXRsZSB8fCBcIlwiKTtcbiAgICBzZXRDb250ZW50KChjaC5jb250ZW50IHx8IFwiXCIpIGFzIHN0cmluZyk7XG4gIH0sIFthY3RpdmVJZCwgY2hhcHRlcnNdKTtcblxuICBjb25zdCBvbkRyYWdTdGFydCA9IChlOiBSZWFjdC5EcmFnRXZlbnQ8SFRNTERpdkVsZW1lbnQ+LCBpZDogc3RyaW5nKSA9PiB7XG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvdGFiXCIsIGlkKTtcbiAgfTtcbiAgY29uc3Qgb25Ecm9wID0gKGU6IFJlYWN0LkRyYWdFdmVudDxIVE1MRGl2RWxlbWVudD4sIHRhcmdldElkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBzcmNJZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L3RhYlwiKTtcbiAgICBpZiAoIXNyY0lkIHx8IHNyY0lkID09PSB0YXJnZXRJZCkgcmV0dXJuO1xuICAgIHNldFRhYnMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IGFyciA9IFsuLi5wcmV2XTtcbiAgICAgIGNvbnN0IHNpID0gYXJyLmluZGV4T2Yoc3JjSWQpO1xuICAgICAgY29uc3QgdGkgPSBhcnIuaW5kZXhPZih0YXJnZXRJZCk7XG4gICAgICBpZiAoc2kgPCAwIHx8IHRpIDwgMCkgcmV0dXJuIHByZXY7XG4gICAgICBhcnIuc3BsaWNlKHRpLCAwLCBhcnIuc3BsaWNlKHNpLCAxKVswXSk7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFBlcnNpc3QgZWRpdHMgKGRlYm91bmNlZClcbiAgY29uc3Qgc2NoZWR1bGVTYXZlID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcsIHQ6IHN0cmluZywgYzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFpZCkgcmV0dXJuO1xuICAgIGlmIChzYXZlVGltZXIuY3VycmVudCkgY2xlYXJUaW1lb3V0KHNhdmVUaW1lci5jdXJyZW50KTtcbiAgICBzYXZlVGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZUNoYXB0ZXIocHJvamVjdElkLCBpZCwgeyB0aXRsZTogdCwgY29udGVudDogYyB9KTtcbiAgICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHByZXYubWFwKChjaCkgPT4gY2guaWQgPT09IGlkID8geyAuLi5jaCwgdGl0bGU6IHQsIGNvbnRlbnQ6IGMgfSA6IGNoKSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG4gIH0sIFthcGksIHByb2plY3RJZF0pO1xuXG4gIC8vIEFjdGl2ZSBjaGFuZ2UgaGFuZGxlcnNcbiAgY29uc3Qgb25UaXRsZUNoYW5nZSA9ICh2OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWFjdGl2ZUlkKSByZXR1cm47XG4gICAgc2V0VGl0bGUodik7XG4gICAgc2NoZWR1bGVTYXZlKGFjdGl2ZUlkLCB2LCBjb250ZW50KTtcbiAgfTtcbiAgY29uc3Qgb25Db250ZW50Q2hhbmdlID0gKHY6IHN0cmluZykgPT4ge1xuICAgIGlmICghYWN0aXZlSWQpIHJldHVybjtcbiAgICBzZXRDb250ZW50KHYpO1xuICAgIHNjaGVkdWxlU2F2ZShhY3RpdmVJZCwgdGl0bGUsIHYpO1xuICB9O1xuXG4gIGNvbnN0IG9uTmV3Q2hhcHRlciA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXB0ZXIocHJvamVjdElkLCB7IHRpdGxlOiBcIlVudGl0bGVkIENoYXB0ZXJcIiB9KTtcbiAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IChyZXMgYXMgYW55KS5jcmVhdGVkQXQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgc2V0Q2hhcHRlcnMoKHByZXYpID0+IHNvcnRDaGFwdGVycyhbLi4ucHJldiwgeyBpZDogKHJlcyBhcyBhbnkpLmlkLCB0aXRsZTogKHJlcyBhcyBhbnkpLnRpdGxlLCBjb250ZW50OiBcIlwiLCBjcmVhdGVkQXQgfV0pKTtcbiAgICAgIG9wZW5UYWIoKHJlcyBhcyBhbnkpLmlkKTtcbiAgICB9IGNhdGNoIHt9XG4gIH07XG5cbiAgY29uc3Qgb25EZWxldGVDaGFwdGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgICBpZiAoIWNvbmZpcm0oJ0RlbGV0ZSB0aGlzIGNoYXB0ZXIgcGVybWFuZW50bHk/JykpIHJldHVybjtcbiAgICAgIHNldERlbGV0aW5nSWQoaWQpO1xuICAgICAgYXdhaXQgYXBpLmRlbGV0ZUNoYXB0ZXIocHJvamVjdElkLCBpZCk7XG4gICAgICBzZXRDaGFwdGVycygocHJldikgPT4gcHJldi5maWx0ZXIoKGMpID0+IGMuaWQgIT09IGlkKSk7XG4gICAgICBzZXRUYWJzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigodCkgPT4gdCAhPT0gaWQpKTtcbiAgICAgIHNldEFjdGl2ZUlkKChjdXJyKSA9PiAoY3VyciA9PT0gaWQgPyBudWxsIDogY3VycikpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnN0IG1zZyA9IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6ICdGYWlsZWQgdG8gZGVsZXRlJztcbiAgICAgIHNldEVycm9yQ2gobXNnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0RGVsZXRpbmdJZChudWxsKTtcbiAgICB9XG4gIH0sIFthcGksIHByb2plY3RJZF0pO1xuXG4gIGNvbnN0IGFjdGl2ZUNoYXB0ZXIgPSBjaGFwdGVycy5maW5kKChjKSA9PiBjLmlkID09PSBhY3RpdmVJZCkgfHwgbnVsbDtcblxuICBjb25zdCBncmlkQ29scyA9IGAke2xlZnRDb2xsYXBzZWQgPyAnJyA6ICcyNjBweCAnfTFmciR7cmlnaHRPcGVuID8gJyAyNjBweCcgOiAnJ31gO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLXNjcmVlbiB3LXNjcmVlbiBiZy1iZy1wcmltYXJ5IHRleHQtdGV4dC1wcmltYXJ5IGdyaWQgZ3JpZC1yb3dzLVthdXRvXzFmcl0gcmVsYXRpdmVcIj5cbiAgICAgIHsvKiBUb3AgVGFicyBCYXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTIgYm9yZGVyLWIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLXByaW1hcnkgZmxleCBpdGVtcy1jZW50ZXIgcmVsYXRpdmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMCBmbGV4IGl0ZW1zLXN0cmV0Y2ggZ2FwLTEgcHgtMiBvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICB7dGFicy5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaCA9IGNoYXB0ZXJzLmZpbmQoKGMpID0+IGMuaWQgPT09IGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZSA9IGlkID09PSBhY3RpdmVJZDtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gaWQgPT09IFNFVFRJTkdTX1RBQl9JRCA/ICdTZXR0aW5ncycgOiAoaWQgPT09IENIQVJBQ1RFUlNfVEFCX0lEID8gJ0NoYXJhY3RlcnMnIDogKGNoPy50aXRsZSB8fCAnVW50aXRsZWQnKSk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtpZH1cbiAgICAgICAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICAgICAgICBvbkRyYWdTdGFydD17KGUpID0+IG9uRHJhZ1N0YXJ0KGUsIGlkKX1cbiAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfVxuICAgICAgICAgICAgICAgIG9uRHJvcD17KGUpID0+IG9uRHJvcChlLCBpZCl9XG4gICAgICAgICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiB7IGlmIChlLmJ1dHRvbiA9PT0gMSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IGNsb3NlVGFiKGlkKTsgfSB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGdyb3VwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgaC0xMCByb3VuZGVkLXQtbWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwICR7YWN0aXZlID8gJ2JnLWJnLWVsZXZhdGVkIHRleHQtdGV4dC1wcmltYXJ5JyA6ICd0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3Zlcid9YH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVJZChpZCl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRydW5jYXRlIG1heC13LVsxNjBweF1cIj57bGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwib3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIGhvdmVyOnRleHQtcmVkLTQwMCB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tMTUwXCIgb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgY2xvc2VUYWIoaWQpOyB9fT7DlzwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5IHRydW5jYXRlIG1heC13LVs2MCVdIHRyYWNraW5nLWVsZWdhbnRcIj57cHJvamVjdFRpdGxlIHx8ICdQcm9qZWN0J308L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiB0b3AtMSB6LTEwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBweC0zIHB5LTEuNSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctZWxldmF0ZWQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LWFjY2VudCBob3Zlcjpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZXR0aW5nc01lbnVPcGVuKCh2KSA9PiAhdil9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPlNldHRpbmdzPC9zcGFuPlxuICAgICAgICAgICAgPEljb25TZXR0aW5ncyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICB7c2V0dGluZ3NNZW51T3BlbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTAgdG9wLTEwIHotMjAgdy00OCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctZWxldmF0ZWQgc2hhZG93LWVsZXZhdGlvblwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyIGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2V0dGluZ3NNZW51T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAvLyBPcGVuIHNldHRpbmdzIGFzIGEgY2VudHJhbCB0YWJcbiAgICAgICAgICAgICAgICAgIGlmICghdGFicy5pbmNsdWRlcyhTRVRUSU5HU19UQUJfSUQpKSBzZXRUYWJzKChwcmV2KSA9PiBbLi4ucHJldiwgU0VUVElOR1NfVEFCX0lEXSk7XG4gICAgICAgICAgICAgICAgICBzZXRBY3RpdmVJZChTRVRUSU5HU19UQUJfSUQpO1xuICAgICAgICAgICAgICAgICAgc2V0UmVuYW1lVGl0bGUocHJvamVjdFRpdGxlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICAgIHNldFJlbmFtZURlc2MocHJvamVjdERlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgICAgICAgICAgIHNldFJlbmFtZUVycm9yKG51bGwpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5Qcm9qZWN0IFNldHRpbmdzPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXIgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRTZXR0aW5nc01lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGlmICghdGFicy5pbmNsdWRlcyhXT1JMRF9UQUJfSUQpKSBzZXRUYWJzKChwcmV2KSA9PiBbLi4ucHJldiwgV09STERfVEFCX0lEXSk7XG4gICAgICAgICAgICAgICAgICBzZXRBY3RpdmVJZChXT1JMRF9UQUJfSUQpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5Xb3JsZCBTZXR0aW5nczwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyIGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2V0dGluZ3NNZW51T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIXRhYnMuaW5jbHVkZXMoQ0hBUkFDVEVSU19UQUJfSUQpKSBzZXRUYWJzKChwcmV2KSA9PiBbLi4ucHJldiwgQ0hBUkFDVEVSU19UQUJfSURdKTtcbiAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUlkKENIQVJBQ1RFUlNfVEFCX0lEKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+Q2hhcmFjdGVyczwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge2xlZnRDb2xsYXBzZWQgJiYgKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0yIHRvcC0xNCB6LTEwIHRleHQteHMgcHgtMyBweS0yIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1lbGV2YXRlZCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtYWNjZW50IGhvdmVyOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHNoYWRvdy1lbGV2YXRpb25cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldExlZnRDb2xsYXBzZWQoZmFsc2UpfVxuICAgICAgICA+XG4gICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICA8c3Bhbj5DaGFwdGVyczwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApfVxuXG4gICAgICB7LyogTGF5b3V0OiBMZWZ0IHNpZGViYXIgKyBNYWluIGVkaXRvciArIFJpZ2h0IHNpZGViYXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgbWluLWgtMFwiIHN0eWxlPXt7IGdyaWRUZW1wbGF0ZUNvbHVtbnM6IGdyaWRDb2xzIH19PlxuICAgICAgICB7LyogTGVmdDogQ2hhcHRlciBUcmVlICovfVxuICAgICAgICB7IWxlZnRDb2xsYXBzZWQgJiYgKFxuICAgICAgICA8YXNpZGUgY2xhc3NOYW1lPVwiYm9yZGVyLXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLXByaW1hcnkgbWluLWgtMCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC01IHB5LTQgdGV4dC14cyBmb250LXNlbWlib2xkIHRyYWNraW5nLVswLjA1ZW1dIHVwcGVyY2FzZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC10ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgPHNwYW4+Q0hBUFRFUlM8L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LWFjY2VudCByb3VuZGVkIHAtMSBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIiBvbkNsaWNrPXsoKSA9PiBzZXRMZWZ0Q29sbGFwc2VkKHRydWUpfT5cbiAgICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+Q29sbGFwc2U8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcHgtNFwiPlxuICAgICAgICAgICAge2xvYWRpbmdDaCAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXNlY29uZGFyeSBweC0yIHB5LTJcIj5Mb2FkaW5n4oCmPC9kaXY+fVxuICAgICAgICAgICAge2Vycm9yQ2ggJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTQwMCBweC0yIHB5LTIgYmctcmVkLTk1MC8yMCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMFwiPntlcnJvckNofTwvZGl2Pn1cbiAgICAgICAgICAgIHtjaGFwdGVycy5tYXAoKGMsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB3b3JkQ291bnQgPSBjLmNvbnRlbnQgPyBjLmNvbnRlbnQudHJpbSgpLnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtjLmlkfSBjbGFzc05hbWU9e2Bncm91cCB3LWZ1bGwgZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcHgtMyBweS0zIHJvdW5kZWQtbGcgbWItMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgJHthY3RpdmVJZCA9PT0gYy5pZCA/ICdiZy1iZy1lbGV2YXRlZCBib3JkZXItbC0zIGJvcmRlci1hY2NlbnQnIDogJ2hvdmVyOmJnLWJnLWhvdmVyJ31gfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9wZW5UYWIoYy5pZCl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0ZXh0LXRleHQtdGVydGlhcnkgbWItMVwiPkNoYXB0ZXIge2lkeCArIDF9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1tZWRpdW0gbWItMSAke2FjdGl2ZUlkID09PSBjLmlkID8gJ3RleHQtdGV4dC1wcmltYXJ5JyA6ICd0ZXh0LXRleHQtc2Vjb25kYXJ5J31gfT57Yy50aXRsZSB8fCAnVW50aXRsZWQnfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPnt3b3JkQ291bnR9IHdvcmRzPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0xNTAgJHtkZWxldGluZ0lkID09PSBjLmlkID8gJ3RleHQtcmVkLTQwMCBvcGFjaXR5LTYwIGN1cnNvci1ub3QtYWxsb3dlZCcgOiAndGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtcmVkLTQwMCd9YH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGlmIChkZWxldGluZ0lkKSByZXR1cm47IHZvaWQgb25EZWxldGVDaGFwdGVyKGMuaWQpOyB9fVxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUgY2hhcHRlclwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGVsZXRpbmdJZCA9PT0gYy5pZH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7ZGVsZXRpbmdJZCA9PT0gYy5pZCA/IDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgYW5pbWF0ZS1zcGluXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz4gOiA8VHJhc2gyIGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPn1cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5EZWxldGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTt9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItYm9yZGVyLWRlZmF1bHRcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQtbGcgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBob3Zlcjpib3JkZXItYWNjZW50IGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBweC00IHB5LTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIGhvdmVyOi10cmFuc2xhdGUteS0wLjVcIiBvbkNsaWNrPXtvbk5ld0NoYXB0ZXJ9PlxuICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4+TmV3IENoYXB0ZXI8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogQ2VudGVyOiBFZGl0b3IgKi99XG4gICAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm1pbi1oLTAgb3ZlcmZsb3ctaGlkZGVuIGJnLWJnLXByaW1hcnkgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIHthY3RpdmVJZCA9PT0gU0VUVElOR1NfVEFCX0lEID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZ3JpZCBncmlkLXJvd3MtW2F1dG9fMWZyX2F1dG9dIGJnLWJnLWVsZXZhdGVkXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHB4LTYgcHktNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC10ZXh0LXByaW1hcnkgdHJhY2tpbmctZWxlZ2FudFwiPlByb2plY3QgU2V0dGluZ3M8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtMCBvdmVyZmxvdy15LWF1dG8gcHgtNiBweS02XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC00IG1heC13LTJ4bFwiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlRpdGxlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cmVuYW1lVGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZW5hbWVUaXRsZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5EZXNjcmlwdGlvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JlbmFtZURlc2N9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZW5hbWVEZXNjKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5Nb2RlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb2pNb2RlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJvak1vZGUoZS50YXJnZXQudmFsdWUgYXMgYW55KX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3TigKY8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibm92ZWxcIj5Ob3ZlbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtYW5od2FcIj5NYW5od2E8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPkdlbnJlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJvakdlbnJlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJvakdlbnJlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LXRlcnRpYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgey8qIFdvcmxkIE5hbWUgcmVtb3ZlZCAqL31cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5Db3JlIENvbmZsaWN0PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJvakNvcmVDb25mbGljdH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByb2pDb3JlQ29uZmxpY3QoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtdGVydGlhcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+U2V0dGluZ3MgSlNPTjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb2pTZXR0aW5nc0pzb259XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9qU2V0dGluZ3NKc29uKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICByb3dzPXsxMH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LXRlcnRpYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MCBmb250LW1vbm8gdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAge3JlbmFtZUVycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC00MDAgcC0zIHJvdW5kZWQtbGcgYmctcmVkLTk1MC8yMCBib3JkZXIgYm9yZGVyLXJlZC01MDAvMjBcIj57cmVuYW1lRXJyb3J9PC9kaXY+fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTE0IHB4LTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTMgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLXByaW1hcnlcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZUlkKG51bGwpfSBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6YmctYmctaG92ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCI+Q2xvc2U8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nUmVuYW1lfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTYXZpbmdSZW5hbWUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlbmFtZUVycm9yKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUJvZHk6IGFueSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSByZW5hbWVUaXRsZS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgdCAhPT0gcHJvamVjdFRpdGxlKSB1cGRhdGVCb2R5LnRpdGxlID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVuYW1lRGVzYyAhPT0gcHJvamVjdERlc2NyaXB0aW9uKSB1cGRhdGVCb2R5LmRlc2NyaXB0aW9uID0gcmVuYW1lRGVzYztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModXBkYXRlQm9keSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGFwaS51cGRhdGVQcm9qZWN0KHByb2plY3RJZCwgdXBkYXRlQm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9qZWN0VGl0bGUodXBkYXRlZD8udGl0bGUgfHwgdCB8fCBwcm9qZWN0VGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvamVjdERlc2NyaXB0aW9uKHVwZGF0ZWQ/LmRlc2NyaXB0aW9uID8/IHJlbmFtZURlc2MgPz8gcHJvamVjdERlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlczogYW55ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pNb2RlKSBjaGFuZ2VzLm1vZGUgPSBwcm9qTW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvakdlbnJlKSBjaGFuZ2VzLmdlbnJlID0gcHJvakdlbnJlO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qQ29yZUNvbmZsaWN0KSBjaGFuZ2VzLmNvcmVDb25mbGljdCA9IHByb2pDb3JlQ29uZmxpY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pTZXR0aW5nc0pzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7IGNoYW5nZXMuc2V0dGluZ3NKc29uID0gSlNPTi5wYXJzZShwcm9qU2V0dGluZ3NKc29uKTsgfSBjYXRjaCB7IGNoYW5nZXMuc2V0dGluZ3NKc29uID0gcHJvalNldHRpbmdzSnNvbjsgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoY2hhbmdlcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZVByb2plY3RTZXR0aW5ncyhwcm9qZWN0SWQsIGNoYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncHJvamVjdDpzZXR0aW5ncy11cGRhdGVkJywgeyBkZXRhaWw6IHsgcHJvamVjdElkLCBjaGFuZ2VzIH0gfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG9hc3Q6IFNldHRpbmdzIHNhdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9hc3RUaW1lci5jdXJyZW50KSBjbGVhclRpbWVvdXQodG9hc3RUaW1lci5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvYXN0TXNnKCdTZXR0aW5ncyBzYXZlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdE1zZygnJyksIDMwMDApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0UmVuYW1lRXJyb3IoZT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNhdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTYXZpbmdSZW5hbWUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQtbWQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciBkaXNhYmxlZDpvcGFjaXR5LTUwIHRleHQtd2hpdGUgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7c2F2aW5nUmVuYW1lID8gJ1NhdmluZ+KApicgOiAnU2F2ZSBTZXR0aW5ncyd9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IGFjdGl2ZUlkID09PSBDSEFSQUNURVJTX1RBQl9JRCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGJnLWJnLWVsZXZhdGVkXCI+XG4gICAgICAgICAgICAgIDxDaGFyYWN0ZXJNYW5hZ2VyIHByb2plY3RJZD17cHJvamVjdElkfSByZXF1aXJlSW1hZ2U9e3Byb2pNb2RlID09PSAnbWFuaHdhJ30gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBhY3RpdmVJZCA9PT0gV09STERfVEFCX0lEID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgYmctYmctZWxldmF0ZWRcIj5cbiAgICAgICAgICAgICAgPFdvcmxkU2V0dGluZ3NNYW5hZ2VyIHByb2plY3RJZD17cHJvamVjdElkfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IGFjdGl2ZUlkID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICB7LyogRWRpdG9yIENhbnZhcyAtIEVsZXZhdGVkIFN1cmZhY2UgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi1oLTAgb3ZlcmZsb3cteS1hdXRvIGJnLWJnLWVsZXZhdGVkIGZsZXgganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1bODAwcHhdIHB4LTEyIHB5LTE2XCI+XG4gICAgICAgICAgICAgICAgICB7LyogQ2hhcHRlciBUaXRsZSBJbnB1dCAqL31cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGl0bGV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25UaXRsZUNoYW5nZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ2hhcHRlciBUaXRsZVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSB0ZXh0LVszMnB4XSBmb250LWJvbGQgdGV4dC10ZXh0LXByaW1hcnkgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LXRlcnRpYXJ5IG91dGxpbmUtbm9uZSBtYi04IHRyYWNraW5nLXRpZ2h0XCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICB7LyogQ2hhcHRlciBDb250ZW50IC0gQ29udGVudGVkaXRhYmxlICovfVxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjb250ZW50RWRpdGFibGVcbiAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXG4gICAgICAgICAgICAgICAgICAgIG9uSW5wdXQ9eyhlKSA9PiBvbkNvbnRlbnRDaGFuZ2UoZS5jdXJyZW50VGFyZ2V0LnRleHRDb250ZW50IHx8ICcnKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIG1pbi1oLVs0MDBweF0gdGV4dC1sZyBsZWFkaW5nLVsxLjhdIHRleHQtdGV4dC1wcmltYXJ5IG91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2NvbnRlbnR9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHshY29udGVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyB0ZXh0LXRleHQtdGVydGlhcnkgcG9pbnRlci1ldmVudHMtbm9uZSAtbXQtWzQwMHB4XSBsZWFkaW5nLVsxLjhdXCI+U3RhcnQgd3JpdGluZyB5b3VyIHN0b3J5Li4uPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgey8qIFN0YXR1cyBCYXIgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMiBiZy1iZy1wcmltYXJ5IGJvcmRlci10IGJvcmRlci1ib3JkZXItZGVmYXVsdCBweC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LVsxM3B4XSB0ZXh0LXRleHQtdGVydGlhcnlcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC02XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0xLjUgaC0xLjUgcm91bmRlZC1mdWxsICR7c2F2aW5nID8gJ2JnLXdhcm5pbmcgYW5pbWF0ZS1wdWxzZScgOiAnYmctc3VjY2Vzcyd9YH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3NhdmluZyA/ICdTYXZpbmfigKYnIDogJ1NhdmVkJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+e2NvbnRlbnQudHJpbSgpLnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aH0gd29yZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+e2NvbnRlbnQubGVuZ3RofSBjaGFyYWN0ZXJzPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PntNYXRoLmNlaWwoY29udGVudC50cmltKCkuc3BsaXQoL1xccysvKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoIC8gMjAwKX0gbWluIHJlYWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAge2FjdGl2ZUNoYXB0ZXI/LmNyZWF0ZWRBdCAmJiBgTGFzdCBlZGl0ZWQgJHtuZXcgRGF0ZShhY3RpdmVDaGFwdGVyLmNyZWF0ZWRBdCkudG9Mb2NhbGVTdHJpbmcoKX1gfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBiZy1iZy1lbGV2YXRlZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1heC13LW1kXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LXRleHQtcHJpbWFyeSBtYi0yXCI+Tm8gQ2hhcHRlciBTZWxlY3RlZDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+T3BlbiBhIGNoYXB0ZXIgZnJvbSB0aGUgbGVmdCBzaWRlYmFyIHRvIHN0YXJ0IGVkaXRpbmcuPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9tYWluPlxuXG4gICAgICAgIHsvKiBSaWdodDogQ2hhdHMgU2lkZWJhciAqL31cbiAgICAgICAge3JpZ2h0T3BlbiAmJiAoXG4gICAgICAgIDxhc2lkZSBjbGFzc05hbWU9XCJib3JkZXItbCBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctcHJpbWFyeSBtaW4taC0wIGZsZXggZmxleC1jb2wgcmVsYXRpdmVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTUgcHktNCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdHJhY2tpbmctWzAuMDVlbV0gdXBwZXJjYXNlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnlcIiBvbkNsaWNrPXsoKSA9PiBzZXRDaGF0TWVudU9wZW4oKHYpPT4hdil9PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cnVuY2F0ZSBtYXgtdy1bMTQwcHhdIHRleHQtdGV4dC1wcmltYXJ5IG5vcm1hbC1jYXNlIHRleHQtc20gZm9udC1tZWRpdW1cIj57KGNoYXRzLmZpbmQoYz0+Yy5pZD09PWFjdGl2ZUNoYXRJZCk/LnRpdGxlKSB8fCAnU2VsZWN0IGNoYXQnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT17YHctMy41IGgtMy41IHRyYW5zaXRpb24tdHJhbnNmb3JtICR7Y2hhdE1lbnVPcGVuID8gJ3JvdGF0ZS0xODAnIDogJyd9YH0gYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LWFjY2VudCByb3VuZGVkIHAtMSBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIiBvbkNsaWNrPXsoKSA9PiB7IHNldE5ld0NoYXRPcGVuKHRydWUpOyBzZXRDaGF0TWVudU9wZW4odHJ1ZSk7IH19IHRpdGxlPVwiTmV3IENoYXRcIj5cbiAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtYWNjZW50IHJvdW5kZWQgcC0xIGhvdmVyOmJnLWJnLWhvdmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiIG9uQ2xpY2s9eygpID0+IHNldFJpZ2h0T3BlbihmYWxzZSl9PlxuICAgICAgICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPkNvbGxhcHNlPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtjaGF0TWVudU9wZW4gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgcmlnaHQtMyB0b3AtMTQgei0yMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgYmctYmctZWxldmF0ZWQgc2hhZG93LWVsZXZhdGlvblwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBib3JkZXItYiBib3JkZXItYm9yZGVyLWRlZmF1bHQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC10ZXh0LXByaW1hcnlcIj5DaGF0czwvZGl2PlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5XCIgb25DbGljaz17KCk9PiBzZXRDaGF0TWVudU9wZW4oZmFsc2UpfT7inJU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIHNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgIHtuZXdDaGF0T3BlbiAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1sZyBwLTMgYmctYmctcHJpbWFyeVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IG1iLTJcIj5DcmVhdGUgYSBuZXcgY2hhdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7KFsncGxvdCcsJ2NoYXJhY3RlcicsJ3dvcmxkJ10gYXMgY29uc3QpLm1hcCgodCk9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwga2V5PXt0fSBjbGFzc05hbWU9e2B0ZXh0LXhzIHB4LTMgcHktMS41IHJvdW5kZWQtbWQgYm9yZGVyIGN1cnNvci1wb2ludGVyICR7bmV3Q2hhdFR5cGU9PT10ID8gJ2JvcmRlci1hY2NlbnQgdGV4dC1hY2NlbnQnIDogJ2JvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dC1wcmltYXJ5J31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJjaGF0LXR5cGVcIiBjbGFzc05hbWU9XCJoaWRkZW5cIiBjaGVja2VkPXtuZXdDaGF0VHlwZT09PXR9IG9uQ2hhbmdlPXsoKT0+c2V0TmV3Q2hhdFR5cGUodCl9IC8+e3R9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtuZXdDaGF0VGl0bGV9IG9uQ2hhbmdlPXsoZSk9PnNldE5ld0NoYXRUaXRsZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiVGl0bGUgKG9wdGlvbmFsKVwiIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1lbGV2YXRlZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtMyBweS0yIHRleHQtdGV4dC1wcmltYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRleHQtc21cIiAvPlxuICAgICAgICAgICAgICAgICAgICB7Y3JlYXRlQ2hhdEVycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtcmVkLTQwMFwiPntjcmVhdGVDaGF0RXJyb3J9PC9kaXY+fVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInB4LTMgcHktMS41IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyXCIgb25DbGljaz17KCk9Pnsgc2V0TmV3Q2hhdE9wZW4oZmFsc2UpOyBzZXROZXdDaGF0VGl0bGUoJycpOyBzZXRDcmVhdGVDaGF0RXJyb3IobnVsbCk7IH19PkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwicHgtMyBweS0xLjUgcm91bmRlZC1tZCBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHRleHQtd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS01MFwiIGRpc2FibGVkPXtjcmVhdGluZ0NoYXR9IG9uQ2xpY2s9e2FzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmVhdGluZ0NoYXQodHJ1ZSk7IHNldENyZWF0ZUNoYXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBhd2FpdCBhcGkuY3JlYXRlQ2hhdChwcm9qZWN0SWQsIHsgdHlwZTogbmV3Q2hhdFR5cGUsIHRpdGxlOiBuZXdDaGF0VGl0bGUgfHwgdW5kZWZpbmVkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDaGF0cygocHJldik9PlsuLi5wcmV2LCBjXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUNoYXRJZChjLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TmV3Q2hhdE9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXROZXdDaGF0VGl0bGUoJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDaGF0TWVudU9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldENyZWF0ZUNoYXRFcnJvcihlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGNoYXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7IHNldENyZWF0aW5nQ2hhdChmYWxzZSk7IH1cbiAgICAgICAgICAgICAgICAgICAgICB9fT57Y3JlYXRpbmdDaGF0ID8gJ0NyZWF0aW5n4oCmJyA6ICdDcmVhdGUnfTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC02NCBvdmVyZmxvdy15LWF1dG8gcHItMVwiPlxuICAgICAgICAgICAgICAgICAgeyFjaGF0cy5sZW5ndGggJiYgIW5ld0NoYXRPcGVuICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSBweC0yIHB5LTJcIj5ObyBjaGF0cyB5ZXQuIDxidXR0b24gY2xhc3NOYW1lPVwidW5kZXJsaW5lXCIgb25DbGljaz17KCk9Pnsgc2V0TmV3Q2hhdFR5cGUoJ3Bsb3QnKTsgc2V0TmV3Q2hhdE9wZW4odHJ1ZSk7IH19PkNyZWF0ZSB5b3VyIGZpcnN0IGNoYXQ8L2J1dHRvbj4uPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAge2NoYXRzLm1hcCgoYykgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Yy5pZH0gY2xhc3NOYW1lPXtgZ3JvdXAgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiBweC0zIHB5LTIgcm91bmRlZC1tZCBtYi0xIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCAke2FjdGl2ZUNoYXRJZD09PWMuaWQgPyAnYmctYmctaG92ZXInIDogJ2hvdmVyOmJnLWJnLWhvdmVyJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImZsZXgtMSB0ZXh0LWxlZnRcIiBvbkNsaWNrPXsoKSA9PiB7IHNldEFjdGl2ZUNoYXRJZChjLmlkKTsgc2V0Q2hhdE1lbnVPcGVuKGZhbHNlKTsgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHVwcGVyY2FzZSB0ZXh0LXRleHQtdGVydGlhcnkgbWItMC41XCI+e2MudHlwZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LW1lZGl1bSAke2FjdGl2ZUNoYXRJZD09PWMuaWQgPyAndGV4dC10ZXh0LXByaW1hcnknIDogJ3RleHQtdGV4dC1zZWNvbmRhcnknfWB9PntjLnRpdGxlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tMTUwIHRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXJlZC00MDBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaWYgKCFjb25maXJtKCdEZWxldGUgdGhpcyBjaGF0PycpKSByZXR1cm47IHRyeSB7IGF3YWl0IGFwaS5kZWxldGVDaGF0KHByb2plY3RJZCwgYy5pZCk7IHNldENoYXRzKChwcmV2KT0+cHJldi5maWx0ZXIoeD0+eC5pZCE9PWMuaWQpKTsgaWYgKGFjdGl2ZUNoYXRJZD09PWMuaWQpIHNldEFjdGl2ZUNoYXRJZChjaGF0cy5maW5kKHg9PnguaWQhPT1jLmlkKT8uaWQgfHwgbnVsbCk7IH0gY2F0Y2gge30gfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRGVsZXRlIGNoYXRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPVwidy00IGgtNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+RGVsZXRlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgey8qIENoYXQgdmlldyBmaWxscyB0aGUgc2lkZWJhciAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLTAgZmxleC0xIG92ZXJmbG93LWhpZGRlbiBib3JkZXItdCBib3JkZXItYm9yZGVyLWRlZmF1bHRcIj5cbiAgICAgICAgICAgIHthY3RpdmVDaGF0SWQgPyAoXG4gICAgICAgICAgICAgIDxDaGF0IGNoYXRJZD17YWN0aXZlQ2hhdElkfSAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZ3JpZCBwbGFjZS1pdGVtcy1jZW50ZXIgdGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnlcIj5PcGVuIHRoZSBjaGF0IG1lbnUgdG8gY3JlYXRlIG9yIHNlbGVjdCBhIGNoYXQuPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2FzaWRlPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHshcmlnaHRPcGVuICYmIChcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xNCB6LTEwIHRleHQteHMgcHgtMyBweS0yIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1lbGV2YXRlZCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtYWNjZW50IGhvdmVyOmJvcmRlci1hY2NlbnQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHNoYWRvdy1lbGV2YXRpb25cIiBvbkNsaWNrPXsoKSA9PiBzZXRSaWdodE9wZW4odHJ1ZSl9Pk9wZW4gQ2hhdHM8L2J1dHRvbj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBObyBtb2RhbDogZHJvcGRvd24gaXMgYW5jaG9yZWQgdG8gaGVhZGVyIGluc2lkZSB0aGUgc2lkZWJhciAqL31cblxuICAgICAge3NldHRpbmdzT3BlbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGdyaWQgcGxhY2UtaXRlbXMtY2VudGVyIGJnLWJsYWNrLzYwIGJhY2tkcm9wLWJsdXItc21cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1tZCBiZy1iZy1lbGV2YXRlZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQteGwgcC02IHNoYWRvdy1lbGV2YXRpb25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTRcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXRleHQtcHJpbWFyeVwiPlByb2plY3QgU2V0dGluZ3M8L2gzPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNldHRpbmdzT3BlbihmYWxzZSl9IGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTBcIj7inJU8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC0zXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0xIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeVwiPlRpdGxlPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3JlbmFtZVRpdGxlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZW5hbWVUaXRsZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC0zIHB5LTIgdGV4dC10ZXh0LXByaW1hcnkgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LXRlcnRpYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAge3JlbmFtZUVycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC00MDAgcC0zIHJvdW5kZWQtbGcgYmctcmVkLTk1MC8yMCBib3JkZXIgYm9yZGVyLXJlZC01MDAvMjBcIj57cmVuYW1lRXJyb3J9PC9kaXY+fVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0yIG10LTRcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNldHRpbmdzT3BlbihmYWxzZSl9IGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nUmVuYW1lIHx8ICFyZW5hbWVUaXRsZS50cmltKCl9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNhdmluZ1JlbmFtZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVuYW1lRXJyb3IobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGFwaS51cGRhdGVQcm9qZWN0KHByb2plY3RJZCwgeyB0aXRsZTogcmVuYW1lVGl0bGUudHJpbSgpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFByb2plY3RUaXRsZSh1cGRhdGVkPy50aXRsZSB8fCByZW5hbWVUaXRsZS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNldHRpbmdzT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFJlbmFtZUVycm9yKGU/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzYXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2F2aW5nUmVuYW1lKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLW1kIGJnLWFjY2VudCBob3ZlcjpiZy1hY2NlbnQtaG92ZXIgZGlzYWJsZWQ6b3BhY2l0eS01MCB0ZXh0LXdoaXRlIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3NhdmluZ1JlbmFtZSA/ICdTYXZpbmfigKYnIDogJ1NhdmUnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHt0b2FzdE1zZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTQgcmlnaHQtNCB6LTUwIGFuaW1hdGUtaW4gc2xpZGUtaW4tZnJvbS1ib3R0b20tNCBkdXJhdGlvbi0yMDBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyByb3VuZGVkLWxnIGJnLWJnLWVsZXZhdGVkIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXByaW1hcnkgdGV4dC1zbSBzaGFkb3ctZWxldmF0aW9uXCI+XG4gICAgICAgICAgICB7dG9hc3RNc2d9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZVN1cGFiYXNlIiwiY3JlYXRlQXBpIiwiQ2hhdCIsIkNoYXJhY3Rlck1hbmFnZXIiLCJXb3JsZFNldHRpbmdzTWFuYWdlciIsIlNldHRpbmdzIiwiSWNvblNldHRpbmdzIiwiQ2hldnJvbkxlZnQiLCJDaGV2cm9uUmlnaHQiLCJQbHVzIiwiVHJhc2gyIiwiTG9hZGVyMiIsIkNoZXZyb25Eb3duIiwiV29ya3NwYWNlIiwicHJvamVjdElkIiwiY2hhdHMiLCJzdXBhYmFzZSIsImFwaSIsImNoYXB0ZXJzIiwic2V0Q2hhcHRlcnMiLCJsb2FkaW5nQ2giLCJzZXRMb2FkaW5nQ2giLCJlcnJvckNoIiwic2V0RXJyb3JDaCIsInRhYnMiLCJzZXRUYWJzIiwiYWN0aXZlSWQiLCJzZXRBY3RpdmVJZCIsInRpdGxlIiwic2V0VGl0bGUiLCJjb250ZW50Iiwic2V0Q29udGVudCIsInNhdmluZyIsInNldFNhdmluZyIsInNhdmVUaW1lciIsImxlZnRDb2xsYXBzZWQiLCJzZXRMZWZ0Q29sbGFwc2VkIiwiYWlNdXNlT3BlbiIsInNldEFpTXVzZU9wZW4iLCJkZWxldGluZ0lkIiwic2V0RGVsZXRpbmdJZCIsInByb2plY3RUaXRsZSIsInNldFByb2plY3RUaXRsZSIsInByb2plY3REZXNjcmlwdGlvbiIsInNldFByb2plY3REZXNjcmlwdGlvbiIsInNldHRpbmdzT3BlbiIsInNldFNldHRpbmdzT3BlbiIsInJlbmFtZVRpdGxlIiwic2V0UmVuYW1lVGl0bGUiLCJyZW5hbWVEZXNjIiwic2V0UmVuYW1lRGVzYyIsInNhdmluZ1JlbmFtZSIsInNldFNhdmluZ1JlbmFtZSIsInJlbmFtZUVycm9yIiwic2V0UmVuYW1lRXJyb3IiLCJzZXR0aW5nc01lbnVPcGVuIiwic2V0U2V0dGluZ3NNZW51T3BlbiIsInByb2pNb2RlIiwic2V0UHJvak1vZGUiLCJwcm9qR2VucmUiLCJzZXRQcm9qR2VucmUiLCJwcm9qQ29yZUNvbmZsaWN0Iiwic2V0UHJvakNvcmVDb25mbGljdCIsInByb2pTZXR0aW5nc0pzb24iLCJzZXRQcm9qU2V0dGluZ3NKc29uIiwidG9hc3RNc2ciLCJzZXRUb2FzdE1zZyIsInRvYXN0VGltZXIiLCJTRVRUSU5HU19UQUJfSUQiLCJDSEFSQUNURVJTX1RBQl9JRCIsIldPUkxEX1RBQl9JRCIsInJpZ2h0T3BlbiIsInNldFJpZ2h0T3BlbiIsImNoYXRzQ2FjaGVLZXkiLCJjaGF0c0FjdGl2ZUtleSIsImNoYXB0ZXJzQ2FjaGVLZXkiLCJ0YWJzQ2FjaGVLZXkiLCJhY3RpdmVUYWJLZXkiLCJsZWZ0Q29sbGFwc2VkS2V5IiwicmlnaHRPcGVuS2V5Iiwic2V0Q2hhdHMiLCJhY3RpdmVDaGF0SWQiLCJzZXRBY3RpdmVDaGF0SWQiLCJoYXNDaGF0c0NhY2hlIiwic2V0SGFzQ2hhdHNDYWNoZSIsImNoYXRzUmVmIiwibmV3Q2hhdFR5cGUiLCJzZXROZXdDaGF0VHlwZSIsIm5ld0NoYXRUaXRsZSIsInNldE5ld0NoYXRUaXRsZSIsIm5ld0NoYXRPcGVuIiwic2V0TmV3Q2hhdE9wZW4iLCJjcmVhdGluZ0NoYXQiLCJzZXRDcmVhdGluZ0NoYXQiLCJjcmVhdGVDaGF0RXJyb3IiLCJzZXRDcmVhdGVDaGF0RXJyb3IiLCJjaGF0TWVudU9wZW4iLCJzZXRDaGF0TWVudU9wZW4iLCJoYXNDaGFwdGVyc0NhY2hlIiwic2V0SGFzQ2hhcHRlcnNDYWNoZSIsInMiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYXJyIiwiSlNPTiIsInBhcnNlIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwidiIsImNocyIsInZhbGlkIiwidCIsImF0IiwibGMiLCJybyIsInNvcnRDaGFwdGVycyIsInNvcnQiLCJhIiwiYiIsInRhIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImdldFRpbWUiLCJ0YiIsImxvY2FsZUNvbXBhcmUiLCJtb3VudGVkIiwiaXRlbXMiLCJsaXN0Q2hhcHRlcnNQYWdpbmF0ZWQiLCJlIiwibWVzc2FnZSIsIm9uU2V0dGluZ3MiLCJkZXRhaWwiLCJjaGFuZ2VzIiwibW9kZSIsImdlbnJlIiwidW5kZWZpbmVkIiwiY29yZUNvbmZsaWN0Iiwic2V0dGluZ3NKc29uIiwic3RyaW5naWZ5Iiwib25Nb2RlIiwibSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlciIsIlN0cmluZyIsImMiLCJwYW5lbF9zY3JpcHQiLCJyZXMiLCJjcmVhdGVDaGFwdGVyIiwibmV3SWQiLCJpZCIsInByZXYiLCJpbmNsdWRlcyIsInRhcmdldElkIiwiY2hhcHRlcl9udW1iZXIiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJzb3J0ZWQiLCJpZHgiLCJNYXRoIiwibWF4IiwibWluIiwibWF0Y2giLCJmaW5kIiwidG9Mb3dlckNhc2UiLCJ1cGRhdGVkIiwidXBkYXRlQ2hhcHRlciIsIm1hcCIsInAiLCJnZXRQcm9qZWN0IiwiZGVzY3JpcHRpb24iLCJ4cyIsImxpc3RDaGF0cyIsIm5leHQiLCJjdXJyZW50IiwiY3JlYXRlZCIsImNyZWF0ZUNoYXQiLCJ0eXBlIiwic2V0SXRlbSIsIm9wZW5UYWIiLCJjaCIsImNsb3NlVGFiIiwiZmlsdGVyIiwiY3VyciIsImluZGV4T2YiLCJvbkRyYWdTdGFydCIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJvbkRyb3AiLCJzcmNJZCIsImdldERhdGEiLCJzaSIsInRpIiwic3BsaWNlIiwic2NoZWR1bGVTYXZlIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm9uVGl0bGVDaGFuZ2UiLCJvbkNvbnRlbnRDaGFuZ2UiLCJvbk5ld0NoYXB0ZXIiLCJvbkRlbGV0ZUNoYXB0ZXIiLCJjb25maXJtIiwiZGVsZXRlQ2hhcHRlciIsIm1zZyIsIkVycm9yIiwiYWN0aXZlQ2hhcHRlciIsImdyaWRDb2xzIiwiZGl2IiwiY2xhc3NOYW1lIiwiYWN0aXZlIiwibGFiZWwiLCJkcmFnZ2FibGUiLCJvbkRyYWdPdmVyIiwicHJldmVudERlZmF1bHQiLCJvbk1vdXNlRG93biIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzcGFuIiwic3RvcFByb3BhZ2F0aW9uIiwiYXJpYS1oaWRkZW4iLCJzdHlsZSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJhc2lkZSIsIndvcmRDb3VudCIsInRyaW0iLCJzcGxpdCIsIkJvb2xlYW4iLCJkaXNhYmxlZCIsIm1haW4iLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJ0ZXh0YXJlYSIsInJvd3MiLCJzZWxlY3QiLCJvcHRpb24iLCJ1cGRhdGVCb2R5IiwiT2JqZWN0Iiwia2V5cyIsInVwZGF0ZVByb2plY3QiLCJ1cGRhdGVQcm9qZWN0U2V0dGluZ3MiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJyZXF1aXJlSW1hZ2UiLCJwbGFjZWhvbGRlciIsImNvbnRlbnRFZGl0YWJsZSIsInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyIsIm9uSW5wdXQiLCJjdXJyZW50VGFyZ2V0IiwidGV4dENvbnRlbnQiLCJ3aGl0ZVNwYWNlIiwiY2VpbCIsInRvTG9jYWxlU3RyaW5nIiwibmFtZSIsImNoZWNrZWQiLCJkZWxldGVDaGF0IiwieCIsImNoYXRJZCIsImgzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/workspace/Workspace.tsx\n"));

/***/ })

});