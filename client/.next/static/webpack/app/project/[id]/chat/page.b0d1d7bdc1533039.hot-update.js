"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/project/[id]/chat/page",{

/***/ "(app-pages-browser)/./src/components/chat/Chat.tsx":
/*!**************************************!*\
  !*** ./src/components/chat/Chat.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: function() { return /* binding */ Chat; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dnd */ \"(app-pages-browser)/./node_modules/react-dnd/dist/core/DndProvider.js\");\n/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-dnd-html5-backend */ \"(app-pages-browser)/./node_modules/react-dnd-html5-backend/dist/index.js\");\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(app-pages-browser)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _ChatBubble__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChatBubble */ \"(app-pages-browser)/./src/components/chat/ChatBubble.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpRight_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpRight,ChevronDown!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpRight_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpRight,ChevronDown!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-up-right.js\");\n/* __next_internal_client_entry_do_not_use__ Chat auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction Chat(param) {\n    let { chatId, initialMessages = [] } = param;\n    _s();\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_4__.createApi)(supabase), [\n        supabase\n    ]);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialMessages);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [streaming, setStreaming] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [inputError, setInputError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const listRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const modeMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const modeMenuListRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [saveError, setSaveError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pendingMode, setPendingMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pendingSettings, setPendingSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [toastMsg, setToastMsg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const apiBase = \"http://localhost:3000\" || 0;\n    const [loadingHistory, setLoadingHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [clientMode, setClientMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"chat\");\n    const [modeMenuOpen, setModeMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [modeMenuIndex, setModeMenuIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const cacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_chat_\".concat(chatId, \"_messages\"), [\n        chatId\n    ]);\n    const [hasCache, setHasCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(messages);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _listRef_current;\n        (_listRef_current = listRef.current) === null || _listRef_current === void 0 ? void 0 : _listRef_current.scrollTo({\n            top: listRef.current.scrollHeight,\n            behavior: \"smooth\"\n        });\n    }, [\n        messages.length\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const s =  true ? window.localStorage.getItem(cacheKey) : 0;\n            if (s) {\n                const arr = JSON.parse(s);\n                if (Array.isArray(arr)) {\n                    setMessages(arr);\n                    setHasCache(true);\n                }\n            }\n        } catch (e) {}\n    }, [\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // If parent provides messages later, set them only if list is empty\n        if (initialMessages.length && messages.length === 0) {\n            setMessages(initialMessages);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        initialMessages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasCache) {\n                return;\n            }\n            try {\n                if (!hasCache) setLoadingHistory(true);\n                const history = await api.getChatMessagesByChatId(chatId);\n                if (!mounted) return;\n                const next = Array.isArray(history) ? history : [];\n                // Skip update if no change to avoid flicker\n                try {\n                    if (hasCache && JSON.stringify(next) === JSON.stringify(messagesRef.current)) {\n                        return;\n                    }\n                } catch (e) {}\n                setMessages(next);\n            } catch (e) {\n            // swallow network errors during initial hydration/revalidation\n            } finally{\n                if (mounted) setLoadingHistory(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        chatId,\n        hasCache\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(cacheKey, JSON.stringify(messages));\n        } catch (e) {}\n    }, [\n        messages,\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        messagesRef.current = messages;\n    }, [\n        messages\n    ]);\n    // Auto-resize textarea height with content, up to a max then scroll\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = inputRef.current;\n        if (!el) return;\n        el.style.height = \"auto\";\n        const max = 256; // px max height before scroll\n        const next = Math.min(el.scrollHeight, max);\n        el.style.height = \"\".concat(next, \"px\");\n    }, [\n        input\n    ]);\n    // Close mode menu on outside click\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onDocClick(e) {\n            if (!modeMenuOpen) return;\n            const t = e.target;\n            if (modeMenuRef.current && t && !modeMenuRef.current.contains(t)) {\n                setModeMenuOpen(false);\n            }\n        }\n        document.addEventListener(\"mousedown\", onDocClick);\n        return ()=>document.removeEventListener(\"mousedown\", onDocClick);\n    }, [\n        modeMenuOpen\n    ]);\n    // Keyboard: open/close menu and navigate options\n    const onModeButtonKeyDown = (e)=>{\n        if (e.key === \"ArrowDown\" || e.key === \"Enter\" || e.key === \" \") {\n            e.preventDefault();\n            setModeMenuIndex(clientMode === \"chat\" ? 0 : 1);\n            setModeMenuOpen(true);\n        } else if (e.key === \"Escape\") {\n            setModeMenuOpen(false);\n        }\n    };\n    const onMenuKeyDown = (e)=>{\n        if (e.key === \"ArrowDown\") {\n            e.preventDefault();\n            setModeMenuIndex((i)=>(i + 1) % 2);\n        } else if (e.key === \"ArrowUp\") {\n            e.preventDefault();\n            setModeMenuIndex((i)=>(i + 1 + 2) % 2);\n        } else if (e.key === \"Enter\") {\n            e.preventDefault();\n            if (modeMenuIndex === 0) setClientMode(\"chat\");\n            else setClientMode(\"action\");\n            setModeMenuOpen(false);\n        } else if (e.key === \"Escape\") {\n            setModeMenuOpen(false);\n        }\n    };\n    // Shortcut: Ctrl+L focuses input\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onKey(e) {\n            if ((e.ctrlKey || e.metaKey) && (e.key === \"l\" || e.key === \"L\")) {\n                var _inputRef_current;\n                e.preventDefault();\n                (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n            }\n        }\n        window.addEventListener(\"keydown\", onKey);\n        return ()=>window.removeEventListener(\"keydown\", onKey);\n    }, []);\n    // Focus menu container when opened for keyboard nav\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (modeMenuOpen) {\n            setTimeout(()=>{\n                var _modeMenuListRef_current;\n                return (_modeMenuListRef_current = modeMenuListRef.current) === null || _modeMenuListRef_current === void 0 ? void 0 : _modeMenuListRef_current.focus();\n            }, 0);\n        }\n    }, [\n        modeMenuOpen\n    ]);\n    const send = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (opts)=>{\n        var _opts_messageOverride;\n        const text = ((_opts_messageOverride = opts === null || opts === void 0 ? void 0 : opts.messageOverride) !== null && _opts_messageOverride !== void 0 ? _opts_messageOverride : input).trim();\n        if (!text && !(opts === null || opts === void 0 ? void 0 : opts.regeneratePanelId)) {\n            setInputError('Prompt is empty. Try something like: \"Write the opening scene of a dark fantasy.\"');\n            return;\n        }\n        setInputError(null);\n        const { data: { session } } = await supabase.auth.getSession();\n        const token = session === null || session === void 0 ? void 0 : session.access_token;\n        if (!token) return;\n        const userMessage = {\n            role: \"user\",\n            content: text,\n            panelId: (opts === null || opts === void 0 ? void 0 : opts.regeneratePanelId) || null\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInput(\"\");\n        setStreaming(true);\n        // Mentions parsing: @chapter<number> or @\"exact title\"\n        const mNum = /@chapter\\s*([0-9]+)/i.exec(text) || /@chapter_?([0-9]+)/i.exec(text);\n        const mTitle = /@\"([^\"]+)\"/.exec(text);\n        const mentions = {};\n        if (mNum === null || mNum === void 0 ? void 0 : mNum[1]) mentions.chapter_number = parseInt(mNum[1], 10);\n        if (mTitle === null || mTitle === void 0 ? void 0 : mTitle[1]) mentions.title = mTitle[1];\n        const res = await fetch(\"\".concat(apiBase, \"/api/chat/\").concat(chatId), {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": \"Bearer \".concat(token),\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                message: userMessage.content,\n                regeneratePanelId: (opts === null || opts === void 0 ? void 0 : opts.regeneratePanelId) || undefined,\n                clientMode,\n                mentions\n            })\n        });\n        if (!res.body) {\n            setStreaming(false);\n            return;\n        }\n        // Push empty assistant message to stream into\n        let assistantIndex = -1;\n        setMessages((prev)=>{\n            assistantIndex = prev.length;\n            return [\n                ...prev,\n                {\n                    role: \"assistant\",\n                    content: \"\"\n                }\n            ];\n        });\n        const reader = res.body.getReader();\n        const decoder = new TextDecoder();\n        try {\n            while(true){\n                const { value, done } = await reader.read();\n                if (done) break;\n                const chunk = decoder.decode(value, {\n                    stream: true\n                });\n                for (const line of chunk.split(\"\\n\")){\n                    const trimmed = line.trim();\n                    if (!trimmed.startsWith(\"data:\")) continue;\n                    const data = trimmed.slice(5).trim();\n                    if (!data) continue;\n                    try {\n                        const evt = JSON.parse(data);\n                        if (evt.type === \"text\" && evt.content) {\n                            setMessages((prev)=>{\n                                const copy = [\n                                    ...prev\n                                ];\n                                const msg = copy[assistantIndex];\n                                copy[assistantIndex] = {\n                                    ...msg,\n                                    content: ((msg === null || msg === void 0 ? void 0 : msg.content) || \"\") + evt.content\n                                };\n                                return copy;\n                            });\n                        } else if (evt.action === \"create_chapter\") {\n                            if (true) {\n                                window.dispatchEvent(new CustomEvent(\"workspace:create-draft\", {\n                                    detail: {\n                                        title: evt.title || \"Untitled Chapter\",\n                                        content: evt.content || \"\"\n                                    }\n                                }));\n                            }\n                        } else if (evt.action === \"confirm_mode\" && evt.mode) {\n                            setPendingMode(evt.mode);\n                            setMessages((prev)=>[\n                                    ...prev,\n                                    {\n                                        role: \"assistant\",\n                                        content: 'Pending mode change to \"'.concat(evt.mode, '\". Confirm?')\n                                    }\n                                ]);\n                        } else if (evt.action === \"confirm_settings\" && evt.changes) {\n                            if (clientMode === \"action\") {\n                                setPendingSettings(evt.changes);\n                                setMessages((prev)=>[\n                                        ...prev,\n                                        {\n                                            role: \"assistant\",\n                                            content: \"Pending settings update detected. Confirm to apply changes.\"\n                                        }\n                                    ]);\n                            } // ignore in Chat mode for safety\n                        } else if (evt.type === \"image_job\") {\n                        // Optionally reflect job queued state\n                        } else if (evt.action === \"convert_to_manhwa\") {\n                            if (true) {\n                                window.dispatchEvent(new CustomEvent(\"workspace:create-draft\", {\n                                    detail: {\n                                        title: \"Converted Panels\",\n                                        panel_script: evt.panel_script\n                                    }\n                                }));\n                            }\n                        } else if (evt.action === \"update_chapter\") {\n                            if (true) {\n                                window.dispatchEvent(new CustomEvent(\"workspace:update-chapter\", {\n                                    detail: {\n                                        id: evt.id,\n                                        chapter_number: evt.chapter_number,\n                                        title: evt.title,\n                                        content: evt.content\n                                    }\n                                }));\n                            }\n                        } else if (evt.action === \"upsert_character\" && evt.item) {\n                            if (true) {\n                                window.dispatchEvent(new CustomEvent(\"workspace:character-upsert\", {\n                                    detail: {\n                                        item: evt.item\n                                    }\n                                }));\n                            }\n                        } else if (evt.action === \"upsert_world\" && evt.item) {\n                            if (true) {\n                                window.dispatchEvent(new CustomEvent(\"workspace:world-upsert\", {\n                                    detail: {\n                                        item: evt.item\n                                    }\n                                }));\n                            }\n                        } else if (evt.type === \"error\") {\n                            // Append error to conversation\n                            setMessages((prev)=>[\n                                    ...prev,\n                                    {\n                                        role: \"assistant\",\n                                        content: \"Error: \".concat(evt.message)\n                                    }\n                                ]);\n                        } else if (evt.type === \"done\") {\n                            setStreaming(false);\n                        }\n                    } catch (e) {\n                    // ignore partial json lines\n                    }\n                }\n            }\n        } finally{\n            setStreaming(false);\n            reader.releaseLock();\n        }\n    }, [\n        apiBase,\n        input,\n        chatId,\n        supabase,\n        clientMode\n    ]);\n    const onRegenerate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((panelId)=>{\n        void send({\n            regeneratePanelId: panelId\n        });\n    }, [\n        send\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_dnd__WEBPACK_IMPORTED_MODULE_5__.DndProvider, {\n        backend: react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_6__.HTML5Backend,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full flex flex-col bg-bg-elevated\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: listRef,\n                    className: \"flex-1 min-h-0 overflow-y-auto space-y-4 p-4\",\n                    children: [\n                        loadingHistory && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-secondary\",\n                            children: \"Loading previous messages…\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 302,\n                            columnNumber: 13\n                        }, this),\n                        messages.map((m, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatBubble__WEBPACK_IMPORTED_MODULE_3__.ChatBubble, {\n                                role: m.role,\n                                content: m.content,\n                                panelId: m.panelId,\n                                onRegenerate: onRegenerate,\n                                draggable: Boolean(m.panelId)\n                            }, i, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                lineNumber: 305,\n                                columnNumber: 13\n                            }, this)),\n                        streaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-secondary animate-pulse\",\n                            children: \"AI is typing…\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 315,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                    lineNumber: 300,\n                    columnNumber: 9\n                }, this),\n                toastMsg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed top-3 right-3 z-50\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-3 py-2 rounded bg-slate-950/90 border border-slate-800 text-slate-100 text-sm shadow-lg\",\n                        children: toastMsg\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                        lineNumber: 321,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                    lineNumber: 320,\n                    columnNumber: 9\n                }, this),\n                (pendingMode || pendingSettings) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t border-border-default p-3 flex items-center justify-between gap-3 bg-bg-primary\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-primary\",\n                            children: [\n                                pendingMode && 'Confirm mode change to \"'.concat(pendingMode, '\"?'),\n                                pendingSettings && !pendingMode && \"Confirm applying pending settings changes?\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 329,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"px-3 py-1.5 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover transition-all duration-150\",\n                                    onClick: ()=>{\n                                        setPendingMode(null);\n                                        setPendingSettings(null);\n                                    },\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                    lineNumber: 334,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"px-3 py-1.5 rounded-md bg-accent hover:bg-accent-hover text-white disabled:opacity-50 transition-all duration-150\",\n                                    disabled: saving || clientMode !== \"action\",\n                                    onClick: async ()=>{\n                                        setSaving(true);\n                                        setSaveError(null);\n                                        try {\n                                            if (pendingMode) {\n                                                // Mode is project-level; Chat component no longer knows projectId here\n                                                // This confirm block remains but requires a project-level handler outside\n                                                // For safety, we just clear pending and show a note.\n                                                // Notify rest of app (e.g., sidebar) to reflect mode immediately\n                                                if (true) {\n                                                    window.dispatchEvent(new CustomEvent(\"project:mode-updated\", {\n                                                        detail: {\n                                                            mode: pendingMode\n                                                        }\n                                                    }));\n                                                }\n                                                setMessages((prev)=>[\n                                                        ...prev,\n                                                        {\n                                                            role: \"assistant\",\n                                                            content: \"Mode updated to \".concat(pendingMode, \".\")\n                                                        }\n                                                    ]);\n                                                setPendingMode(null);\n                                            } else if (pendingSettings) {\n                                                // Settings are project-level; handle outside. Here we preview-only.\n                                                if (true) {\n                                                    window.dispatchEvent(new CustomEvent(\"project:settings-updated\", {\n                                                        detail: {\n                                                            changes: pendingSettings\n                                                        }\n                                                    }));\n                                                }\n                                                setMessages((prev)=>[\n                                                        ...prev,\n                                                        {\n                                                            role: \"assistant\",\n                                                            content: \"Settings updated.\"\n                                                        }\n                                                    ]);\n                                                setPendingSettings(null);\n                                                // Toast from chat confirm\n                                                if (toastTimer.current) clearTimeout(toastTimer.current);\n                                                setToastMsg(\"Settings saved\");\n                                                toastTimer.current = setTimeout(()=>setToastMsg(\"\"), 3000);\n                                            }\n                                        } catch (e) {\n                                            setSaveError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to save\");\n                                            setMessages((prev)=>[\n                                                    ...prev,\n                                                    {\n                                                        role: \"assistant\",\n                                                        content: \"Error persisting changes: \".concat((e === null || e === void 0 ? void 0 : e.message) || \"Failed to save\")\n                                                    }\n                                                ]);\n                                        } finally{\n                                            setSaving(false);\n                                        }\n                                    },\n                                    children: \"Confirm\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                    lineNumber: 340,\n                                    columnNumber: 15\n                                }, this),\n                                clientMode !== \"action\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[11px] text-text-tertiary\",\n                                    children: \"Switch to Action mode to apply\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                    lineNumber: 380,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 333,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                    lineNumber: 328,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t border-border-default p-3 bg-bg-primary\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-3 items-end\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                        ref: inputRef,\n                                        value: input,\n                                        onChange: (e)=>setInput(e.target.value),\n                                        placeholder: \"Chat with Cascade\",\n                                        rows: 2,\n                                        className: \"w-full bg-bg-elevated border border-border-default rounded-2xl pl-12 pr-12 pt-2 pb-10 text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent resize-none min-h-[80px] max-h-72 overflow-y-auto transition-colors duration-150\",\n                                        onKeyDown: (e)=>{\n                                            if (e.key === \"Enter\" && !e.shiftKey) {\n                                                e.preventDefault();\n                                                void send();\n                                            }\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                        lineNumber: 390,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute left-2 bottom-2\",\n                                        ref: modeMenuRef,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                className: \"text-xs px-3 py-2 rounded-lg border border-border-default \".concat(clientMode === \"chat\" ? \"text-success\" : \"text-accent\", \" bg-bg-elevated hover:bg-bg-hover inline-flex items-center gap-1.5 transition-all duration-150\"),\n                                                onClick: ()=>{\n                                                    setModeMenuIndex(clientMode === \"chat\" ? 0 : 1);\n                                                    setModeMenuOpen((v)=>!v);\n                                                },\n                                                \"aria-haspopup\": \"menu\",\n                                                \"aria-expanded\": modeMenuOpen,\n                                                onKeyDown: onModeButtonKeyDown,\n                                                title: \"Mode\",\n                                                children: [\n                                                    clientMode === \"chat\" ? \"Chat\" : \"Action\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpRight_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                        className: \"w-3 h-3\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                        lineNumber: 416,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                lineNumber: 406,\n                                                columnNumber: 17\n                                            }, this),\n                                            modeMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full mb-2 left-0 w-64 rounded-lg border border-border-default bg-bg-elevated shadow-elevation p-1.5 text-xs text-text-primary z-20\",\n                                                role: \"menu\",\n                                                tabIndex: -1,\n                                                ref: modeMenuListRef,\n                                                onKeyDown: onMenuKeyDown,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: \"w-full text-left px-3 py-2.5 rounded-md hover:bg-bg-hover transition-all duration-150 \".concat(modeMenuIndex === 0 ? \"ring-1 ring-accent\" : \"\", \" \").concat(clientMode === \"chat\" ? \"bg-bg-hover\" : \"\"),\n                                                        onClick: ()=>{\n                                                            setClientMode(\"chat\");\n                                                            setModeMenuOpen(false);\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"font-semibold text-text-primary\",\n                                                                children: \"Chat\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                                lineNumber: 430,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-text-tertiary text-[11px] mt-0.5\",\n                                                                children: \"Brainstorm, outline, preview. No writes.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                                lineNumber: 431,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                        lineNumber: 426,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: \"w-full text-left px-3 py-2.5 rounded-md hover:bg-bg-hover transition-all duration-150 mt-1 \".concat(modeMenuIndex === 1 ? \"ring-1 ring-accent\" : \"\", \" \").concat(clientMode === \"action\" ? \"bg-bg-hover\" : \"\"),\n                                                        onClick: ()=>{\n                                                            setClientMode(\"action\");\n                                                            setModeMenuOpen(false);\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"font-semibold text-text-primary\",\n                                                                children: \"Action\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                                lineNumber: 437,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-text-tertiary text-[11px] mt-0.5\",\n                                                                children: \"Enable saving settings and chapters.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                                lineNumber: 438,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                        lineNumber: 433,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                lineNumber: 419,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                        lineNumber: 405,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>void send(),\n                                        disabled: streaming || !input.trim(),\n                                        className: \"absolute right-2 bottom-2 bg-accent hover:bg-accent-hover disabled:opacity-40 disabled:cursor-not-allowed text-white w-8 h-8 rounded-lg inline-flex items-center justify-center transition-all duration-150\",\n                                        title: \"Send\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpRight_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"w-4 h-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                lineNumber: 449,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"sr-only\",\n                                                children: \"Send\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                                lineNumber: 450,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                        lineNumber: 443,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                                lineNumber: 389,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 387,\n                            columnNumber: 11\n                        }, this),\n                        inputError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-2 text-xs text-red-400 p-2 rounded-lg bg-red-950/20 border border-red-500/20\",\n                            children: inputError\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                            lineNumber: 454,\n                            columnNumber: 26\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n                    lineNumber: 386,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n            lineNumber: 298,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/chat/Chat.tsx\",\n        lineNumber: 297,\n        columnNumber: 5\n    }, this);\n}\n_s(Chat, \"V/sCbzveP6T0G6qFcZ9lZ8tpL8g=\", false, function() {\n    return [\n        _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase\n    ];\n});\n_c = Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2NoYXQvQ2hhdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUUwRTtBQUVsQztBQUNlO0FBQ2U7QUFDNUI7QUFDSjtBQUNtQjtBQVNsRCxTQUFTWSxLQUFLLEtBQXFGO1FBQXJGLEVBQUVDLE1BQU0sRUFBRUMsa0JBQWtCLEVBQUUsRUFBdUQsR0FBckY7O0lBQ25CLE1BQU1DLFdBQVdSLG1GQUFXQTtJQUM1QixNQUFNUyxNQUFNZCw4Q0FBT0EsQ0FBQyxJQUFNTyxtREFBU0EsQ0FBQ00sV0FBVztRQUFDQTtLQUFTO0lBQ3pELE1BQU0sQ0FBQ0UsVUFBVUMsWUFBWSxHQUFHZCwrQ0FBUUEsQ0FBZ0JVO0lBQ3hELE1BQU0sQ0FBQ0ssT0FBT0MsU0FBUyxHQUFHaEIsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDaUIsV0FBV0MsYUFBYSxHQUFHbEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDbUIsWUFBWUMsY0FBYyxHQUFHcEIsK0NBQVFBLENBQWdCO0lBQzVELE1BQU1xQixVQUFVdEIsNkNBQU1BLENBQWlCO0lBQ3ZDLE1BQU11QixXQUFXdkIsNkNBQU1BLENBQXNCO0lBQzdDLE1BQU13QixjQUFjeEIsNkNBQU1BLENBQWlCO0lBQzNDLE1BQU15QixrQkFBa0J6Qiw2Q0FBTUEsQ0FBaUI7SUFFL0MsTUFBTSxDQUFDMEIsUUFBUUMsVUFBVSxHQUFHMUIsK0NBQVFBLENBQUM7SUFDckMsTUFBTSxDQUFDMkIsV0FBV0MsYUFBYSxHQUFHNUIsK0NBQVFBLENBQWdCO0lBRTFELE1BQU0sQ0FBQzZCLGFBQWFDLGVBQWUsR0FBRzlCLCtDQUFRQSxDQUF3QztJQUN0RixNQUFNLENBQUMrQixpQkFBaUJDLG1CQUFtQixHQUFHaEMsK0NBQVFBLENBQWE7SUFDbkUsTUFBTSxDQUFDaUMsVUFBVUMsWUFBWSxHQUFHbEMsK0NBQVFBLENBQVM7SUFDakQsTUFBTW1DLGFBQWFwQyw2Q0FBTUEs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IndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvY2hhdC9DaGF0LnRzeD81ZTEyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRG5kUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1kbmQnO1xuaW1wb3J0IHsgSFRNTDVCYWNrZW5kIH0gZnJvbSAncmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQnO1xuaW1wb3J0IHsgdXNlU3VwYWJhc2UgfSBmcm9tICdAL2NvbXBvbmVudHMvcHJvdmlkZXJzL1N1cGFiYXNlUHJvdmlkZXInO1xuaW1wb3J0IHsgQ2hhdEJ1YmJsZSB9IGZyb20gJy4vQ2hhdEJ1YmJsZSc7XG5pbXBvcnQgeyBjcmVhdGVBcGkgfSBmcm9tICdAL2xpYi9hcGknO1xuaW1wb3J0IHsgQXJyb3dVcFJpZ2h0LCBDaGV2cm9uRG93biB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmV4cG9ydCB0eXBlIENoYXRNZXNzYWdlID0ge1xuICBpZD86IHN0cmluZztcbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgcGFuZWxJZD86IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdCh7IGNoYXRJZCwgaW5pdGlhbE1lc3NhZ2VzID0gW10gfTogeyBjaGF0SWQ6IHN0cmluZzsgaW5pdGlhbE1lc3NhZ2VzPzogQ2hhdE1lc3NhZ2VbXSB9KSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gdXNlU3VwYWJhc2UoKTtcbiAgY29uc3QgYXBpID0gdXNlTWVtbygoKSA9PiBjcmVhdGVBcGkoc3VwYWJhc2UpLCBbc3VwYWJhc2VdKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxDaGF0TWVzc2FnZVtdPihpbml0aWFsTWVzc2FnZXMpO1xuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3N0cmVhbWluZywgc2V0U3RyZWFtaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lucHV0RXJyb3IsIHNldElucHV0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGxpc3RSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MVGV4dEFyZWFFbGVtZW50PihudWxsKTtcbiAgY29uc3QgbW9kZU1lbnVSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBtb2RlTWVudUxpc3RSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzYXZlRXJyb3IsIHNldFNhdmVFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbcGVuZGluZ01vZGUsIHNldFBlbmRpbmdNb2RlXSA9IHVzZVN0YXRlPCdub3ZlbCcgfCAnbWFuaHdhJyB8ICdjb252ZXJ0JyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcGVuZGluZ1NldHRpbmdzLCBzZXRQZW5kaW5nU2V0dGluZ3NdID0gdXNlU3RhdGU8YW55IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt0b2FzdE1zZywgc2V0VG9hc3RNc2ddID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IHRvYXN0VGltZXIgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsPihudWxsKTtcblxuICBjb25zdCBhcGlCYXNlID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAwJztcblxuICBjb25zdCBbbG9hZGluZ0hpc3RvcnksIHNldExvYWRpbmdIaXN0b3J5XSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2NsaWVudE1vZGUsIHNldENsaWVudE1vZGVdID0gdXNlU3RhdGU8J2NoYXQnIHwgJ2FjdGlvbic+KCdjaGF0Jyk7XG4gIGNvbnN0IFttb2RlTWVudU9wZW4sIHNldE1vZGVNZW51T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RlTWVudUluZGV4LCBzZXRNb2RlTWVudUluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG5cbiAgY29uc3QgY2FjaGVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9jaGF0XyR7Y2hhdElkfV9tZXNzYWdlc2AsIFtjaGF0SWRdKTtcbiAgY29uc3QgW2hhc0NhY2hlLCBzZXRIYXNDYWNoZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IG1lc3NhZ2VzUmVmID0gdXNlUmVmPENoYXRNZXNzYWdlW10+KG1lc3NhZ2VzKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxpc3RSZWYuY3VycmVudD8uc2Nyb2xsVG8oeyB0b3A6IGxpc3RSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfSwgW21lc3NhZ2VzLmxlbmd0aF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHMgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShjYWNoZUtleSkgOiBudWxsO1xuICAgICAgaWYgKHMpIHtcbiAgICAgICAgY29uc3QgYXJyID0gSlNPTi5wYXJzZShzKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICAgIHNldE1lc3NhZ2VzKGFyciBhcyBDaGF0TWVzc2FnZVtdKTtcbiAgICAgICAgICBzZXRIYXNDYWNoZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2gge31cbiAgfSwgW2NhY2hlS2V5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJZiBwYXJlbnQgcHJvdmlkZXMgbWVzc2FnZXMgbGF0ZXIsIHNldCB0aGVtIG9ubHkgaWYgbGlzdCBpcyBlbXB0eVxuICAgIGlmIChpbml0aWFsTWVzc2FnZXMubGVuZ3RoICYmIG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0TWVzc2FnZXMoaW5pdGlhbE1lc3NhZ2VzKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbaW5pdGlhbE1lc3NhZ2VzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChoYXNDYWNoZSkgeyByZXR1cm47IH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghaGFzQ2FjaGUpIHNldExvYWRpbmdIaXN0b3J5KHRydWUpO1xuICAgICAgICBjb25zdCBoaXN0b3J5ID0gYXdhaXQgYXBpLmdldENoYXRNZXNzYWdlc0J5Q2hhdElkKGNoYXRJZCk7XG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBuZXh0ID0gQXJyYXkuaXNBcnJheShoaXN0b3J5KSA/IGhpc3RvcnkgYXMgYW55IDogW107XG4gICAgICAgIC8vIFNraXAgdXBkYXRlIGlmIG5vIGNoYW5nZSB0byBhdm9pZCBmbGlja2VyXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGhhc0NhY2hlICYmIEpTT04uc3RyaW5naWZ5KG5leHQpID09PSBKU09OLnN0cmluZ2lmeShtZXNzYWdlc1JlZi5jdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICBzZXRNZXNzYWdlcyhuZXh0KTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBzd2FsbG93IG5ldHdvcmsgZXJyb3JzIGR1cmluZyBpbml0aWFsIGh5ZHJhdGlvbi9yZXZhbGlkYXRpb25cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChtb3VudGVkKSBzZXRMb2FkaW5nSGlzdG9yeShmYWxzZSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkID0gZmFsc2U7IH07XG4gIH0sIFthcGksIGNoYXRJZCwgaGFzQ2FjaGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShjYWNoZUtleSwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMpKTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFttZXNzYWdlcywgY2FjaGVLZXldKTtcblxuICB1c2VFZmZlY3QoKCkgPT4geyBtZXNzYWdlc1JlZi5jdXJyZW50ID0gbWVzc2FnZXM7IH0sIFttZXNzYWdlc10pO1xuXG4gIC8vIEF1dG8tcmVzaXplIHRleHRhcmVhIGhlaWdodCB3aXRoIGNvbnRlbnQsIHVwIHRvIGEgbWF4IHRoZW4gc2Nyb2xsXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZWwgPSBpbnB1dFJlZi5jdXJyZW50O1xuICAgIGlmICghZWwpIHJldHVybjtcbiAgICBlbC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgY29uc3QgbWF4ID0gMjU2OyAvLyBweCBtYXggaGVpZ2h0IGJlZm9yZSBzY3JvbGxcbiAgICBjb25zdCBuZXh0ID0gTWF0aC5taW4oZWwuc2Nyb2xsSGVpZ2h0LCBtYXgpO1xuICAgIGVsLnN0eWxlLmhlaWdodCA9IGAke25leHR9cHhgO1xuICB9LCBbaW5wdXRdKTtcblxuICAvLyBDbG9zZSBtb2RlIG1lbnUgb24gb3V0c2lkZSBjbGlja1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIG9uRG9jQ2xpY2soZTogTW91c2VFdmVudCkge1xuICAgICAgaWYgKCFtb2RlTWVudU9wZW4pIHJldHVybjtcbiAgICAgIGNvbnN0IHQgPSBlLnRhcmdldCBhcyBOb2RlIHwgbnVsbDtcbiAgICAgIGlmIChtb2RlTWVudVJlZi5jdXJyZW50ICYmIHQgJiYgIW1vZGVNZW51UmVmLmN1cnJlbnQuY29udGFpbnModCkpIHtcbiAgICAgICAgc2V0TW9kZU1lbnVPcGVuKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb2NDbGljayk7XG4gICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uRG9jQ2xpY2spO1xuICB9LCBbbW9kZU1lbnVPcGVuXSk7XG5cbiAgLy8gS2V5Ym9hcmQ6IG9wZW4vY2xvc2UgbWVudSBhbmQgbmF2aWdhdGUgb3B0aW9uc1xuICBjb25zdCBvbk1vZGVCdXR0b25LZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnQXJyb3dEb3duJyB8fCBlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZXRNb2RlTWVudUluZGV4KGNsaWVudE1vZGUgPT09ICdjaGF0JyA/IDAgOiAxKTtcbiAgICAgIHNldE1vZGVNZW51T3Blbih0cnVlKTtcbiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgc2V0TW9kZU1lbnVPcGVuKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb25NZW51S2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0Fycm93RG93bicpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNldE1vZGVNZW51SW5kZXgoKGkpID0+IChpICsgMSkgJSAyKTtcbiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNldE1vZGVNZW51SW5kZXgoKGkpID0+IChpICsgMSArIDIpICUgMik7XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKG1vZGVNZW51SW5kZXggPT09IDApIHNldENsaWVudE1vZGUoJ2NoYXQnKTtcbiAgICAgIGVsc2Ugc2V0Q2xpZW50TW9kZSgnYWN0aW9uJyk7XG4gICAgICBzZXRNb2RlTWVudU9wZW4oZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICBzZXRNb2RlTWVudU9wZW4oZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBTaG9ydGN1dDogQ3RybCtMIGZvY3VzZXMgaW5wdXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBvbktleShlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICBpZiAoKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmIChlLmtleSA9PT0gJ2wnIHx8IGUua2V5ID09PSAnTCcpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXkpO1xuICB9LCBbXSk7XG5cbiAgLy8gRm9jdXMgbWVudSBjb250YWluZXIgd2hlbiBvcGVuZWQgZm9yIGtleWJvYXJkIG5hdlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtb2RlTWVudU9wZW4pIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gbW9kZU1lbnVMaXN0UmVmLmN1cnJlbnQ/LmZvY3VzKCksIDApO1xuICAgIH1cbiAgfSwgW21vZGVNZW51T3Blbl0pO1xuXG4gIGNvbnN0IHNlbmQgPSB1c2VDYWxsYmFjayhhc3luYyAob3B0cz86IHsgcmVnZW5lcmF0ZVBhbmVsSWQ/OiBzdHJpbmc7IG1lc3NhZ2VPdmVycmlkZT86IHN0cmluZyB9KSA9PiB7XG4gICAgY29uc3QgdGV4dCA9IChvcHRzPy5tZXNzYWdlT3ZlcnJpZGUgPz8gaW5wdXQpLnRyaW0oKTtcbiAgICBpZiAoIXRleHQgJiYgIW9wdHM/LnJlZ2VuZXJhdGVQYW5lbElkKSB7XG4gICAgICBzZXRJbnB1dEVycm9yKCdQcm9tcHQgaXMgZW1wdHkuIFRyeSBzb21ldGhpbmcgbGlrZTogXCJXcml0ZSB0aGUgb3BlbmluZyBzY2VuZSBvZiBhIGRhcmsgZmFudGFzeS5cIicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRJbnB1dEVycm9yKG51bGwpO1xuXG4gICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgY29uc3QgdG9rZW4gPSBzZXNzaW9uPy5hY2Nlc3NfdG9rZW47XG4gICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuXG4gICAgY29uc3QgdXNlck1lc3NhZ2U6IENoYXRNZXNzYWdlID0geyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHRleHQsIHBhbmVsSWQ6IG9wdHM/LnJlZ2VuZXJhdGVQYW5lbElkIHx8IG51bGwgfTtcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHVzZXJNZXNzYWdlXSk7XG4gICAgc2V0SW5wdXQoJycpO1xuICAgIHNldFN0cmVhbWluZyh0cnVlKTtcblxuICAgIC8vIE1lbnRpb25zIHBhcnNpbmc6IEBjaGFwdGVyPG51bWJlcj4gb3IgQFwiZXhhY3QgdGl0bGVcIlxuICAgIGNvbnN0IG1OdW0gPSAvQGNoYXB0ZXJcXHMqKFswLTldKykvaS5leGVjKHRleHQpIHx8IC9AY2hhcHRlcl8/KFswLTldKykvaS5leGVjKHRleHQpO1xuICAgIGNvbnN0IG1UaXRsZSA9IC9AXCIoW15cIl0rKVwiLy5leGVjKHRleHQpO1xuICAgIGNvbnN0IG1lbnRpb25zOiBhbnkgPSB7fTtcbiAgICBpZiAobU51bT8uWzFdKSBtZW50aW9ucy5jaGFwdGVyX251bWJlciA9IHBhcnNlSW50KG1OdW1bMV0sIDEwKTtcbiAgICBpZiAobVRpdGxlPy5bMV0pIG1lbnRpb25zLnRpdGxlID0gbVRpdGxlWzFdO1xuXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YXBpQmFzZX0vYXBpL2NoYXQvJHtjaGF0SWR9YCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiB1c2VyTWVzc2FnZS5jb250ZW50LCByZWdlbmVyYXRlUGFuZWxJZDogb3B0cz8ucmVnZW5lcmF0ZVBhbmVsSWQgfHwgdW5kZWZpbmVkLCBjbGllbnRNb2RlLCBtZW50aW9ucyB9KSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzLmJvZHkpIHtcbiAgICAgIHNldFN0cmVhbWluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUHVzaCBlbXB0eSBhc3Npc3RhbnQgbWVzc2FnZSB0byBzdHJlYW0gaW50b1xuICAgIGxldCBhc3Npc3RhbnRJbmRleCA9IC0xO1xuICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiB7XG4gICAgICBhc3Npc3RhbnRJbmRleCA9IHByZXYubGVuZ3RoO1xuICAgICAgcmV0dXJuIFsuLi5wcmV2LCB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiAnJyB9XTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlYWRlciA9IHJlcy5ib2R5LmdldFJlYWRlcigpO1xuICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcblxuICAgIHRyeSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XG4gICAgICAgIGNvbnN0IGNodW5rID0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgY2h1bmsuc3BsaXQoJ1xcbicpKSB7XG4gICAgICAgICAgY29uc3QgdHJpbW1lZCA9IGxpbmUudHJpbSgpO1xuICAgICAgICAgIGlmICghdHJpbW1lZC5zdGFydHNXaXRoKCdkYXRhOicpKSBjb250aW51ZTtcbiAgICAgICAgICBjb25zdCBkYXRhID0gdHJpbW1lZC5zbGljZSg1KS50cmltKCk7XG4gICAgICAgICAgaWYgKCFkYXRhKSBjb250aW51ZTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZXZ0ID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGlmIChldnQudHlwZSA9PT0gJ3RleHQnICYmIGV2dC5jb250ZW50KSB7XG4gICAgICAgICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29weSA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBjb3B5W2Fzc2lzdGFudEluZGV4XTtcbiAgICAgICAgICAgICAgICBjb3B5W2Fzc2lzdGFudEluZGV4XSA9IHsgLi4ubXNnLCBjb250ZW50OiAobXNnPy5jb250ZW50IHx8ICcnKSArIGV2dC5jb250ZW50IH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQuYWN0aW9uID09PSAnY3JlYXRlX2NoYXB0ZXInKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnd29ya3NwYWNlOmNyZWF0ZS1kcmFmdCcsIHsgZGV0YWlsOiB7IHRpdGxlOiBldnQudGl0bGUgfHwgJ1VudGl0bGVkIENoYXB0ZXInLCBjb250ZW50OiBldnQuY29udGVudCB8fCAnJyB9IH0pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQuYWN0aW9uID09PSAnY29uZmlybV9tb2RlJyAmJiBldnQubW9kZSkge1xuICAgICAgICAgICAgICBzZXRQZW5kaW5nTW9kZShldnQubW9kZSk7XG4gICAgICAgICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgeyByb2xlOiAnYXNzaXN0YW50JywgY29udGVudDogYFBlbmRpbmcgbW9kZSBjaGFuZ2UgdG8gXCIke2V2dC5tb2RlfVwiLiBDb25maXJtP2AgfV0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQuYWN0aW9uID09PSAnY29uZmlybV9zZXR0aW5ncycgJiYgZXZ0LmNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgaWYgKGNsaWVudE1vZGUgPT09ICdhY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgc2V0UGVuZGluZ1NldHRpbmdzKGV2dC5jaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHsgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6ICdQZW5kaW5nIHNldHRpbmdzIHVwZGF0ZSBkZXRlY3RlZC4gQ29uZmlybSB0byBhcHBseSBjaGFuZ2VzLicgfV0pO1xuICAgICAgICAgICAgICB9IC8vIGlnbm9yZSBpbiBDaGF0IG1vZGUgZm9yIHNhZmV0eVxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQudHlwZSA9PT0gJ2ltYWdlX2pvYicpIHtcbiAgICAgICAgICAgICAgLy8gT3B0aW9uYWxseSByZWZsZWN0IGpvYiBxdWV1ZWQgc3RhdGVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LmFjdGlvbiA9PT0gJ2NvbnZlcnRfdG9fbWFuaHdhJykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3dvcmtzcGFjZTpjcmVhdGUtZHJhZnQnLCB7IGRldGFpbDogeyB0aXRsZTogJ0NvbnZlcnRlZCBQYW5lbHMnLCBwYW5lbF9zY3JpcHQ6IGV2dC5wYW5lbF9zY3JpcHQgfSB9KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LmFjdGlvbiA9PT0gJ3VwZGF0ZV9jaGFwdGVyJykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3dvcmtzcGFjZTp1cGRhdGUtY2hhcHRlcicsIHsgZGV0YWlsOiB7IGlkOiBldnQuaWQsIGNoYXB0ZXJfbnVtYmVyOiBldnQuY2hhcHRlcl9udW1iZXIsIHRpdGxlOiBldnQudGl0bGUsIGNvbnRlbnQ6IGV2dC5jb250ZW50IH0gfSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2dC5hY3Rpb24gPT09ICd1cHNlcnRfY2hhcmFjdGVyJyAmJiBldnQuaXRlbSkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3dvcmtzcGFjZTpjaGFyYWN0ZXItdXBzZXJ0JywgeyBkZXRhaWw6IHsgaXRlbTogZXZ0Lml0ZW0gfSB9KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LmFjdGlvbiA9PT0gJ3Vwc2VydF93b3JsZCcgJiYgZXZ0Lml0ZW0pIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd3b3Jrc3BhY2U6d29ybGQtdXBzZXJ0JywgeyBkZXRhaWw6IHsgaXRlbTogZXZ0Lml0ZW0gfSB9KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgLy8gQXBwZW5kIGVycm9yIHRvIGNvbnZlcnNhdGlvblxuICAgICAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHsgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6IGBFcnJvcjogJHtldnQubWVzc2FnZX1gIH1dKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LnR5cGUgPT09ICdkb25lJykge1xuICAgICAgICAgICAgICBzZXRTdHJlYW1pbmcoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLy8gaWdub3JlIHBhcnRpYWwganNvbiBsaW5lc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTdHJlYW1pbmcoZmFsc2UpO1xuICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgfVxuICB9LCBbYXBpQmFzZSwgaW5wdXQsIGNoYXRJZCwgc3VwYWJhc2UsIGNsaWVudE1vZGVdKTtcblxuICBjb25zdCBvblJlZ2VuZXJhdGUgPSB1c2VDYWxsYmFjaygocGFuZWxJZDogc3RyaW5nKSA9PiB7XG4gICAgdm9pZCBzZW5kKHsgcmVnZW5lcmF0ZVBhbmVsSWQ6IHBhbmVsSWQgfSk7XG4gIH0sIFtzZW5kXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8RG5kUHJvdmlkZXIgYmFja2VuZD17SFRNTDVCYWNrZW5kfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2wgYmctYmctZWxldmF0ZWRcIj5cbiAgICAgICAgey8qIE1lc3NhZ2VzIEFyZWEgd2l0aCBTY3JvbGxiYXIgKi99XG4gICAgICAgIDxkaXYgcmVmPXtsaXN0UmVmfSBjbGFzc05hbWU9XCJmbGV4LTEgbWluLWgtMCBvdmVyZmxvdy15LWF1dG8gc3BhY2UteS00IHAtNFwiPlxuICAgICAgICAgIHtsb2FkaW5nSGlzdG9yeSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeVwiPkxvYWRpbmcgcHJldmlvdXMgbWVzc2FnZXPigKY8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG0sIGkpID0+IChcbiAgICAgICAgICAgIDxDaGF0QnViYmxlXG4gICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgcm9sZT17bS5yb2xlfVxuICAgICAgICAgICAgICBjb250ZW50PXttLmNvbnRlbnR9XG4gICAgICAgICAgICAgIHBhbmVsSWQ9e20ucGFuZWxJZH1cbiAgICAgICAgICAgICAgb25SZWdlbmVyYXRlPXtvblJlZ2VuZXJhdGV9XG4gICAgICAgICAgICAgIGRyYWdnYWJsZT17Qm9vbGVhbihtLnBhbmVsSWQpfVxuICAgICAgICAgICAgLz4pXG4gICAgICAgICAgKX1cbiAgICAgICAgICB7c3RyZWFtaW5nICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5IGFuaW1hdGUtcHVsc2VcIj5BSSBpcyB0eXBpbmfigKY8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAge3RvYXN0TXNnICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtMyByaWdodC0zIHotNTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMgcHktMiByb3VuZGVkIGJnLXNsYXRlLTk1MC85MCBib3JkZXIgYm9yZGVyLXNsYXRlLTgwMCB0ZXh0LXNsYXRlLTEwMCB0ZXh0LXNtIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAge3RvYXN0TXNnfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7KHBlbmRpbmdNb2RlIHx8IHBlbmRpbmdTZXR0aW5ncykgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHAtMyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTMgYmctYmctcHJpbWFyeVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtdGV4dC1wcmltYXJ5XCI+XG4gICAgICAgICAgICAgIHtwZW5kaW5nTW9kZSAmJiBgQ29uZmlybSBtb2RlIGNoYW5nZSB0byBcIiR7cGVuZGluZ01vZGV9XCI/YH1cbiAgICAgICAgICAgICAge3BlbmRpbmdTZXR0aW5ncyAmJiAhcGVuZGluZ01vZGUgJiYgJ0NvbmZpcm0gYXBwbHlpbmcgcGVuZGluZyBzZXR0aW5ncyBjaGFuZ2VzPyd9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMS41IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBzZXRQZW5kaW5nTW9kZShudWxsKTsgc2V0UGVuZGluZ1NldHRpbmdzKG51bGwpOyB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xLjUgcm91bmRlZC1tZCBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHRleHQtd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS01MCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmcgfHwgY2xpZW50TW9kZSAhPT0gJ2FjdGlvbid9XG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgICAgICAgICAgICAgc2V0U2F2ZUVycm9yKG51bGwpO1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gTW9kZSBpcyBwcm9qZWN0LWxldmVsOyBDaGF0IGNvbXBvbmVudCBubyBsb25nZXIga25vd3MgcHJvamVjdElkIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNvbmZpcm0gYmxvY2sgcmVtYWlucyBidXQgcmVxdWlyZXMgYSBwcm9qZWN0LWxldmVsIGhhbmRsZXIgb3V0c2lkZVxuICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBzYWZldHksIHdlIGp1c3QgY2xlYXIgcGVuZGluZyBhbmQgc2hvdyBhIG5vdGUuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gTm90aWZ5IHJlc3Qgb2YgYXBwIChlLmcuLCBzaWRlYmFyKSB0byByZWZsZWN0IG1vZGUgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncHJvamVjdDptb2RlLXVwZGF0ZWQnLCB7IGRldGFpbDogeyBtb2RlOiBwZW5kaW5nTW9kZSB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiBgTW9kZSB1cGRhdGVkIHRvICR7cGVuZGluZ01vZGV9LmAgfV0pO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFBlbmRpbmdNb2RlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBlbmRpbmdTZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFNldHRpbmdzIGFyZSBwcm9qZWN0LWxldmVsOyBoYW5kbGUgb3V0c2lkZS4gSGVyZSB3ZSBwcmV2aWV3LW9ubHkuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Byb2plY3Q6c2V0dGluZ3MtdXBkYXRlZCcsIHsgZGV0YWlsOiB7IGNoYW5nZXM6IHBlbmRpbmdTZXR0aW5ncyB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiAnU2V0dGluZ3MgdXBkYXRlZC4nIH1dKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQZW5kaW5nU2V0dGluZ3MobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gVG9hc3QgZnJvbSBjaGF0IGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAodG9hc3RUaW1lci5jdXJyZW50KSBjbGVhclRpbWVvdXQodG9hc3RUaW1lci5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdE1zZygnU2V0dGluZ3Mgc2F2ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdFRpbWVyLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHNldFRvYXN0TXNnKCcnKSwgMzAwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTYXZlRXJyb3IoZT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNhdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiBgRXJyb3IgcGVyc2lzdGluZyBjaGFuZ2VzOiAke2U/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzYXZlJ31gIH1dKTtcbiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENvbmZpcm1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIHtjbGllbnRNb2RlICE9PSAnYWN0aW9uJyAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC10ZXh0LXRlcnRpYXJ5XCI+U3dpdGNoIHRvIEFjdGlvbiBtb2RlIHRvIGFwcGx5PC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHsvKiBJbnB1dCBBcmVhIC0gRml4ZWQgYXQgQm90dG9tICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ib3JkZXItZGVmYXVsdCBwLTMgYmctYmctcHJpbWFyeVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMyBpdGVtcy1lbmRcIj5cbiAgICAgICAgICAgIHsvKiBJbnB1dCBGaWVsZCB3aXRoIEludGVncmF0ZWQgU2VuZCBCdXR0b24gYW5kIE1vZGUgU2VsZWN0b3IgaW5zaWRlICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDaGF0IHdpdGggQ2FzY2FkZVwiXG4gICAgICAgICAgICAgICAgcm93cz17Mn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLTJ4bCBwbC0xMiBwci0xMiBwdC0yIHBiLTEwIHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCByZXNpemUtbm9uZSBtaW4taC1bODBweF0gbWF4LWgtNzIgb3ZlcmZsb3cteS1hdXRvIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MFwiXG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBzZW5kKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgey8qIE1vZGUgU2VsZWN0b3IgaW5zaWRlIGlucHV0IGJvdHRvbS1sZWZ0ICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMiBib3R0b20tMlwiIHJlZj17bW9kZU1lbnVSZWZ9PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC14cyBweC0zIHB5LTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0ICR7Y2xpZW50TW9kZT09PSdjaGF0JyA/ICd0ZXh0LXN1Y2Nlc3MnIDogJ3RleHQtYWNjZW50J30gYmctYmctZWxldmF0ZWQgaG92ZXI6YmctYmctaG92ZXIgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwYH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgc2V0TW9kZU1lbnVJbmRleChjbGllbnRNb2RlPT09J2NoYXQnID8gMCA6IDEpOyBzZXRNb2RlTWVudU9wZW4oKHYpID0+ICF2KTsgfX1cbiAgICAgICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJtZW51XCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9e21vZGVNZW51T3Blbn1cbiAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17b25Nb2RlQnV0dG9uS2V5RG93bn1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPVwiTW9kZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2NsaWVudE1vZGUgPT09ICdjaGF0JyA/ICdDaGF0JyA6ICdBY3Rpb24nfVxuICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHttb2RlTWVudU9wZW4gJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBtYi0yIGxlZnQtMCB3LTY0IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1lbGV2YXRlZCBzaGFkb3ctZWxldmF0aW9uIHAtMS41IHRleHQteHMgdGV4dC10ZXh0LXByaW1hcnkgei0yMFwiXG4gICAgICAgICAgICAgICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9ey0xfVxuICAgICAgICAgICAgICAgICAgICByZWY9e21vZGVNZW51TGlzdFJlZn1cbiAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXtvbk1lbnVLZXlEb3dufVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIuNSByb3VuZGVkLW1kIGhvdmVyOmJnLWJnLWhvdmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCAke21vZGVNZW51SW5kZXg9PT0wID8gJ3JpbmctMSByaW5nLWFjY2VudCcgOiAnJ30gJHtjbGllbnRNb2RlPT09J2NoYXQnID8gJ2JnLWJnLWhvdmVyJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBzZXRDbGllbnRNb2RlKCdjaGF0Jyk7IHNldE1vZGVNZW51T3BlbihmYWxzZSk7IH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC10ZXh0LXByaW1hcnlcIj5DaGF0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgdGV4dC1bMTFweF0gbXQtMC41XCI+QnJhaW5zdG9ybSwgb3V0bGluZSwgcHJldmlldy4gTm8gd3JpdGVzLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0yLjUgcm91bmRlZC1tZCBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgbXQtMSAke21vZGVNZW51SW5kZXg9PT0xID8gJ3JpbmctMSByaW5nLWFjY2VudCcgOiAnJ30gJHtjbGllbnRNb2RlPT09J2FjdGlvbicgPyAnYmctYmctaG92ZXInIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHNldENsaWVudE1vZGUoJ2FjdGlvbicpOyBzZXRNb2RlTWVudU9wZW4oZmFsc2UpOyB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+QWN0aW9uPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgdGV4dC1bMTFweF0gbXQtMC41XCI+RW5hYmxlIHNhdmluZyBzZXR0aW5ncyBhbmQgY2hhcHRlcnMuPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB2b2lkIHNlbmQoKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3RyZWFtaW5nIHx8ICFpbnB1dC50cmltKCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiBib3R0b20tMiBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIGRpc2FibGVkOm9wYWNpdHktNDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtd2hpdGUgdy04IGgtOCByb3VuZGVkLWxnIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwiU2VuZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8QXJyb3dVcFJpZ2h0IGNsYXNzTmFtZT1cInctNCBoLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5TZW5kPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtpbnB1dEVycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtcmVkLTQwMCBwLTIgcm91bmRlZC1sZyBiZy1yZWQtOTUwLzIwIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMFwiPntpbnB1dEVycm9yfTwvZGl2Pn1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIGRyYWZ0cyBhcmUgcm91dGVkIHRvIGNlbnRlciBlZGl0b3IgdmlhIHdvcmtzcGFjZTpjcmVhdGUtZHJhZnQgKi99XG4gICAgPC9EbmRQcm92aWRlcj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkRuZFByb3ZpZGVyIiwiSFRNTDVCYWNrZW5kIiwidXNlU3VwYWJhc2UiLCJDaGF0QnViYmxlIiwiY3JlYXRlQXBpIiwiQXJyb3dVcFJpZ2h0IiwiQ2hldnJvbkRvd24iLCJDaGF0IiwiY2hhdElkIiwiaW5pdGlhbE1lc3NhZ2VzIiwic3VwYWJhc2UiLCJhcGkiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaW5wdXQiLCJzZXRJbnB1dCIsInN0cmVhbWluZyIsInNldFN0cmVhbWluZyIsImlucHV0RXJyb3IiLCJzZXRJbnB1dEVycm9yIiwibGlzdFJlZiIsImlucHV0UmVmIiwibW9kZU1lbnVSZWYiLCJtb2RlTWVudUxpc3RSZWYiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJzYXZlRXJyb3IiLCJzZXRTYXZlRXJyb3IiLCJwZW5kaW5nTW9kZSIsInNldFBlbmRpbmdNb2RlIiwicGVuZGluZ1NldHRpbmdzIiwic2V0UGVuZGluZ1NldHRpbmdzIiwidG9hc3RNc2ciLCJzZXRUb2FzdE1zZyIsInRvYXN0VGltZXIiLCJhcGlCYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJsb2FkaW5nSGlzdG9yeSIsInNldExvYWRpbmdIaXN0b3J5IiwiY2xpZW50TW9kZSIsInNldENsaWVudE1vZGUiLCJtb2RlTWVudU9wZW4iLCJzZXRNb2RlTWVudU9wZW4iLCJtb2RlTWVudUluZGV4Iiwic2V0TW9kZU1lbnVJbmRleCIsImNhY2hlS2V5IiwiaGFzQ2FjaGUiLCJzZXRIYXNDYWNoZSIsIm1lc3NhZ2VzUmVmIiwiY3VycmVudCIsInNjcm9sbFRvIiwidG9wIiwic2Nyb2xsSGVpZ2h0IiwiYmVoYXZpb3IiLCJsZW5ndGgiLCJzIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFyciIsIkpTT04iLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsIm1vdW50ZWQiLCJoaXN0b3J5IiwiZ2V0Q2hhdE1lc3NhZ2VzQnlDaGF0SWQiLCJuZXh0Iiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsImVsIiwic3R5bGUiLCJoZWlnaHQiLCJtYXgiLCJNYXRoIiwibWluIiwib25Eb2NDbGljayIsImUiLCJ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25Nb2RlQnV0dG9uS2V5RG93biIsImtleSIsInByZXZlbnREZWZhdWx0Iiwib25NZW51S2V5RG93biIsImkiLCJvbktleSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiZm9jdXMiLCJzZXRUaW1lb3V0Iiwic2VuZCIsIm9wdHMiLCJ0ZXh0IiwibWVzc2FnZU92ZXJyaWRlIiwidHJpbSIsInJlZ2VuZXJhdGVQYW5lbElkIiwiZGF0YSIsInNlc3Npb24iLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwidXNlck1lc3NhZ2UiLCJyb2xlIiwiY29udGVudCIsInBhbmVsSWQiLCJwcmV2IiwibU51bSIsImV4ZWMiLCJtVGl0bGUiLCJtZW50aW9ucyIsImNoYXB0ZXJfbnVtYmVyIiwicGFyc2VJbnQiLCJ0aXRsZSIsInJlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJtZXNzYWdlIiwidW5kZWZpbmVkIiwiYXNzaXN0YW50SW5kZXgiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJ2YWx1ZSIsImRvbmUiLCJyZWFkIiwiY2h1bmsiLCJkZWNvZGUiLCJzdHJlYW0iLCJsaW5lIiwic3BsaXQiLCJ0cmltbWVkIiwic3RhcnRzV2l0aCIsInNsaWNlIiwiZXZ0IiwidHlwZSIsImNvcHkiLCJtc2ciLCJhY3Rpb24iLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJtb2RlIiwiY2hhbmdlcyIsInBhbmVsX3NjcmlwdCIsImlkIiwiaXRlbSIsInJlbGVhc2VMb2NrIiwib25SZWdlbmVyYXRlIiwiYmFja2VuZCIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsIm1hcCIsIm0iLCJkcmFnZ2FibGUiLCJCb29sZWFuIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiY2xlYXJUaW1lb3V0Iiwic3BhbiIsInRleHRhcmVhIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJvbktleURvd24iLCJzaGlmdEtleSIsInYiLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsInRhYkluZGV4IiwiYXJpYS1oaWRkZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/chat/Chat.tsx\n"));

/***/ })

});