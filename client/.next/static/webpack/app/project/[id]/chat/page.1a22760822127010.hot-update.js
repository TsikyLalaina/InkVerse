"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/project/[id]/chat/page",{

/***/ "(app-pages-browser)/./src/components/workspace/CharacterManager.tsx":
/*!*******************************************************!*\
  !*** ./src/components/workspace/CharacterManager.tsx ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CharacterManager: function() { return /* binding */ CharacterManager; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/SupabaseProvider */ \"(app-pages-browser)/./src/components/providers/SupabaseProvider.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Plus,Search,Trash2,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ CharacterManager auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\nfunction classNames() {\n    for(var _len = arguments.length, xs = new Array(_len), _key = 0; _key < _len; _key++){\n        xs[_key] = arguments[_key];\n    }\n    return xs.filter(Boolean).join(\" \");\n}\nfunction setByPath(base, path, value) {\n    const root = base && typeof base === \"object\" ? {\n        ...base\n    } : {};\n    let curr = root;\n    for(let i = 0; i < path.length - 1; i++){\n        const k = path[i];\n        if (!curr[k] || typeof curr[k] !== \"object\") curr[k] = {};\n        curr = curr[k];\n    }\n    curr[path[path.length - 1]] = value;\n    return root;\n}\nfunction delByPath(base, path) {\n    const root = base && typeof base === \"object\" ? {\n        ...base\n    } : {};\n    let curr = root;\n    for(let i = 0; i < path.length - 1; i++){\n        const k = path[i];\n        if (!curr[k] || typeof curr[k] !== \"object\") return root;\n        curr = curr[k];\n    }\n    delete curr[path[path.length - 1]];\n    return root;\n}\nfunction toNestedFromTags(tags) {\n    let obj = {};\n    for (const t of tags){\n        const parts = t.key.split(\".\").map((s)=>s.trim()).filter(Boolean);\n        if (!parts.length) continue;\n        obj = setByPath(obj, parts, t.value);\n    }\n    return obj;\n}\nfunction CharacterManager(param) {\n    let { projectId, requireImage } = param;\n    _s();\n    const supabase = (0,_components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase)();\n    const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_api__WEBPACK_IMPORTED_MODULE_3__.createApi)(supabase), [\n        supabase\n    ]);\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [filter, setFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deleting, setDeleting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [toast, setToast] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toastTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [form, setForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\"\n    });\n    const [traits, setTraits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const dropRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cacheKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_characters\"), [\n        projectId\n    ]);\n    const activeKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"inkverse_project_\".concat(projectId, \"_characters_active\"), [\n        projectId\n    ]);\n    const [hasCache, setHasCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const itemsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(items);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const s =  true ? window.localStorage.getItem(cacheKey) : 0;\n            if (s) {\n                const arr = JSON.parse(s);\n                if (Array.isArray(arr)) {\n                    setItems(arr);\n                    const valid = arr.length > 0;\n                    setHasCache(valid);\n                    if (valid) setLoading(false);\n                }\n            }\n        } catch (e) {}\n    }, [\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            if (hasCache) {\n                return;\n            }\n            try {\n                if (!hasCache) setLoading(true);\n                const res = await api.listCharacters(projectId);\n                if (!mounted) return;\n                const next = res || [];\n                try {\n                    if (hasCache && JSON.stringify(next) === JSON.stringify(itemsRef.current)) {\n                        return;\n                    }\n                } catch (e) {}\n                setItems(next);\n            } catch (e) {\n                if (!mounted) return;\n                setError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load characters\");\n            } finally{\n                if (mounted) setLoading(false);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        api,\n        projectId,\n        hasCache\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (true) window.localStorage.setItem(cacheKey, JSON.stringify(items));\n        } catch (e) {}\n    }, [\n        items,\n        cacheKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        itemsRef.current = items;\n    }, [\n        items\n    ]);\n    // Restore last active selection\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const v =  true ? window.localStorage.getItem(activeKey) : 0;\n            if (v) setActiveId(v);\n        } catch (e) {}\n    }, [\n        activeKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            if (activeId && \"object\" !== \"undefined\") window.localStorage.setItem(activeKey, activeId);\n        } catch (e) {}\n    }, [\n        activeId,\n        activeKey\n    ]);\n    // Reflect chat-driven upserts instantly\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function onUpsert(ev) {\n            var _ce_detail;\n            const ce = ev;\n            const item = ce === null || ce === void 0 ? void 0 : (_ce_detail = ce.detail) === null || _ce_detail === void 0 ? void 0 : _ce_detail.item;\n            if (!item || !item.id) return;\n            setItems((prev)=>{\n                const idx = prev.findIndex((x)=>x.id === item.id);\n                if (idx >= 0) {\n                    const next = [\n                        ...prev\n                    ];\n                    next[idx] = {\n                        ...next[idx],\n                        ...item\n                    };\n                    return next;\n                }\n                return [\n                    ...prev,\n                    item\n                ];\n            });\n            if (activeId === item.id) {\n                setForm({\n                    id: item.id,\n                    name: item.name,\n                    role: item.role || \"\",\n                    summary: item.summary || \"\",\n                    imageUrl: item.imageUrl || \"\",\n                    traits: item.traits || null\n                });\n                setTraits(item.traits || {});\n            }\n            notify(\"Character updated via chat\");\n        }\n        window.addEventListener(\"workspace:character-upsert\", onUpsert);\n        return ()=>window.removeEventListener(\"workspace:character-upsert\", onUpsert);\n    }, [\n        activeId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeId) return;\n        if (activeId === \"__new__\") {\n            setForm({\n                name: \"\"\n            });\n            setTraits({});\n            return;\n        }\n        const it = items.find((x)=>x.id === activeId);\n        if (!it) return;\n        setForm({\n            id: it.id,\n            name: it.name,\n            role: it.role || \"\",\n            summary: it.summary || \"\",\n            imageUrl: it.imageUrl || \"\",\n            traits: it.traits || null\n        });\n        setTraits(it.traits || {});\n    }, [\n        activeId,\n        items\n    ]);\n    const filtered = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const q = filter.trim().toLowerCase();\n        if (!q) return items;\n        return items.filter((x)=>(x.name || \"\").toLowerCase().includes(q) || (x.role || \"\").toLowerCase().includes(q));\n    }, [\n        items,\n        filter\n    ]);\n    const onNew = ()=>{\n        setActiveId(\"__new__\");\n        setForm({\n            name: \"\"\n        });\n        setTraits({});\n    };\n    // Removed brainstorm/refine suggestion logic\n    const notify = (msg)=>{\n        if (toastTimer.current) clearTimeout(toastTimer.current);\n        setToast(msg);\n        toastTimer.current = setTimeout(()=>setToast(\"\"), 2500);\n    };\n    const onUploadFile = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (file)=>{\n        if (!file) return;\n        setUploading(true);\n        try {\n            const bucket = process.env.NEXT_PUBLIC_SUPABASE_CHAR_BUCKET || \"character-images\";\n            const ext = file.name.split(\".\").pop() || \"jpg\";\n            const path = \"\".concat(projectId, \"/\").concat(Date.now(), \"-\").concat(Math.random().toString(36).slice(2), \".\").concat(ext);\n            const { error: upErr } = await supabase.storage.from(bucket).upload(path, file, {\n                upsert: true,\n                contentType: file.type\n            });\n            if (upErr) throw upErr;\n            const { data } = supabase.storage.from(bucket).getPublicUrl(path);\n            const url = data.publicUrl;\n            setForm((f)=>({\n                    ...f,\n                    imageUrl: url\n                }));\n            notify(\"Image uploaded\");\n        } catch (e) {\n            notify((e === null || e === void 0 ? void 0 : e.message) || \"Upload failed\");\n        } finally{\n            setUploading(false);\n        }\n    }, [\n        projectId,\n        supabase\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = dropRef.current;\n        if (!el) return;\n        const onDrop = (e)=>{\n            var _e_dataTransfer_files, _e_dataTransfer;\n            e.preventDefault();\n            const f = (_e_dataTransfer = e.dataTransfer) === null || _e_dataTransfer === void 0 ? void 0 : (_e_dataTransfer_files = _e_dataTransfer.files) === null || _e_dataTransfer_files === void 0 ? void 0 : _e_dataTransfer_files[0];\n            if (f) void onUploadFile(f);\n            el.classList.remove(\"ring-2\", \"ring-blue-500\");\n        };\n        const onDrag = (e)=>{\n            e.preventDefault();\n            el.classList.add(\"ring-2\", \"ring-blue-500\");\n        };\n        const onLeave = (e)=>{\n            e.preventDefault();\n            el.classList.remove(\"ring-2\", \"ring-blue-500\");\n        };\n        el.addEventListener(\"drop\", onDrop);\n        el.addEventListener(\"dragover\", onDrag);\n        el.addEventListener(\"dragleave\", onLeave);\n        return ()=>{\n            el.removeEventListener(\"drop\", onDrop);\n            el.removeEventListener(\"dragover\", onDrag);\n            el.removeEventListener(\"dragleave\", onLeave);\n        };\n    }, [\n        onUploadFile\n    ]);\n    // ----- Traits editor helpers (strings-only values, arrays supported, depth<=5) -----\n    const clone = (o)=>JSON.parse(JSON.stringify(o !== null && o !== void 0 ? o : {}));\n    const isObj = (v)=>v && typeof v === \"object\" && !Array.isArray(v);\n    const setVal = (path, val)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < path.length - 1; i++)ref = ref[path[i]];\n            ref[path[path.length - 1]] = val;\n            return nxt;\n        });\n    };\n    const delKey = (pathToParent, key)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToParent.length; i++)ref = ref[pathToParent[i]];\n            if (Array.isArray(ref) && typeof key === \"number\") ref.splice(key, 1);\n            else if (ref && typeof ref === \"object\") delete ref[key];\n            return nxt;\n        });\n    };\n    const renameKey = (pathToParent, oldKey, newKey)=>{\n        if (!newKey) return;\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToParent.length; i++)ref = ref[pathToParent[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            if (oldKey === newKey) return nxt;\n            const val = ref[oldKey];\n            delete ref[oldKey];\n            ref[newKey] = val;\n            return nxt;\n        });\n    };\n    const addChild = (pathToObj, depth)=>{\n        if (depth >= 5) return; // depth limit\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToObj.length; i++)ref = ref[pathToObj[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            let base = \"key\";\n            let i2 = 1;\n            let key = base;\n            while(Object.prototype.hasOwnProperty.call(ref, key)){\n                key = \"\".concat(base, \"-\").concat(i2++);\n            }\n            ref[key] = \"\"; // default as string leaf\n            return nxt;\n        });\n    };\n    const addRootKey = ()=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let base = \"key\";\n            let i = 1;\n            let k = base;\n            while(Object.prototype.hasOwnProperty.call(nxt, k)){\n                k = \"\".concat(base, \"-\").concat(i++);\n            }\n            nxt[k] = \"\";\n            return nxt;\n        });\n    };\n    const convertType = (path, parentPath, key, nextType, depth)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < parentPath.length; i++)ref = ref[parentPath[i]];\n            if (!ref || typeof ref !== \"object\" || Array.isArray(ref)) return nxt;\n            if (nextType === \"string\") ref[key] = \"\";\n            else if (nextType === \"object\") ref[key] = depth >= 5 ? \"\" : {};\n            else if (nextType === \"array\") ref[key] = [];\n            return nxt;\n        });\n    };\n    const addArrayItem = (pathToArr)=>{\n        setTraits((curr)=>{\n            const nxt = clone(curr);\n            let ref = nxt;\n            for(let i = 0; i < pathToArr.length; i++)ref = ref[pathToArr[i]];\n            if (Array.isArray(ref)) ref.push(\"\");\n            return nxt;\n        });\n    };\n    // Expose handlers to nested TraitObject/TraitRow without prop-drilling\n    TraitObject._parent = {\n        setVal,\n        delKey,\n        renameKey,\n        addChild,\n        convertType,\n        addArrayItem\n    };\n    const onSave = async ()=>{\n        if (!form.name.trim()) {\n            notify(\"Name is required\");\n            return;\n        }\n        if (requireImage && !form.imageUrl) {\n            notify(\"Image is required in manhwa mode\");\n            return;\n        }\n        setSaving(true);\n        try {\n            const traitsObj = traits;\n            if (activeId === \"__new__\") {\n                const res = await api.createCharacter(projectId, {\n                    name: form.name.trim(),\n                    role: form.role || undefined,\n                    summary: form.summary || undefined,\n                    imageUrl: form.imageUrl || undefined,\n                    traits: traitsObj\n                });\n                setItems((prev)=>[\n                        ...prev,\n                        res\n                    ]);\n                setActiveId(res.id);\n            } else if (activeId) {\n                const res = await api.updateCharacter(projectId, activeId, {\n                    name: form.name.trim(),\n                    role: form.role || undefined,\n                    summary: form.summary || undefined,\n                    imageUrl: form.imageUrl || undefined,\n                    traits: traitsObj\n                });\n                setItems((prev)=>prev.map((x)=>x.id === res.id ? res : x));\n            }\n            notify(\"Saved\");\n        } catch (e) {\n            notify((e === null || e === void 0 ? void 0 : e.message) || \"Save failed\");\n        } finally{\n            setSaving(false);\n        }\n    };\n    const onDelete = async ()=>{\n        if (!activeId || activeId === \"__new__\") return;\n        if (!confirm(\"Delete this character?\")) return;\n        setDeleting(true);\n        try {\n            await api.deleteCharacter(projectId, activeId);\n            setItems((prev)=>prev.filter((x)=>x.id !== activeId));\n            setActiveId(null);\n            setForm({\n                name: \"\"\n            });\n            setTraits({});\n            notify(\"Deleted\");\n        } catch (e) {\n            notify((e === null || e === void 0 ? void 0 : e.message) || \"Delete failed\");\n        } finally{\n            setDeleting(false);\n        }\n    };\n    const count = items.length;\n    const active = activeId === \"__new__\" ? form : items.find((x)=>x.id === activeId) || null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full grid grid-rows-[auto_1fr]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-b border-border-default px-6 py-4 flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-base font-semibold text-text-primary\",\n                                children: \"Character Management\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 392,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs px-2 py-1 rounded-md border border-border-default text-text-secondary\",\n                                children: [\n                                    count,\n                                    \" Characters\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 393,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 391,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onNew,\n                            className: \"rounded-lg bg-bg-elevated border border-border-default hover:border-accent hover:bg-bg-hover text-text-secondary hover:text-text-primary text-sm px-4 py-3 inline-flex items-center justify-center gap-2 transition-all duration-150 hover:-translate-y-0.5\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 397,\n                                    columnNumber: 13\n                                }, this),\n                                \"New Character\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 396,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 395,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 390,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-0 grid\",\n                style: {\n                    gridTemplateColumns: \"35% 65%\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                        className: \"border-r border-border-default min-h-0 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-3\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: filter,\n                                            onChange: (e)=>setFilter(e.target.value),\n                                            placeholder: \"Search characters\",\n                                            className: \"w-full bg-bg-primary border border-border-default rounded-md pl-9 pr-3 py-2.5 text-sm text-text-primary placeholder:text-text-tertiary outline-none focus:border-accent\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 407,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            className: \"w-4 h-4 absolute left-3 top-3 text-text-tertiary\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 408,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 406,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 405,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto px-3 pb-3\",\n                                children: [\n                                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-text-secondary px-2 py-2\",\n                                        children: \"Loading…\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 412,\n                                        columnNumber: 25\n                                    }, this),\n                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-red-400 px-2 py-2 bg-red-950/20 rounded-md border border-red-500/20\",\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 413,\n                                        columnNumber: 23\n                                    }, this),\n                                    !loading && !filtered.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-10 text-center text-text-tertiary text-sm\",\n                                        children: \"No characters yet. Create your first character!\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 415,\n                                        columnNumber: 15\n                                    }, this),\n                                    filtered.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setActiveId(c.id),\n                                            className: classNames(\"w-full text-left px-3 py-3 rounded-md mb-2 transition-all\", activeId === c.id ? \"border-l-2 border-blue-500 bg-bg-elevated\" : \"hover:bg-bg-hover\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-12 h-12 rounded-full bg-bg-primary border border-border-default overflow-hidden flex items-center justify-center\",\n                                                        children: c.imageUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: c.imageUrl,\n                                                            alt: c.name,\n                                                            className: \"w-full h-full object-cover\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 421,\n                                                            columnNumber: 35\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: \"No Img\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 421,\n                                                            columnNumber: 114\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                        lineNumber: 420,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1 min-w-0\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-sm font-medium text-text-primary truncate\",\n                                                                children: c.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 424,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-text-tertiary truncate\",\n                                                                children: c.role || \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 425,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                        lineNumber: 423,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                lineNumber: 419,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, c.id, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 418,\n                                            columnNumber: 15\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 411,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 404,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"min-h-0 overflow-y-auto p-6\",\n                        \"aria-label\": \"Character details\",\n                        children: activeId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-2xl mx-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: dropRef,\n                                    className: \"flex flex-col items-center mb-6 p-4 rounded-xl border border-border-default bg-bg-elevated\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-30 h-30 w-[120px] h-[120px] rounded-full overflow-hidden border border-border-default bg-bg-primary flex items-center justify-center\",\n                                            children: form.imageUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: form.imageUrl,\n                                                alt: \"avatar\",\n                                                className: \"w-full h-full object-cover\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                lineNumber: 438,\n                                                columnNumber: 36\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-text-tertiary\",\n                                                children: \"No Image\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                lineNumber: 438,\n                                                columnNumber: 118\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 437,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"px-3 py-2 rounded-md border border-border-default bg-bg-primary text-text-secondary hover:text-text-primary inline-flex items-center gap-2 cursor-pointer\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 442,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        form.imageUrl ? \"Change Image\" : \"Upload Image\",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"file\",\n                                                            accept: \"image/*\",\n                                                            className: \"hidden\",\n                                                            onChange: (e)=>{\n                                                                var _e_target_files;\n                                                                const f = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n                                                                if (f) void onUploadFile(f);\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 444,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 441,\n                                                    columnNumber: 19\n                                                }, this),\n                                                form.imageUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>setForm((f)=>({\n                                                                ...f,\n                                                                imageUrl: \"\"\n                                                            })),\n                                                    className: \"text-text-tertiary hover:text-red-400 text-sm inline-flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 448,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Remove\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 447,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 440,\n                                            columnNumber: 17\n                                        }, this),\n                                        uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 text-xs text-text-tertiary inline-flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    className: \"w-3 h-3 animate-spin\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 453,\n                                                    columnNumber: 111\n                                                }, this),\n                                                \" Uploading…\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 453,\n                                            columnNumber: 31\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 436,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Name\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 458,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    value: form.name,\n                                                    onChange: (e)=>setForm((f)=>({\n                                                                ...f,\n                                                                name: e.target.value\n                                                            })),\n                                                    className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 459,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 457,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Role\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 462,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    value: form.role || \"\",\n                                                    onChange: (e)=>setForm((f)=>({\n                                                                ...f,\n                                                                role: e.target.value\n                                                            })),\n                                                    list: \"roles\",\n                                                    className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 463,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"datalist\", {\n                                                    id: \"roles\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Protagonist\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 465,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Antagonist\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 466,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Supporting\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 467,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Mentor\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 468,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"Love Interest\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 469,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 464,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 461,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                    children: \"Summary\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 473,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                    value: form.summary || \"\",\n                                                    onChange: (e)=>setForm((f)=>({\n                                                                ...f,\n                                                                summary: e.target.value\n                                                            })),\n                                                    rows: 5,\n                                                    className: \"w-full bg-bg-primary border border-border-default rounded-md px-4 py-2.5 text-text-primary outline-none focus:border-accent text-sm\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 474,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[11px] text-text-tertiary\",\n                                                    children: [\n                                                        (form.summary || \"\").length,\n                                                        \" characters\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 475,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 472,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid gap-2 text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xs text-text-tertiary uppercase tracking-wide\",\n                                                            children: \"Traits\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 480,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: addRootKey,\n                                                            className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                    lineNumber: 481,\n                                                                    columnNumber: 195\n                                                                }, this),\n                                                                \" Add key\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 481,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 479,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1\",\n                                                    children: [\n                                                        Object.keys(traits || {}).length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-text-tertiary\",\n                                                            children: \"No traits yet. Add a key.\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 485,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitObject, {\n                                                            obj: traits,\n                                                            path: [],\n                                                            depth: 1\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 487,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 483,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 478,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between pt-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: onDelete,\n                                                    disabled: !activeId || activeId === \"__new__\" || deleting,\n                                                    className: \"text-red-400 hover:text-red-300 inline-flex items-center gap-2 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 493,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Delete Character\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 492,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>{\n                                                                setActiveId(null);\n                                                            },\n                                                            className: \"px-4 py-2 rounded-md border border-border-default text-text-secondary hover:bg-bg-hover\",\n                                                            children: \"Cancel\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 497,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: onSave,\n                                                            disabled: saving,\n                                                            className: \"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 text-white\",\n                                                            children: saving ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"inline-flex items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                        className: \"w-4 h-4 animate-spin\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                        lineNumber: 499,\n                                                                        columnNumber: 82\n                                                                    }, this),\n                                                                    \" Saving…\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                                lineNumber: 499,\n                                                                columnNumber: 33\n                                                            }, this) : \"Save Character\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                            lineNumber: 498,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                                    lineNumber: 496,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                            lineNumber: 491,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 456,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 435,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-text-tertiary\",\n                            children: \"Select a character or create a new one.\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 506,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 433,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 403,\n                columnNumber: 7\n            }, this),\n            toast && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-4 right-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 rounded-lg bg-bg-elevated border border-border-default text-text-primary text-sm shadow-elevation\",\n                    children: toast\n                }, void 0, false, {\n                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                    lineNumber: 513,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 512,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n        lineNumber: 389,\n        columnNumber: 5\n    }, this);\n}\n_s(CharacterManager, \"hOdlBF+UwH4+684dKSezIVDMksk=\", false, function() {\n    return [\n        _components_providers_SupabaseProvider__WEBPACK_IMPORTED_MODULE_2__.useSupabase\n    ];\n});\n_c = CharacterManager;\nfunction TraitObject(param) {\n    let { obj, path, depth } = param;\n    _s1();\n    const [_, setTick] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Access editor functions from outer scope via window proxy is not ideal; we rely on closures in parent component.\n    // This inline component depends on functions bound on window by parent closure.\n    // To keep everything in one file and avoid prop-drilling many handlers, we will re-grab them from React context via closures.\n    const parent = TraitObject._parent;\n    const ctx = parent || useCharacterManagerContext();\n    TraitObject._parent = ctx;\n    const keys = Object.keys(obj || {});\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-2\",\n        children: keys.map((k)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitRow, {\n                k: k,\n                v: obj[k],\n                parentPath: path,\n                depth: depth,\n                ctx: ctx\n            }, k, false, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 542,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n        lineNumber: 540,\n        columnNumber: 5\n    }, this);\n}\n_s1(TraitObject, \"zOcHNBKn7qg+tcYrb4+cCN0ex+w=\", false, function() {\n    return [\n        useCharacterManagerContext\n    ];\n});\n_c1 = TraitObject;\nfunction TraitRow(param) {\n    let { k, v, parentPath, depth, ctx } = param;\n    _s2();\n    const isArray = Array.isArray(v);\n    const isObject = v && typeof v === \"object\" && !isArray;\n    const type = isArray ? \"array\" : isObject ? \"object\" : \"string\";\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(k);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setName(k);\n    }, [\n        k\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border border-border-default rounded-md p-2 bg-bg-elevated\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        value: name,\n                        onChange: (e)=>setName(e.target.value),\n                        onBlur: ()=>{\n                            if (name !== k && name.trim()) ctx.renameKey(parentPath, k, name.trim());\n                        },\n                        onKeyDown: (e)=>{\n                            if (e.key === \"Enter\") {\n                                e.target.blur();\n                            }\n                        },\n                        placeholder: \"key\",\n                        className: \"flex-none w-48 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 558,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        value: type,\n                        onChange: (e)=>ctx.convertType([\n                                ...parentPath,\n                                k\n                            ], parentPath, k, e.target.value, depth),\n                        className: \"flex-none w-28 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"string\",\n                                children: \"String\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 567,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"object\",\n                                disabled: depth >= 5,\n                                children: \"Object\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 568,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"array\",\n                                children: \"Array\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 569,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 566,\n                        columnNumber: 9\n                    }, this),\n                    type === \"string\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        value: String(v || \"\"),\n                        onChange: (e)=>ctx.setVal([\n                                ...parentPath,\n                                k\n                            ], e.target.value),\n                        placeholder: \"value\",\n                        className: \"flex-1 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 572,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.delKey(parentPath, k),\n                        className: \"text-text-tertiary hover:text-red-400 text-sm ml-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 574,\n                            columnNumber: 123\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 574,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 557,\n                columnNumber: 7\n            }, this),\n            type === \"object\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 ml-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.addChild([\n                                ...parentPath,\n                                k\n                            ], depth + 1),\n                        disabled: depth >= 5,\n                        className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-3 h-3\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 578,\n                                columnNumber: 240\n                            }, this),\n                            \" Add child\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 578,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitObject, {\n                        obj: v,\n                        path: [\n                            ...parentPath,\n                            k\n                        ],\n                        depth: depth + 1\n                    }, void 0, false, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 579,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 577,\n                columnNumber: 9\n            }, this),\n            type === \"array\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 ml-4 space-y-2\",\n                children: [\n                    v.map((item, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-text-tertiary\",\n                                    children: [\n                                        \"[\",\n                                        idx,\n                                        \"]\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 586,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    value: item,\n                                    onChange: (e)=>ctx.setVal([\n                                            ...parentPath,\n                                            k,\n                                            idx\n                                        ], e.target.value),\n                                    placeholder: \"value\",\n                                    className: \"flex-1 bg-bg-primary border border-border-default rounded-md px-2 py-1.5 text-text-primary text-sm outline-none focus:border-accent\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 587,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>ctx.delKey([\n                                            ...parentPath,\n                                            k\n                                        ], idx),\n                                    className: \"text-text-tertiary hover:text-red-400 text-sm\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                        lineNumber: 588,\n                                        columnNumber: 131\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                    lineNumber: 588,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, idx, true, {\n                            fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                            lineNumber: 585,\n                            columnNumber: 13\n                        }, this)),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>ctx.addArrayItem([\n                                ...parentPath,\n                                k\n                            ]),\n                        className: \"px-2 py-1 rounded-md border border-border-default text-text-secondary hover:text-text-primary text-xs inline-flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Plus_Search_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-3 h-3\"\n                            }, void 0, false, {\n                                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                                lineNumber: 591,\n                                columnNumber: 215\n                            }, this),\n                            \" Add item\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                        lineNumber: 591,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n                lineNumber: 583,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/lalaina/InkVerse/client/src/components/workspace/CharacterManager.tsx\",\n        lineNumber: 556,\n        columnNumber: 5\n    }, this);\n}\n_s2(TraitRow, \"2CRc8BCoJQOtlrNJKf0TrH86iqk=\");\n_c2 = TraitRow;\n// Lightweight context via closure binding\nfunction useCharacterManagerContext() {\n    // Find the nearest CharacterManager by walking React closure. In TSX single-file component, we pass handlers by property in TraitObject._parent above.\n    // Instead of a real React Context provider (extra boilerplate), expose noop fallbacks; they get overwritten when first TraitObject renders.\n    return {\n        setVal: (_p, _v)=>{},\n        delKey: (_pp, _k)=>{},\n        renameKey: (_pp, _old, _n)=>{},\n        addChild: (_p, _d)=>{},\n        convertType: (_p, _pp, _k, _t, _d)=>{},\n        addArrayItem: (_p)=>{}\n    };\n}\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"CharacterManager\");\n$RefreshReg$(_c1, \"TraitObject\");\n$RefreshReg$(_c2, \"TraitRow\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3dvcmtzcGFjZS9DaGFyYWN0ZXJNYW5hZ2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFMEU7QUFDSjtBQUNoQztBQUNrQztBQWN4RSxTQUFTYTtJQUFXO1FBQUdDLEdBQUgsdUJBQStDOztJQUNqRSxPQUFPQSxHQUFHQyxNQUFNLENBQUNDLFNBQVNDLElBQUksQ0FBQztBQUNqQztBQUVBLFNBQVNDLFVBQVVDLElBQVMsRUFBRUMsSUFBYyxFQUFFQyxLQUFVO0lBQ3RELE1BQU1DLE9BQU9ILFFBQVEsT0FBT0EsU0FBUyxXQUFXO1FBQUUsR0FBR0EsSUFBSTtJQUFDLElBQUksQ0FBQztJQUMvRCxJQUFJSSxPQUFZRDtJQUNoQixJQUFLLElBQUlFLElBQUksR0FBR0EsSUFBSUosS0FBS0ssTUFBTSxHQUFHLEdBQUdELElBQUs7UUFDeEMsTUFBTUUsSUFBSU4sSUFBSSxDQUFDSSxFQUFFO1FBQ2pCLElBQUksQ0FBQ0QsSUFBSSxDQUFDRyxFQUFFLElBQUksT0FBT0gsSUFBSSxDQUFDRyxFQUFFLEtBQUssVUFBVUgsSUFBSSxDQUFDRyxFQUFFLEdBQUcsQ0FBQztRQUN4REgsT0FBT0EsSUFBSSxDQUFDRyxFQUFFO0lBQ2hCO0lBQ0FILElBQUksQ0FBQ0gsSUFBSSxDQUFDQSxLQUFLSyxNQUFNLEdBQUcsRUFBRSxDQUFDLEdBQUdKO0lBQzlCLE9BQU9DO0FBQ1Q7QUFFQSxTQUFTSyxVQUFVUixJQUFTLEVBQUVDLElBQWM7SUFDMUMsTUFBTUUsT0FBT0gsUUFBUSxPQUFPQSxTQUFTLFdBQVc7UUFBRSxHQUFHQSxJQUFJO0lBQUMsSUFBSSxDQUFDO0lBQy9ELElBQUlJLE9BQVlEO0lBQ2hCLElBQUssSUFBSUUsSUFBSSxHQUFHQSxJQUFJSixLQUFLSyxNQUFNLEdBQUcsR0FBR0QsSUFBSztRQUN4QyxNQUFNRSxJQUFJTixJQUFJLENBQUNJLEVBQUU7UUFDakIsSUFBSSxDQUFDRCxJ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YWN0ZXJNYW5hZ2VyLnRzeD85NGQzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTdXBhYmFzZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvcHJvdmlkZXJzL1N1cGFiYXNlUHJvdmlkZXJcIjtcbmltcG9ydCB7IGNyZWF0ZUFwaSB9IGZyb20gXCJAL2xpYi9hcGlcIjtcbmltcG9ydCB7IExvYWRlcjIsIFBsdXMsIFNlYXJjaCwgVHJhc2gyLCBVcGxvYWQsIFggfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbnR5cGUgQ2hhcmFjdGVySXRlbSA9IHtcbiAgaWQ/OiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcm9sZT86IHN0cmluZyB8IG51bGw7XG4gIHN1bW1hcnk/OiBzdHJpbmcgfCBudWxsO1xuICBpbWFnZXM/OiBzdHJpbmdbXSB8IG51bGw7XG4gIGltYWdlVXJsPzogc3RyaW5nIHwgbnVsbDtcbiAgdHJhaXRzPzogYW55IHwgbnVsbDtcbiAgY3JlYXRlZEF0Pzogc3RyaW5nO1xuICB1cGRhdGVkQXQ/OiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiBjbGFzc05hbWVzKC4uLnhzOiBBcnJheTxzdHJpbmcgfCBmYWxzZSB8IG51bGwgfCB1bmRlZmluZWQ+KSB7XG4gIHJldHVybiB4cy5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG59XG5cbmZ1bmN0aW9uIHNldEJ5UGF0aChiYXNlOiBhbnksIHBhdGg6IHN0cmluZ1tdLCB2YWx1ZTogYW55KSB7XG4gIGNvbnN0IHJvb3QgPSBiYXNlICYmIHR5cGVvZiBiYXNlID09PSBcIm9iamVjdFwiID8geyAuLi5iYXNlIH0gOiB7fTtcbiAgbGV0IGN1cnI6IGFueSA9IHJvb3Q7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBrID0gcGF0aFtpXTtcbiAgICBpZiAoIWN1cnJba10gfHwgdHlwZW9mIGN1cnJba10gIT09IFwib2JqZWN0XCIpIGN1cnJba10gPSB7fTtcbiAgICBjdXJyID0gY3VycltrXTtcbiAgfVxuICBjdXJyW3BhdGhbcGF0aC5sZW5ndGggLSAxXV0gPSB2YWx1ZTtcbiAgcmV0dXJuIHJvb3Q7XG59XG5cbmZ1bmN0aW9uIGRlbEJ5UGF0aChiYXNlOiBhbnksIHBhdGg6IHN0cmluZ1tdKSB7XG4gIGNvbnN0IHJvb3QgPSBiYXNlICYmIHR5cGVvZiBiYXNlID09PSBcIm9iamVjdFwiID8geyAuLi5iYXNlIH0gOiB7fTtcbiAgbGV0IGN1cnI6IGFueSA9IHJvb3Q7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBrID0gcGF0aFtpXTtcbiAgICBpZiAoIWN1cnJba10gfHwgdHlwZW9mIGN1cnJba10gIT09IFwib2JqZWN0XCIpIHJldHVybiByb290O1xuICAgIGN1cnIgPSBjdXJyW2tdO1xuICB9XG4gIGRlbGV0ZSBjdXJyW3BhdGhbcGF0aC5sZW5ndGggLSAxXV07XG4gIHJldHVybiByb290O1xufVxuXG5mdW5jdGlvbiB0b05lc3RlZEZyb21UYWdzKHRhZ3M6IEFycmF5PHsga2V5OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfT4pIHtcbiAgbGV0IG9iajogYW55ID0ge307XG4gIGZvciAoY29uc3QgdCBvZiB0YWdzKSB7XG4gICAgY29uc3QgcGFydHMgPSB0LmtleS5zcGxpdChcIi5cIikubWFwKChzKSA9PiBzLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGlmICghcGFydHMubGVuZ3RoKSBjb250aW51ZTtcbiAgICBvYmogPSBzZXRCeVBhdGgob2JqLCBwYXJ0cywgdC52YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYXJhY3Rlck1hbmFnZXIoeyBwcm9qZWN0SWQsIHJlcXVpcmVJbWFnZSB9OiB7IHByb2plY3RJZDogc3RyaW5nOyByZXF1aXJlSW1hZ2U6IGJvb2xlYW4gfSkge1xuICBjb25zdCBzdXBhYmFzZSA9IHVzZVN1cGFiYXNlKCk7XG4gIGNvbnN0IGFwaSA9IHVzZU1lbW8oKCkgPT4gY3JlYXRlQXBpKHN1cGFiYXNlKSwgW3N1cGFiYXNlXSk7XG5cbiAgY29uc3QgW2l0ZW1zLCBzZXRJdGVtc10gPSB1c2VTdGF0ZTxDaGFyYWN0ZXJJdGVtW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmaWx0ZXIsIHNldEZpbHRlcl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FjdGl2ZUlkLCBzZXRBY3RpdmVJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBcIl9fbmV3X19cIiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGVsZXRpbmcsIHNldERlbGV0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3RvYXN0LCBzZXRUb2FzdF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgdG9hc3RUaW1lciA9IHVzZVJlZjxSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IFtmb3JtLCBzZXRGb3JtXSA9IHVzZVN0YXRlPENoYXJhY3Rlckl0ZW0+KHsgbmFtZTogXCJcIiB9KTtcbiAgY29uc3QgW3RyYWl0cywgc2V0VHJhaXRzXSA9IHVzZVN0YXRlPGFueT4oe30pO1xuICBjb25zdCBbdXBsb2FkaW5nLCBzZXRVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBkcm9wUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgY2FjaGVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9jaGFyYWN0ZXJzYCwgW3Byb2plY3RJZF0pO1xuICBjb25zdCBhY3RpdmVLZXkgPSB1c2VNZW1vKCgpID0+IGBpbmt2ZXJzZV9wcm9qZWN0XyR7cHJvamVjdElkfV9jaGFyYWN0ZXJzX2FjdGl2ZWAsIFtwcm9qZWN0SWRdKTtcbiAgY29uc3QgW2hhc0NhY2hlLCBzZXRIYXNDYWNoZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGl0ZW1zUmVmID0gdXNlUmVmPENoYXJhY3Rlckl0ZW1bXT4oaXRlbXMpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHMgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShjYWNoZUtleSkgOiBudWxsO1xuICAgICAgaWYgKHMpIHtcbiAgICAgICAgY29uc3QgYXJyID0gSlNPTi5wYXJzZShzKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICAgIHNldEl0ZW1zKGFyciBhcyBDaGFyYWN0ZXJJdGVtW10pO1xuICAgICAgICAgIGNvbnN0IHZhbGlkID0gKGFyciBhcyBhbnlbXSkubGVuZ3RoID4gMDtcbiAgICAgICAgICBzZXRIYXNDYWNoZSh2YWxpZCk7XG4gICAgICAgICAgaWYgKHZhbGlkKSBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2gge31cbiAgfSwgW2NhY2hlS2V5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChoYXNDYWNoZSkgeyByZXR1cm47IH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghaGFzQ2FjaGUpIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5saXN0Q2hhcmFjdGVycyhwcm9qZWN0SWQpO1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV4dCA9IHJlcyB8fCBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoaGFzQ2FjaGUgJiYgSlNPTi5zdHJpbmdpZnkobmV4dCkgPT09IEpTT04uc3RyaW5naWZ5KGl0ZW1zUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgIHNldEl0ZW1zKG5leHQpO1xuICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBzZXRFcnJvcihlPy5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGxvYWQgY2hhcmFjdGVyc1wiKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChtb3VudGVkKSBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7IG1vdW50ZWQgPSBmYWxzZTsgfTtcbiAgfSwgW2FwaSwgcHJvamVjdElkLCBoYXNDYWNoZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGNhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShpdGVtcykpO1xuICAgIH0gY2F0Y2gge31cbiAgfSwgW2l0ZW1zLCBjYWNoZUtleV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7IGl0ZW1zUmVmLmN1cnJlbnQgPSBpdGVtczsgfSwgW2l0ZW1zXSk7XG5cbiAgLy8gUmVzdG9yZSBsYXN0IGFjdGl2ZSBzZWxlY3Rpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGFjdGl2ZUtleSkgOiBudWxsO1xuICAgICAgaWYgKHYpIHNldEFjdGl2ZUlkKHYgYXMgYW55KTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFthY3RpdmVLZXldKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGFjdGl2ZUlkICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYWN0aXZlS2V5LCBhY3RpdmVJZCk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbYWN0aXZlSWQsIGFjdGl2ZUtleV0pO1xuXG4gIC8vIFJlZmxlY3QgY2hhdC1kcml2ZW4gdXBzZXJ0cyBpbnN0YW50bHlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBvblVwc2VydChldjogRXZlbnQpIHtcbiAgICAgIGNvbnN0IGNlID0gZXYgYXMgQ3VzdG9tRXZlbnQ7XG4gICAgICBjb25zdCBpdGVtID0gY2U/LmRldGFpbD8uaXRlbSBhcyBhbnk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0uaWQpIHJldHVybjtcbiAgICAgIHNldEl0ZW1zKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHByZXYuZmluZEluZGV4KCh4KSA9PiB4LmlkID09PSBpdGVtLmlkKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICBuZXh0W2lkeF0gPSB7IC4uLm5leHRbaWR4XSwgLi4uaXRlbSB9IGFzIGFueTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gWy4uLnByZXYsIGl0ZW1dO1xuICAgICAgfSk7XG4gICAgICBpZiAoYWN0aXZlSWQgPT09IGl0ZW0uaWQpIHtcbiAgICAgICAgc2V0Rm9ybSh7IGlkOiBpdGVtLmlkLCBuYW1lOiBpdGVtLm5hbWUsIHJvbGU6IGl0ZW0ucm9sZSB8fCBcIlwiLCBzdW1tYXJ5OiBpdGVtLnN1bW1hcnkgfHwgXCJcIiwgaW1hZ2VVcmw6IChpdGVtIGFzIGFueSkuaW1hZ2VVcmwgfHwgXCJcIiwgdHJhaXRzOiBpdGVtLnRyYWl0cyB8fCBudWxsIH0pO1xuICAgICAgICBzZXRUcmFpdHMoaXRlbS50cmFpdHMgfHwge30pO1xuICAgICAgfVxuICAgICAgbm90aWZ5KFwiQ2hhcmFjdGVyIHVwZGF0ZWQgdmlhIGNoYXRcIik7XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6Y2hhcmFjdGVyLXVwc2VydCcsIG9uVXBzZXJ0IGFzIGFueSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3b3Jrc3BhY2U6Y2hhcmFjdGVyLXVwc2VydCcsIG9uVXBzZXJ0IGFzIGFueSk7XG4gIH0sIFthY3RpdmVJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhY3RpdmVJZCkgcmV0dXJuO1xuICAgIGlmIChhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIpIHtcbiAgICAgIHNldEZvcm0oeyBuYW1lOiBcIlwiIH0pO1xuICAgICAgc2V0VHJhaXRzKHt9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXQgPSBpdGVtcy5maW5kKCh4KSA9PiB4LmlkID09PSBhY3RpdmVJZCk7XG4gICAgaWYgKCFpdCkgcmV0dXJuO1xuICAgIHNldEZvcm0oeyBpZDogaXQuaWQsIG5hbWU6IGl0Lm5hbWUsIHJvbGU6IGl0LnJvbGUgfHwgXCJcIiwgc3VtbWFyeTogaXQuc3VtbWFyeSB8fCBcIlwiLCBpbWFnZVVybDogaXQuaW1hZ2VVcmwgfHwgXCJcIiwgdHJhaXRzOiBpdC50cmFpdHMgfHwgbnVsbCB9KTtcbiAgICBzZXRUcmFpdHMoaXQudHJhaXRzIHx8IHt9KTtcbiAgfSwgW2FjdGl2ZUlkLCBpdGVtc10pO1xuXG4gIGNvbnN0IGZpbHRlcmVkID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcSA9IGZpbHRlci50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoIXEpIHJldHVybiBpdGVtcztcbiAgICByZXR1cm4gaXRlbXMuZmlsdGVyKCh4KSA9PiAoeC5uYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwgKHgucm9sZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpKTtcbiAgfSwgW2l0ZW1zLCBmaWx0ZXJdKTtcblxuICBjb25zdCBvbk5ldyA9ICgpID0+IHtcbiAgICBzZXRBY3RpdmVJZChcIl9fbmV3X19cIik7XG4gICAgc2V0Rm9ybSh7IG5hbWU6IFwiXCIgfSk7XG4gICAgc2V0VHJhaXRzKHt9KTtcbiAgfTtcblxuICAvLyBSZW1vdmVkIGJyYWluc3Rvcm0vcmVmaW5lIHN1Z2dlc3Rpb24gbG9naWNcblxuICBjb25zdCBub3RpZnkgPSAobXNnOiBzdHJpbmcpID0+IHtcbiAgICBpZiAodG9hc3RUaW1lci5jdXJyZW50KSBjbGVhclRpbWVvdXQodG9hc3RUaW1lci5jdXJyZW50KTtcbiAgICBzZXRUb2FzdChtc2cpO1xuICAgIHRvYXN0VGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4gc2V0VG9hc3QoXCJcIiksIDI1MDApO1xuICB9O1xuXG4gIGNvbnN0IG9uVXBsb2FkRmlsZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChmaWxlOiBGaWxlKSA9PiB7XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgc2V0VXBsb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBidWNrZXQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9DSEFSX0JVQ0tFVCB8fCBcImNoYXJhY3Rlci1pbWFnZXNcIjtcbiAgICAgIGNvbnN0IGV4dCA9IGZpbGUubmFtZS5zcGxpdChcIi5cIikucG9wKCkgfHwgXCJqcGdcIjtcbiAgICAgIGNvbnN0IHBhdGggPSBgJHtwcm9qZWN0SWR9LyR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKX0uJHtleHR9YDtcbiAgICAgIGNvbnN0IHsgZXJyb3I6IHVwRXJyIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlLmZyb20oYnVja2V0KS51cGxvYWQocGF0aCwgZmlsZSwgeyB1cHNlcnQ6IHRydWUsIGNvbnRlbnRUeXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgICBpZiAodXBFcnIpIHRocm93IHVwRXJyO1xuICAgICAgY29uc3QgeyBkYXRhIH0gPSBzdXBhYmFzZS5zdG9yYWdlLmZyb20oYnVja2V0KS5nZXRQdWJsaWNVcmwocGF0aCk7XG4gICAgICBjb25zdCB1cmwgPSBkYXRhLnB1YmxpY1VybDtcbiAgICAgIHNldEZvcm0oKGYpID0+ICh7IC4uLmYsIGltYWdlVXJsOiB1cmwgfSkpO1xuICAgICAgbm90aWZ5KFwiSW1hZ2UgdXBsb2FkZWRcIik7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBub3RpZnkoZT8ubWVzc2FnZSB8fCBcIlVwbG9hZCBmYWlsZWRcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFVwbG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbcHJvamVjdElkLCBzdXBhYmFzZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZWwgPSBkcm9wUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgIGNvbnN0IG9uRHJvcCA9IChlOiBEcmFnRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGYgPSBlLmRhdGFUcmFuc2Zlcj8uZmlsZXM/LlswXTtcbiAgICAgIGlmIChmKSB2b2lkIG9uVXBsb2FkRmlsZShmKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJyaW5nLTJcIiwgXCJyaW5nLWJsdWUtNTAwXCIpO1xuICAgIH07XG4gICAgY29uc3Qgb25EcmFnID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChcInJpbmctMlwiLCBcInJpbmctYmx1ZS01MDBcIik7XG4gICAgfTtcbiAgICBjb25zdCBvbkxlYXZlID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShcInJpbmctMlwiLCBcInJpbmctYmx1ZS01MDBcIik7XG4gICAgfTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBvbkRyb3AgYXMgYW55KTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgb25EcmFnIGFzIGFueSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdsZWF2ZVwiLCBvbkxlYXZlIGFzIGFueSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIG9uRHJvcCBhcyBhbnkpO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIG9uRHJhZyBhcyBhbnkpO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyYWdsZWF2ZVwiLCBvbkxlYXZlIGFzIGFueSk7XG4gICAgfTtcbiAgfSwgW29uVXBsb2FkRmlsZV0pO1xuXG4gIC8vIC0tLS0tIFRyYWl0cyBlZGl0b3IgaGVscGVycyAoc3RyaW5ncy1vbmx5IHZhbHVlcywgYXJyYXlzIHN1cHBvcnRlZCwgZGVwdGg8PTUpIC0tLS0tXG4gIGNvbnN0IGNsb25lID0gKG86IGFueSkgPT4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvID8/IHt9KSk7XG4gIGNvbnN0IGlzT2JqID0gKHY6IGFueSkgPT4gdiAmJiB0eXBlb2YgdiA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodik7XG5cbiAgY29uc3Qgc2V0VmFsID0gKHBhdGg6IEFycmF5PHN0cmluZ3xudW1iZXI+LCB2YWw6IGFueSkgPT4ge1xuICAgIHNldFRyYWl0cygoY3VycjogYW55KSA9PiB7XG4gICAgICBjb25zdCBueHQgPSBjbG9uZShjdXJyKTtcbiAgICAgIGxldCByZWY6IGFueSA9IG54dDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIHJlZiA9IHJlZltwYXRoW2ldXTtcbiAgICAgIHJlZltwYXRoW3BhdGgubGVuZ3RoIC0gMV1dID0gdmFsO1xuICAgICAgcmV0dXJuIG54dDtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZGVsS2V5ID0gKHBhdGhUb1BhcmVudDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIGtleTogc3RyaW5nfG51bWJlcikgPT4ge1xuICAgIHNldFRyYWl0cygoY3VycjogYW55KSA9PiB7XG4gICAgICBjb25zdCBueHQgPSBjbG9uZShjdXJyKTtcbiAgICAgIGxldCByZWY6IGFueSA9IG54dDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aFRvUGFyZW50Lmxlbmd0aDsgaSsrKSByZWYgPSByZWZbcGF0aFRvUGFyZW50W2ldXTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlZikgJiYgdHlwZW9mIGtleSA9PT0gJ251bWJlcicpIHJlZi5zcGxpY2Uoa2V5LCAxKTtcbiAgICAgIGVsc2UgaWYgKHJlZiAmJiB0eXBlb2YgcmVmID09PSAnb2JqZWN0JykgZGVsZXRlIHJlZltrZXkgYXMgYW55XTtcbiAgICAgIHJldHVybiBueHQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHJlbmFtZUtleSA9IChwYXRoVG9QYXJlbnQ6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBvbGRLZXk6IHN0cmluZywgbmV3S2V5OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIW5ld0tleSkgcmV0dXJuO1xuICAgIHNldFRyYWl0cygoY3VycjogYW55KSA9PiB7XG4gICAgICBjb25zdCBueHQgPSBjbG9uZShjdXJyKTtcbiAgICAgIGxldCByZWY6IGFueSA9IG54dDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aFRvUGFyZW50Lmxlbmd0aDsgaSsrKSByZWYgPSByZWZbcGF0aFRvUGFyZW50W2ldXTtcbiAgICAgIGlmICghcmVmIHx8IHR5cGVvZiByZWYgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocmVmKSkgcmV0dXJuIG54dDtcbiAgICAgIGlmIChvbGRLZXkgPT09IG5ld0tleSkgcmV0dXJuIG54dDtcbiAgICAgIGNvbnN0IHZhbCA9IHJlZltvbGRLZXldO1xuICAgICAgZGVsZXRlIHJlZltvbGRLZXldO1xuICAgICAgcmVmW25ld0tleV0gPSB2YWw7XG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBhZGRDaGlsZCA9IChwYXRoVG9PYmo6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBkZXB0aDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGRlcHRoID49IDUpIHJldHVybjsgLy8gZGVwdGggbGltaXRcbiAgICBzZXRUcmFpdHMoKGN1cnI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgbnh0ID0gY2xvbmUoY3Vycik7XG4gICAgICBsZXQgcmVmOiBhbnkgPSBueHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhUb09iai5sZW5ndGg7IGkrKykgcmVmID0gcmVmW3BhdGhUb09ialtpXV07XG4gICAgICBpZiAoIXJlZiB8fCB0eXBlb2YgcmVmICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJlZikpIHJldHVybiBueHQ7XG4gICAgICBsZXQgYmFzZSA9ICdrZXknOyBsZXQgaTIgPSAxOyBsZXQga2V5ID0gYmFzZTtcbiAgICAgIHdoaWxlIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVmLCBrZXkpKSB7IGtleSA9IGAke2Jhc2V9LSR7aTIrK31gOyB9XG4gICAgICByZWZba2V5XSA9IFwiXCI7IC8vIGRlZmF1bHQgYXMgc3RyaW5nIGxlYWZcbiAgICAgIHJldHVybiBueHQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGFkZFJvb3RLZXkgPSAoKSA9PiB7XG4gICAgc2V0VHJhaXRzKChjdXJyOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG54dCA9IGNsb25lKGN1cnIpO1xuICAgICAgbGV0IGJhc2UgPSAna2V5JzsgbGV0IGkgPSAxOyBsZXQgayA9IGJhc2U7XG4gICAgICB3aGlsZSAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG54dCwgaykpIHsgayA9IGAke2Jhc2V9LSR7aSsrfWA7IH1cbiAgICAgIChueHQgYXMgYW55KVtrXSA9IFwiXCI7XG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBjb252ZXJ0VHlwZSA9IChwYXRoOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgcGFyZW50UGF0aDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIGtleTogc3RyaW5nLCBuZXh0VHlwZTogJ3N0cmluZyd8J29iamVjdCd8J2FycmF5JywgZGVwdGg6IG51bWJlcikgPT4ge1xuICAgIHNldFRyYWl0cygoY3VycjogYW55KSA9PiB7XG4gICAgICBjb25zdCBueHQgPSBjbG9uZShjdXJyKTtcbiAgICAgIGxldCByZWY6IGFueSA9IG54dDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyZW50UGF0aC5sZW5ndGg7IGkrKykgcmVmID0gcmVmW3BhcmVudFBhdGhbaV1dO1xuICAgICAgaWYgKCFyZWYgfHwgdHlwZW9mIHJlZiAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShyZWYpKSByZXR1cm4gbnh0O1xuICAgICAgaWYgKG5leHRUeXBlID09PSAnc3RyaW5nJykgcmVmW2tleV0gPSBcIlwiO1xuICAgICAgZWxzZSBpZiAobmV4dFR5cGUgPT09ICdvYmplY3QnKSByZWZba2V5XSA9IGRlcHRoID49IDUgPyBcIlwiIDoge307XG4gICAgICBlbHNlIGlmIChuZXh0VHlwZSA9PT0gJ2FycmF5JykgcmVmW2tleV0gPSBbXSBhcyBzdHJpbmdbXTtcbiAgICAgIHJldHVybiBueHQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGFkZEFycmF5SXRlbSA9IChwYXRoVG9BcnI6IEFycmF5PHN0cmluZ3xudW1iZXI+KSA9PiB7XG4gICAgc2V0VHJhaXRzKChjdXJyOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG54dCA9IGNsb25lKGN1cnIpO1xuICAgICAgbGV0IHJlZjogYW55ID0gbnh0O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoVG9BcnIubGVuZ3RoOyBpKyspIHJlZiA9IHJlZltwYXRoVG9BcnJbaV1dO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVmKSkgcmVmLnB1c2goXCJcIik7XG4gICAgICByZXR1cm4gbnh0O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEV4cG9zZSBoYW5kbGVycyB0byBuZXN0ZWQgVHJhaXRPYmplY3QvVHJhaXRSb3cgd2l0aG91dCBwcm9wLWRyaWxsaW5nXG4gIChUcmFpdE9iamVjdCBhcyBhbnkpLl9wYXJlbnQgPSB7XG4gICAgc2V0VmFsLFxuICAgIGRlbEtleSxcbiAgICByZW5hbWVLZXksXG4gICAgYWRkQ2hpbGQsXG4gICAgY29udmVydFR5cGUsXG4gICAgYWRkQXJyYXlJdGVtLFxuICB9IGFzIFRyYWl0Q3R4O1xuXG4gIGNvbnN0IG9uU2F2ZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWZvcm0ubmFtZS50cmltKCkpIHtcbiAgICAgIG5vdGlmeShcIk5hbWUgaXMgcmVxdWlyZWRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZXF1aXJlSW1hZ2UgJiYgIWZvcm0uaW1hZ2VVcmwpIHtcbiAgICAgIG5vdGlmeShcIkltYWdlIGlzIHJlcXVpcmVkIGluIG1hbmh3YSBtb2RlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRyYWl0c09iaiA9IHRyYWl0cztcbiAgICAgIGlmIChhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmNyZWF0ZUNoYXJhY3Rlcihwcm9qZWN0SWQsIHsgbmFtZTogZm9ybS5uYW1lLnRyaW0oKSwgcm9sZTogZm9ybS5yb2xlIHx8IHVuZGVmaW5lZCwgc3VtbWFyeTogZm9ybS5zdW1tYXJ5IHx8IHVuZGVmaW5lZCwgaW1hZ2VVcmw6IGZvcm0uaW1hZ2VVcmwgfHwgdW5kZWZpbmVkLCB0cmFpdHM6IHRyYWl0c09iaiB9KTtcbiAgICAgICAgc2V0SXRlbXMoKHByZXYpID0+IFsuLi5wcmV2LCByZXNdKTtcbiAgICAgICAgc2V0QWN0aXZlSWQocmVzLmlkKTtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSWQpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnVwZGF0ZUNoYXJhY3Rlcihwcm9qZWN0SWQsIGFjdGl2ZUlkLCB7IG5hbWU6IGZvcm0ubmFtZS50cmltKCksIHJvbGU6IGZvcm0ucm9sZSB8fCB1bmRlZmluZWQsIHN1bW1hcnk6IGZvcm0uc3VtbWFyeSB8fCB1bmRlZmluZWQsIGltYWdlVXJsOiBmb3JtLmltYWdlVXJsIHx8IHVuZGVmaW5lZCwgdHJhaXRzOiB0cmFpdHNPYmogfSk7XG4gICAgICAgIHNldEl0ZW1zKChwcmV2KSA9PiBwcmV2Lm1hcCgoeCkgPT4gKHguaWQgPT09IHJlcy5pZCA/IHJlcyA6IHgpKSk7XG4gICAgICB9XG4gICAgICBub3RpZnkoXCJTYXZlZFwiKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIG5vdGlmeShlPy5tZXNzYWdlIHx8IFwiU2F2ZSBmYWlsZWRcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uRGVsZXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghYWN0aXZlSWQgfHwgYWN0aXZlSWQgPT09IFwiX19uZXdfX1wiKSByZXR1cm47XG4gICAgaWYgKCFjb25maXJtKFwiRGVsZXRlIHRoaXMgY2hhcmFjdGVyP1wiKSkgcmV0dXJuO1xuICAgIHNldERlbGV0aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhcGkuZGVsZXRlQ2hhcmFjdGVyKHByb2plY3RJZCwgYWN0aXZlSWQpO1xuICAgICAgc2V0SXRlbXMoKHByZXYpID0+IHByZXYuZmlsdGVyKCh4KSA9PiB4LmlkICE9PSBhY3RpdmVJZCkpO1xuICAgICAgc2V0QWN0aXZlSWQobnVsbCk7XG4gICAgICBzZXRGb3JtKHsgbmFtZTogXCJcIiB9KTtcbiAgICAgIHNldFRyYWl0cyh7fSk7XG4gICAgICBub3RpZnkoXCJEZWxldGVkXCIpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgbm90aWZ5KGU/Lm1lc3NhZ2UgfHwgXCJEZWxldGUgZmFpbGVkXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXREZWxldGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuICBjb25zdCBhY3RpdmUgPSBhY3RpdmVJZCA9PT0gXCJfX25ld19fXCIgPyBmb3JtIDogaXRlbXMuZmluZCgoeCkgPT4geC5pZCA9PT0gYWN0aXZlSWQpIHx8IG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBncmlkIGdyaWQtcm93cy1bYXV0b18xZnJdXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ib3JkZXItZGVmYXVsdCBweC02IHB5LTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+Q2hhcmFjdGVyIE1hbmFnZW1lbnQ8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+e2NvdW50fSBDaGFyYWN0ZXJzPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbk5ld30gY2xhc3NOYW1lPVwicm91bmRlZC1sZyBiZy1iZy1lbGV2YXRlZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGhvdmVyOmJvcmRlci1hY2NlbnQgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIHB4LTQgcHktMyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIGhvdmVyOi10cmFuc2xhdGUteS0wLjVcIj5cbiAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgTmV3IENoYXJhY3RlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLTAgZ3JpZFwiIHN0eWxlPXt7IGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMzUlIDY1JVwiIH19PlxuICAgICAgICA8YXNpZGUgY2xhc3NOYW1lPVwiYm9yZGVyLXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IG1pbi1oLTAgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17ZmlsdGVyfSBvbkNoYW5nZT17KGUpID0+IHNldEZpbHRlcihlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiU2VhcmNoIGNoYXJhY3RlcnNcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcGwtOSBwci0zIHB5LTIuNSB0ZXh0LXNtIHRleHQtdGV4dC1wcmltYXJ5IHBsYWNlaG9sZGVyOnRleHQtdGV4dC10ZXJ0aWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudFwiIC8+XG4gICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwidy00IGgtNCBhYnNvbHV0ZSBsZWZ0LTMgdG9wLTMgdGV4dC10ZXh0LXRlcnRpYXJ5XCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBweC0zIHBiLTNcIj5cbiAgICAgICAgICAgIHtsb2FkaW5nICYmIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IHB4LTIgcHktMlwiPkxvYWRpbmfigKY8L2Rpdj59XG4gICAgICAgICAgICB7ZXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTQwMCBweC0yIHB5LTIgYmctcmVkLTk1MC8yMCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMFwiPntlcnJvcn08L2Rpdj59XG4gICAgICAgICAgICB7IWxvYWRpbmcgJiYgIWZpbHRlcmVkLmxlbmd0aCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgdGV4dC1jZW50ZXIgdGV4dC10ZXh0LXRlcnRpYXJ5IHRleHQtc21cIj5ObyBjaGFyYWN0ZXJzIHlldC4gQ3JlYXRlIHlvdXIgZmlyc3QgY2hhcmFjdGVyITwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtmaWx0ZXJlZC5tYXAoKGMpID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e2MuaWR9IG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZUlkKGMuaWQhKX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKFwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTMgcm91bmRlZC1tZCBtYi0yIHRyYW5zaXRpb24tYWxsXCIsIGFjdGl2ZUlkPT09Yy5pZCA/IFwiYm9yZGVyLWwtMiBib3JkZXItYmx1ZS01MDAgYmctYmctZWxldmF0ZWRcIiA6IFwiaG92ZXI6YmctYmctaG92ZXJcIikgfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiByb3VuZGVkLWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IG92ZXJmbG93LWhpZGRlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICB7Yy5pbWFnZVVybCA/IDxpbWcgc3JjPXtjLmltYWdlVXJsfSBhbHQ9e2MubmFtZX0gY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIiAvPiA6IDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnlcIj5ObyBJbWc8L2Rpdj59XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtdGV4dC1wcmltYXJ5IHRydW5jYXRlXCI+e2MubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC10ZXJ0aWFyeSB0cnVuY2F0ZVwiPntjLnJvbGUgfHwgXCJcIn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2FzaWRlPlxuXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cIm1pbi1oLTAgb3ZlcmZsb3cteS1hdXRvIHAtNlwiIGFyaWEtbGFiZWw9XCJDaGFyYWN0ZXIgZGV0YWlsc1wiPlxuICAgICAgICAgIHthY3RpdmVJZCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgPGRpdiByZWY9e2Ryb3BSZWZ9IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIG1iLTYgcC00IHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1lbGV2YXRlZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zMCBoLTMwIHctWzEyMHB4XSBoLVsxMjBweF0gcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlbiBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IGJnLWJnLXByaW1hcnkgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIHtmb3JtLmltYWdlVXJsID8gPGltZyBzcmM9e2Zvcm0uaW1hZ2VVcmx9IGFsdD1cImF2YXRhclwiIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz4gOiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5XCI+Tm8gSW1hZ2U8L2Rpdj59XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwicHgtMyBweS0yIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCBiZy1iZy1wcmltYXJ5IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxVcGxvYWQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIHtmb3JtLmltYWdlVXJsID8gXCJDaGFuZ2UgSW1hZ2VcIiA6IFwiVXBsb2FkIEltYWdlXCJ9XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGFjY2VwdD1cImltYWdlLypcIiBjbGFzc05hbWU9XCJoaWRkZW5cIiBvbkNoYW5nZT17KGUpID0+IHsgY29uc3QgZiA9IGUudGFyZ2V0LmZpbGVzPy5bMF07IGlmIChmKSB2b2lkIG9uVXBsb2FkRmlsZShmKTsgfX0gLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICB7Zm9ybS5pbWFnZVVybCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0Rm9ybSgoZik9Pih7IC4uLmYsIGltYWdlVXJsOiBcIlwiIH0pKX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXRlcnRpYXJ5IGhvdmVyOnRleHQtcmVkLTQwMCB0ZXh0LXNtIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3VwbG9hZGluZyAmJiA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PExvYWRlcjIgY2xhc3NOYW1lPVwidy0zIGgtMyBhbmltYXRlLXNwaW5cIiAvPiBVcGxvYWRpbmfigKY8L2Rpdj59XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+TmFtZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17Zm9ybS5uYW1lfSBvbkNoYW5nZT17KGUpPT5zZXRGb3JtKChmKT0+KHsgLi4uZiwgbmFtZTogZS50YXJnZXQudmFsdWUgfSkpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctcHJpbWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHJvdW5kZWQtbWQgcHgtNCBweS0yLjUgdGV4dC10ZXh0LXByaW1hcnkgb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnRcIiAvPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnkgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5Sb2xlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtmb3JtLnJvbGUgfHwgXCJcIn0gb25DaGFuZ2U9eyhlKT0+c2V0Rm9ybSgoZik9Pih7IC4uLmYsIHJvbGU6IGUudGFyZ2V0LnZhbHVlIH0pKX0gbGlzdD1cInJvbGVzXCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTQgcHktMi41IHRleHQtdGV4dC1wcmltYXJ5IG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxkYXRhbGlzdCBpZD1cInJvbGVzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJQcm90YWdvbmlzdFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJBbnRhZ29uaXN0XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlN1cHBvcnRpbmdcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTWVudG9yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkxvdmUgSW50ZXJlc3RcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kYXRhbGlzdD5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+U3VtbWFyeTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17Zm9ybS5zdW1tYXJ5IHx8IFwiXCJ9IG9uQ2hhbmdlPXsoZSk9PnNldEZvcm0oKGYpPT4oeyAuLi5mLCBzdW1tYXJ5OiBlLnRhcmdldC52YWx1ZSB9KSl9IHJvd3M9ezV9IGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC00IHB5LTIuNSB0ZXh0LXRleHQtcHJpbWFyeSBvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCB0ZXh0LXNtXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzExcHhdIHRleHQtdGV4dC10ZXJ0aWFyeVwiPnsoZm9ybS5zdW1tYXJ5IHx8IFwiXCIpLmxlbmd0aH0gY2hhcmFjdGVyczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXRlcnRpYXJ5IHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+VHJhaXRzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2FkZFJvb3RLZXl9IGNsYXNzTmFtZT1cInB4LTIgcHktMSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXhzIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPjxQbHVzIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBBZGQga2V5PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmtleXModHJhaXRzIHx8IHt9KS5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnlcIj5ObyB0cmFpdHMgeWV0LiBBZGQgYSBrZXkuPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxUcmFpdE9iamVjdCBvYmo9e3RyYWl0c30gcGF0aD17W119IGRlcHRoPXsxfSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwdC00XCI+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uRGVsZXRlfSBkaXNhYmxlZD17IWFjdGl2ZUlkIHx8IGFjdGl2ZUlkPT09XCJfX25ld19fXCIgfHwgZGVsZXRpbmd9IGNsYXNzTmFtZT1cInRleHQtcmVkLTQwMCBob3Zlcjp0ZXh0LXJlZC0zMDAgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPFRyYXNoMiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgRGVsZXRlIENoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBzZXRBY3RpdmVJZChudWxsKTsgfX0gY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOmJnLWJnLWhvdmVyXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25TYXZlfSBkaXNhYmxlZD17c2F2aW5nfSBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZC1tZCBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3NhdmluZyA/IDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgYW5pbWF0ZS1zcGluXCIgLz4gU2F2aW5n4oCmPC9zcGFuPiA6IFwiU2F2ZSBDaGFyYWN0ZXJcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtdGV4dC10ZXJ0aWFyeVwiPlNlbGVjdCBhIGNoYXJhY3RlciBvciBjcmVhdGUgYSBuZXcgb25lLjwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7dG9hc3QgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIHRvcC00IHJpZ2h0LTQgei01MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0zIHJvdW5kZWQtbGcgYmctYmctZWxldmF0ZWQgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCB0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIHNoYWRvdy1lbGV2YXRpb25cIj57dG9hc3R9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy8gLS0tIE5lc3RlZCBUcmFpdHMgRWRpdG9yIChzdHJpbmdzLW9ubHkgbGVhdmVzLCBhcnJheXMgc3VwcG9ydGVkKSAtLS1cbnR5cGUgVHJhaXRDdHggPSB7XG4gIHNldFZhbDogKHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCB2OiBhbnkpID0+IHZvaWQ7XG4gIGRlbEtleTogKHBwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgazogYW55KSA9PiB2b2lkO1xuICByZW5hbWVLZXk6IChwcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIG9sZEs6IHN0cmluZywgbmV3Szogc3RyaW5nKSA9PiB2b2lkO1xuICBhZGRDaGlsZDogKHA6IEFycmF5PHN0cmluZ3xudW1iZXI+LCBkOiBudW1iZXIpID0+IHZvaWQ7XG4gIGNvbnZlcnRUeXBlOiAocDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIHBwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgazogc3RyaW5nLCB0OiAnc3RyaW5nJ3wnb2JqZWN0J3wnYXJyYXknLCBkOiBudW1iZXIpID0+IHZvaWQ7XG4gIGFkZEFycmF5SXRlbTogKHA6IEFycmF5PHN0cmluZ3xudW1iZXI+KSA9PiB2b2lkO1xufTtcbmZ1bmN0aW9uIFRyYWl0T2JqZWN0KHsgb2JqLCBwYXRoLCBkZXB0aCB9OiB7IG9iajogYW55OyBwYXRoOiBBcnJheTxzdHJpbmd8bnVtYmVyPjsgZGVwdGg6IG51bWJlciB9KSB7XG4gIGNvbnN0IFtfLCBzZXRUaWNrXSA9IHVzZVN0YXRlKDApO1xuICAvLyBBY2Nlc3MgZWRpdG9yIGZ1bmN0aW9ucyBmcm9tIG91dGVyIHNjb3BlIHZpYSB3aW5kb3cgcHJveHkgaXMgbm90IGlkZWFsOyB3ZSByZWx5IG9uIGNsb3N1cmVzIGluIHBhcmVudCBjb21wb25lbnQuXG4gIC8vIFRoaXMgaW5saW5lIGNvbXBvbmVudCBkZXBlbmRzIG9uIGZ1bmN0aW9ucyBib3VuZCBvbiB3aW5kb3cgYnkgcGFyZW50IGNsb3N1cmUuXG4gIC8vIFRvIGtlZXAgZXZlcnl0aGluZyBpbiBvbmUgZmlsZSBhbmQgYXZvaWQgcHJvcC1kcmlsbGluZyBtYW55IGhhbmRsZXJzLCB3ZSB3aWxsIHJlLWdyYWIgdGhlbSBmcm9tIFJlYWN0IGNvbnRleHQgdmlhIGNsb3N1cmVzLlxuICBjb25zdCBwYXJlbnQ6IFRyYWl0Q3R4IHwgdW5kZWZpbmVkID0gKFRyYWl0T2JqZWN0IGFzIGFueSkuX3BhcmVudCBhcyBUcmFpdEN0eCB8IHVuZGVmaW5lZDtcbiAgY29uc3QgY3R4OiBUcmFpdEN0eCA9IHBhcmVudCB8fCB1c2VDaGFyYWN0ZXJNYW5hZ2VyQ29udGV4dCgpO1xuICAoVHJhaXRPYmplY3QgYXMgYW55KS5fcGFyZW50ID0gY3R4O1xuXG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmogfHwge30pO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICB7a2V5cy5tYXAoKGspID0+IChcbiAgICAgICAgPFRyYWl0Um93IGtleT17a30gaz17a30gdj17KG9iaiBhcyBhbnkpW2tdfSBwYXJlbnRQYXRoPXtwYXRofSBkZXB0aD17ZGVwdGh9IGN0eD17Y3R4fSAvPlxuICAgICAgKSl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFRyYWl0Um93KHsgaywgdiwgcGFyZW50UGF0aCwgZGVwdGgsIGN0eCB9OiB7IGs6IHN0cmluZzsgdjogYW55OyBwYXJlbnRQYXRoOiBBcnJheTxzdHJpbmd8bnVtYmVyPjsgZGVwdGg6IG51bWJlcjsgY3R4OiBUcmFpdEN0eCB9KSB7XG4gIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KHYpO1xuICBjb25zdCBpc09iamVjdCA9IHYgJiYgdHlwZW9mIHYgPT09ICdvYmplY3QnICYmICFpc0FycmF5O1xuICBjb25zdCB0eXBlOiAnc3RyaW5nJ3wnb2JqZWN0J3wnYXJyYXknID0gaXNBcnJheSA/ICdhcnJheScgOiAoaXNPYmplY3QgPyAnb2JqZWN0JyA6ICdzdHJpbmcnKTtcbiAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPihrKTtcbiAgdXNlRWZmZWN0KCgpID0+IHsgc2V0TmFtZShrKTsgfSwgW2tdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHAtMiBiZy1iZy1lbGV2YXRlZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB2YWx1ZT17bmFtZX1cbiAgICAgICAgICBvbkNoYW5nZT17KGUpPT5zZXROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICBvbkJsdXI9eygpPT57IGlmIChuYW1lICE9PSBrICYmIG5hbWUudHJpbSgpKSBjdHgucmVuYW1lS2V5KHBhcmVudFBhdGgsIGssIG5hbWUudHJpbSgpKTsgfX1cbiAgICAgICAgICBvbktleURvd249eyhlKT0+eyBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHsgKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmJsdXIoKTsgfSB9fVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwia2V5XCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LW5vbmUgdy00OCBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC0yIHB5LTEuNSB0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50XCJcbiAgICAgICAgLz5cbiAgICAgICAgPHNlbGVjdCB2YWx1ZT17dHlwZX0gb25DaGFuZ2U9eyhlKT0+Y3R4LmNvbnZlcnRUeXBlKFsuLi5wYXJlbnRQYXRoLCBrXSwgcGFyZW50UGF0aCwgaywgZS50YXJnZXQudmFsdWUgYXMgYW55LCBkZXB0aCl9IGNsYXNzTmFtZT1cImZsZXgtbm9uZSB3LTI4IGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTIgcHktMS41IHRleHQtdGV4dC1wcmltYXJ5IHRleHQtc20gb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnRcIj5cbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic3RyaW5nXCI+U3RyaW5nPC9vcHRpb24+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9iamVjdFwiIGRpc2FibGVkPXtkZXB0aD49NX0+T2JqZWN0PC9vcHRpb24+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFycmF5XCI+QXJyYXk8L29wdGlvbj5cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIHt0eXBlPT09J3N0cmluZycgJiYgKFxuICAgICAgICAgIDxpbnB1dCB2YWx1ZT17U3RyaW5nKHYgfHwgJycpfSBvbkNoYW5nZT17KGUpPT5jdHguc2V0VmFsKFsuLi5wYXJlbnRQYXRoLCBrXSwgZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cInZhbHVlXCIgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWJnLXByaW1hcnkgYm9yZGVyIGJvcmRlci1ib3JkZXItZGVmYXVsdCByb3VuZGVkLW1kIHB4LTIgcHktMS41IHRleHQtdGV4dC1wcmltYXJ5IHRleHQtc20gb3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnRcIiAvPlxuICAgICAgICApfVxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT5jdHguZGVsS2V5KHBhcmVudFBhdGgsIGspfSBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtdGVydGlhcnkgaG92ZXI6dGV4dC1yZWQtNDAwIHRleHQtc20gbWwtYXV0b1wiPjxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICB7dHlwZT09PSdvYmplY3QnICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIG1sLTRcIj5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT5jdHguYWRkQ2hpbGQoWy4uLnBhcmVudFBhdGgsIGtdLCBkZXB0aCsxKX0gZGlzYWJsZWQ9e2RlcHRoPj01fSBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC14cyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj48UGx1cyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQWRkIGNoaWxkPC9idXR0b24+XG4gICAgICAgICAgPFRyYWl0T2JqZWN0IG9iaj17dn0gcGF0aD17Wy4uLnBhcmVudFBhdGgsIGtdfSBkZXB0aD17ZGVwdGgrMX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAge3R5cGU9PT0nYXJyYXknICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIG1sLTQgc3BhY2UteS0yXCI+XG4gICAgICAgICAgeyh2IGFzIHN0cmluZ1tdKS5tYXAoKGl0ZW0sIGlkeCkgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtdGVydGlhcnlcIj5be2lkeH1dPC9zcGFuPlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e2l0ZW19IG9uQ2hhbmdlPXsoZSk9PmN0eC5zZXRWYWwoWy4uLnBhcmVudFBhdGgsIGssIGlkeF0sIGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9XCJ2YWx1ZVwiIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iZy1wcmltYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyLWRlZmF1bHQgcm91bmRlZC1tZCBweC0yIHB5LTEuNSB0ZXh0LXRleHQtcHJpbWFyeSB0ZXh0LXNtIG91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50XCIgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+Y3R4LmRlbEtleShbLi4ucGFyZW50UGF0aCwga10sIGlkeCl9IGNsYXNzTmFtZT1cInRleHQtdGV4dC10ZXJ0aWFyeSBob3Zlcjp0ZXh0LXJlZC00MDAgdGV4dC1zbVwiPjxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+Y3R4LmFkZEFycmF5SXRlbShbLi4ucGFyZW50UGF0aCwga10pfSBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlci1kZWZhdWx0IHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0LXByaW1hcnkgdGV4dC14cyBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj48UGx1cyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQWRkIGl0ZW08L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG4vLyBMaWdodHdlaWdodCBjb250ZXh0IHZpYSBjbG9zdXJlIGJpbmRpbmdcbmZ1bmN0aW9uIHVzZUNoYXJhY3Rlck1hbmFnZXJDb250ZXh0KCk6IFRyYWl0Q3R4IHtcbiAgLy8gRmluZCB0aGUgbmVhcmVzdCBDaGFyYWN0ZXJNYW5hZ2VyIGJ5IHdhbGtpbmcgUmVhY3QgY2xvc3VyZS4gSW4gVFNYIHNpbmdsZS1maWxlIGNvbXBvbmVudCwgd2UgcGFzcyBoYW5kbGVycyBieSBwcm9wZXJ0eSBpbiBUcmFpdE9iamVjdC5fcGFyZW50IGFib3ZlLlxuICAvLyBJbnN0ZWFkIG9mIGEgcmVhbCBSZWFjdCBDb250ZXh0IHByb3ZpZGVyIChleHRyYSBib2lsZXJwbGF0ZSksIGV4cG9zZSBub29wIGZhbGxiYWNrczsgdGhleSBnZXQgb3ZlcndyaXR0ZW4gd2hlbiBmaXJzdCBUcmFpdE9iamVjdCByZW5kZXJzLlxuICByZXR1cm4ge1xuICAgIHNldFZhbDogKF9wOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgX3Y6IGFueSkgPT4ge30sXG4gICAgZGVsS2V5OiAoX3BwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgX2s6IGFueSkgPT4ge30sXG4gICAgcmVuYW1lS2V5OiAoX3BwOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgX29sZDogc3RyaW5nLCBfbjogc3RyaW5nKSA9PiB7fSxcbiAgICBhZGRDaGlsZDogKF9wOiBBcnJheTxzdHJpbmd8bnVtYmVyPiwgX2Q6IG51bWJlcikgPT4ge30sXG4gICAgY29udmVydFR5cGU6IChfcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIF9wcDogQXJyYXk8c3RyaW5nfG51bWJlcj4sIF9rOiBzdHJpbmcsIF90OiAnc3RyaW5nJ3wnb2JqZWN0J3wnYXJyYXknLCBfZDogbnVtYmVyKSA9PiB7fSxcbiAgICBhZGRBcnJheUl0ZW06IChfcDogQXJyYXk8c3RyaW5nfG51bWJlcj4pID0+IHt9LFxuICB9O1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlU3VwYWJhc2UiLCJjcmVhdGVBcGkiLCJMb2FkZXIyIiwiUGx1cyIsIlNlYXJjaCIsIlRyYXNoMiIsIlVwbG9hZCIsIlgiLCJjbGFzc05hbWVzIiwieHMiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsInNldEJ5UGF0aCIsImJhc2UiLCJwYXRoIiwidmFsdWUiLCJyb290IiwiY3VyciIsImkiLCJsZW5ndGgiLCJrIiwiZGVsQnlQYXRoIiwidG9OZXN0ZWRGcm9tVGFncyIsInRhZ3MiLCJvYmoiLCJ0IiwicGFydHMiLCJrZXkiLCJzcGxpdCIsIm1hcCIsInMiLCJ0cmltIiwiQ2hhcmFjdGVyTWFuYWdlciIsInByb2plY3RJZCIsInJlcXVpcmVJbWFnZSIsInN1cGFiYXNlIiwiYXBpIiwiaXRlbXMiLCJzZXRJdGVtcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInNldEZpbHRlciIsImFjdGl2ZUlkIiwic2V0QWN0aXZlSWQiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJkZWxldGluZyIsInNldERlbGV0aW5nIiwidG9hc3QiLCJzZXRUb2FzdCIsInRvYXN0VGltZXIiLCJmb3JtIiwic2V0Rm9ybSIsIm5hbWUiLCJ0cmFpdHMiLCJzZXRUcmFpdHMiLCJ1cGxvYWRpbmciLCJzZXRVcGxvYWRpbmciLCJkcm9wUmVmIiwiY2FjaGVLZXkiLCJhY3RpdmVLZXkiLCJoYXNDYWNoZSIsInNldEhhc0NhY2hlIiwiaXRlbXNSZWYiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYXJyIiwiSlNPTiIsInBhcnNlIiwiQXJyYXkiLCJpc0FycmF5IiwidmFsaWQiLCJtb3VudGVkIiwicmVzIiwibGlzdENoYXJhY3RlcnMiLCJuZXh0Iiwic3RyaW5naWZ5IiwiY3VycmVudCIsImUiLCJtZXNzYWdlIiwic2V0SXRlbSIsInYiLCJvblVwc2VydCIsImV2IiwiY2UiLCJpdGVtIiwiZGV0YWlsIiwiaWQiLCJwcmV2IiwiaWR4IiwiZmluZEluZGV4IiwieCIsInJvbGUiLCJzdW1tYXJ5IiwiaW1hZ2VVcmwiLCJub3RpZnkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIml0IiwiZmluZCIsImZpbHRlcmVkIiwicSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJvbk5ldyIsIm1zZyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvblVwbG9hZEZpbGUiLCJmaWxlIiwiYnVja2V0IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0NIQVJfQlVDS0VUIiwiZXh0IiwicG9wIiwiRGF0ZSIsIk1hdGgiLCJub3ciLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwidXBFcnIiLCJzdG9yYWdlIiwiZnJvbSIsInVwbG9hZCIsInVwc2VydCIsImNvbnRlbnRUeXBlIiwidHlwZSIsImRhdGEiLCJnZXRQdWJsaWNVcmwiLCJ1cmwiLCJwdWJsaWNVcmwiLCJmIiwiZWwiLCJvbkRyb3AiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGFUcmFuc2ZlciIsImZpbGVzIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwib25EcmFnIiwiYWRkIiwib25MZWF2ZSIsImNsb25lIiwibyIsImlzT2JqIiwic2V0VmFsIiwidmFsIiwibnh0IiwicmVmIiwiZGVsS2V5IiwicGF0aFRvUGFyZW50Iiwic3BsaWNlIiwicmVuYW1lS2V5Iiwib2xkS2V5IiwibmV3S2V5IiwiYWRkQ2hpbGQiLCJwYXRoVG9PYmoiLCJkZXB0aCIsImkyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYWRkUm9vdEtleSIsImNvbnZlcnRUeXBlIiwicGFyZW50UGF0aCIsIm5leHRUeXBlIiwiYWRkQXJyYXlJdGVtIiwicGF0aFRvQXJyIiwicHVzaCIsIlRyYWl0T2JqZWN0IiwiX3BhcmVudCIsIm9uU2F2ZSIsInRyYWl0c09iaiIsImNyZWF0ZUNoYXJhY3RlciIsInVuZGVmaW5lZCIsInVwZGF0ZUNoYXJhY3RlciIsIm9uRGVsZXRlIiwiY29uZmlybSIsImRlbGV0ZUNoYXJhY3RlciIsImNvdW50IiwiYWN0aXZlIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsInN0eWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsImFzaWRlIiwiaW5wdXQiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwiYyIsImltZyIsInNyYyIsImFsdCIsInNlY3Rpb24iLCJhcmlhLWxhYmVsIiwibGFiZWwiLCJhY2NlcHQiLCJzcGFuIiwibGlzdCIsImRhdGFsaXN0Iiwib3B0aW9uIiwidGV4dGFyZWEiLCJyb3dzIiwia2V5cyIsImRpc2FibGVkIiwiXyIsInNldFRpY2siLCJwYXJlbnQiLCJjdHgiLCJ1c2VDaGFyYWN0ZXJNYW5hZ2VyQ29udGV4dCIsIlRyYWl0Um93IiwiaXNPYmplY3QiLCJzZXROYW1lIiwib25CbHVyIiwib25LZXlEb3duIiwiYmx1ciIsInNlbGVjdCIsIlN0cmluZyIsIl9wIiwiX3YiLCJfcHAiLCJfayIsIl9vbGQiLCJfbiIsIl9kIiwiX3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/workspace/CharacterManager.tsx\n"));

/***/ })

});